{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725",
    "id": 2748482841,
    "node_id": "PR_kwDOAP4Jqs6j0oUZ",
    "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1725",
    "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/1725.diff",
    "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/1725.patch",
    "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1725",
    "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1725/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/6424805039c647c548c609d1c666a3173bddfcaa",
    "number": 1725,
    "state": "open",
    "locked": false,
    "maintainer_can_modify": true,
    "title": "tests: refactor tagged hash verification",
    "user": {
      "login": "josibake",
      "id": 7444140,
      "node_id": "MDQ6VXNlcjc0NDQxNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josibake",
      "html_url": "https://github.com/josibake",
      "followers_url": "https://api.github.com/users/josibake/followers",
      "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
      "organizations_url": "https://api.github.com/users/josibake/orgs",
      "repos_url": "https://api.github.com/users/josibake/repos",
      "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/josibake/received_events",
      "type": "User",
      "site_admin": false,
      "patch_url": null
    },
    "body": "Opened in response to https://github.com/bitcoin-core/secp256k1/pull/1698#discussion_r2269449070\r\n\r\n---\r\n\r\nWe use tagged hashes in `modules/musig`, `modules/schnorrsig`, `modules/ellswift`, and the proposed `modules/silentpayments`. In looking for inspiration on how to add tagged hash midstate verification for https://github.com/bitcoin-core/secp256k1/pull/1698, it seemed like a good opportunity to DRY up the code across all of the modules.\r\n\r\nI chose the convention used in the musig module as this seemed the most readable to me as a reviewer, and also allows for easily grepping for the string values. Since the tags are normally specified as strings in the BIPs, using the string values in the tests seems preferable to specifying the tags character by character (as was done in the schnorrsig and ellswift modules).\r\n\r\nIf its deemed too invasive to refactor the existing modules in this PR, I'm happy to drop the refactor commits for the ellswift and schnorrsig modules. All I need for https://github.com/bitcoin-core/secp256k1/pull/1698 is the first commit which moves the utility function out of the musig module to make it available to use in the silent payments module.",
    "labels": [],
    "created_at": "2025-08-15T10:05:36Z",
    "updated_at": "2025-08-18T09:55:02Z",
    "mergeable": true,
    "mergeable_state": "clean",
    "merged": false,
    "merge_commit_sha": "088ef6a2a92cee1a3cac8088bd7569f6d5cdd43e",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": true,
    "head": {
      "label": "josibake:tagged-hash-test-util",
      "ref": "tagged-hash-test-util",
      "sha": "6424805039c647c548c609d1c666a3173bddfcaa",
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 751433786,
        "node_id": "R_kgDOLMn4Og",
        "name": "secp256k1",
        "full_name": "josibake/secp256k1",
        "owner": {
          "login": "josibake",
          "id": 7444140,
          "node_id": "MDQ6VXNlcjc0NDQxNDA=",
          "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/josibake",
          "html_url": "https://github.com/josibake",
          "followers_url": "https://api.github.com/users/josibake/followers",
          "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
          "organizations_url": "https://api.github.com/users/josibake/orgs",
          "repos_url": "https://api.github.com/users/josibake/repos",
          "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/josibake/received_events",
          "type": "User",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/josibake/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": true,
        "url": "https://api.github.com/repos/josibake/secp256k1",
        "archive_url": "https://api.github.com/repos/josibake/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/josibake/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/josibake/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/josibake/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/josibake/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/josibake/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/josibake/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/josibake/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/josibake/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/josibake/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/josibake/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/josibake/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/josibake/secp256k1/events",
        "forks_url": "https://api.github.com/repos/josibake/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/josibake/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/josibake/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/josibake/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/josibake/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/josibake/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/josibake/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/josibake/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/josibake/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/josibake/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/josibake/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/josibake/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/josibake/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/josibake/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/josibake/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/josibake/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:josibake/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/josibake/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/josibake/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/josibake/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/josibake/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/josibake/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/josibake/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/josibake/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/josibake/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/josibake/secp256k1/hooks",
        "svn_url": "https://github.com/josibake/secp256k1",
        "language": "C",
        "forks_count": 1,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 13508,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-08-15T10:21:11Z",
        "created_at": "2024-02-01T15:52:50Z",
        "updated_at": "2025-08-15T08:25:19Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin-core:master",
      "ref": "master",
      "sha": "d599714147b20dda092ec4af44ef4174d584bb7d",
      "user": {
        "login": "bitcoin-core",
        "id": 13464320,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin-core",
        "html_url": "https://github.com/bitcoin-core",
        "followers_url": "https://api.github.com/users/bitcoin-core/followers",
        "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
        "repos_url": "https://api.github.com/users/bitcoin-core/repos",
        "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
        "type": "Organization",
        "site_admin": false,
        "patch_url": null
      },
      "repo": {
        "id": 16648618,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjY0ODYxOA==",
        "name": "secp256k1",
        "full_name": "bitcoin-core/secp256k1",
        "owner": {
          "login": "bitcoin-core",
          "id": 13464320,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin-core",
          "html_url": "https://github.com/bitcoin-core",
          "followers_url": "https://api.github.com/users/bitcoin-core/followers",
          "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
          "repos_url": "https://api.github.com/users/bitcoin-core/repos",
          "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
          "type": "Organization",
          "site_admin": false,
          "patch_url": null
        },
        "private": false,
        "html_url": "https://github.com/bitcoin-core/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1",
        "archive_url": "https://api.github.com/repos/bitcoin-core/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin-core/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin-core/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin-core/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin-core/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/events",
        "forks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin-core/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin-core/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin-core/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/bitcoin-core/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin-core/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin-core/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin-core/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin-core/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/bitcoin-core/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin-core/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/hooks",
        "svn_url": "https://github.com/bitcoin-core/secp256k1",
        "language": "C",
        "forks_count": 1074,
        "stargazers_count": 2292,
        "watchers_count": 2292,
        "size": 12611,
        "default_branch": "master",
        "open_issues_count": 154,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2025-08-13T11:07:57Z",
        "created_at": "2014-02-08T17:30:06Z",
        "updated_at": "2025-08-17T13:55:22Z",
        "allow_forking": true,
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725"
      }
    },
    "author_association": "MEMBER",
    "draft": false,
    "additions": 36,
    "deletions": 51,
    "changed_files": 4,
    "commits": 3,
    "review_comments": 3,
    "comments": 0
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKGM3NjgxYzFmMjUzODNiMGE4OTNkZWJjMWQ0OTMzMDVhMmIwMTQ4NTI",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/c7681c1f25383b0a893debc1d493305a2b014852",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/c7681c1f25383b0a893debc1d493305a2b014852",
      "tree": {
        "sha": "f909c8d27a02150cf3958b63a700859ca0432715",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/f909c8d27a02150cf3958b63a700859ca0432715"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree f909c8d27a02150cf3958b63a700859ca0432715\nparent d599714147b20dda092ec4af44ef4174d584bb7d\nauthor josibake <josibake@protonmail.com> 1755247049 +0100\ncommitter josibake <josibake@protonmail.com> 1755251719 +0100\n\ntests: moved tagged hash util to tests.c\n\nMove the sha256_tag_test_internal function out of the musig module\nand into tests.c.\n\nThis makes it available to other modules wishing to verify tagged\nhashes without needing to duplicate the function.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmifBAgACgkQity1WMTz\nPWW0/w/+Mr7DT5VUGUQtbxX+RZ2pbdHOpou9j+yQchi6F4ok8ciiOcHtF5xAN0WL\n8MDignaw4QxFHotgW1qLScCQpc5TMGrBwIQGbLBMcTjUDjlMYnGA6iEGLyN4MUZC\n3Kv5cRZ5y8q2lyQax0UN/IPiN8VW5O5H2pAnQQmBTvlHdaa8scvjrfrklKDa093n\nOu9vYwrUvUgL7S9jhbIrweM/87iE88xjxWkWvhi7UjFsUNHPTPbkbUNabUSpErtF\n052s5bngsx4F/VIjnhg9wH6sR0T1GI93UAX+/pOUYj8tCbS675CHO4XV1AvwzmAC\nb+YPrL37VsNhrfRCeeDB2KbuPMyNt05H+pA4xGy9arLeku1PPAMbCIqhDSnQzTVs\nNkxiwh4zyQiRshw7QpHvqkH21YUJZzp00wDGUK0s0wGBedewqVw+BPDudlQMvnoy\nIGSN/38dNHzBjntzXSva6r0gxxXkfl77Vj96AhjtCpBocNc11IQ/b4DZhLb57gJw\nIc3cq9ozlLr0Faq6IWt0vZGoiG8pUCfllGqeooT1eWI/AwMj5Fc8SeUi3xUdoEjq\n9uPh9zhd+W4q1TLC2cTPoTdr61ieGlVYPwBjZ5khf2x7EaIEEsd28++5OdMDroR0\nEZAq5XI4WQ75bVd/77/UpJ5sKAYT9NV0yfAEo92smQor4lDMngs=\n=5Qgh\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/d599714147b20dda092ec4af44ef4174d584bb7d",
          "sha": "d599714147b20dda092ec4af44ef4174d584bb7d",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/d599714147b20dda092ec4af44ef4174d584bb7d"
        }
      ],
      "message": "tests: moved tagged hash util to tests.c\n\nMove the sha256_tag_test_internal function out of the musig module\nand into tests.c.\n\nThis makes it available to other modules wishing to verify tagged\nhashes without needing to duplicate the function.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-08-15T09:55:19Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-08-15T08:37:29Z"
      },
      "sha": "c7681c1f25383b0a893debc1d493305a2b014852"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDhhMTc5ODNiZmJlOGI2MmYzZTZjOGIwODFhNTRjNDE5MDIxYmM0Yzc",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/8a17983bfbe8b62f3e6c8b081a54c419021bc4c7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/8a17983bfbe8b62f3e6c8b081a54c419021bc4c7",
      "tree": {
        "sha": "648dafb4f789be803b51e0bfae33c11e6b4dfd96",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/648dafb4f789be803b51e0bfae33c11e6b4dfd96"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 648dafb4f789be803b51e0bfae33c11e6b4dfd96\nparent c7681c1f25383b0a893debc1d493305a2b014852\nauthor josibake <josibake@protonmail.com> 1755249817 +0100\ncommitter josibake <josibake@protonmail.com> 1755251721 +0100\n\ntests: refactor ellswift tagged hash tests\n\nUse the sha256_tag_test_internal helper function.\nRestructure to match the musig tag hash tests.\n\nUsing this structure makes it easy for reviewers to quickly\nverify the correct tags are being used.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmifBAkACgkQity1WMTz\nPWWZdg//SeRLmfebyqzK7ILjMl7VYp1Tem7Qym7xh35eX2d4SQaT4WRn4Cw1qtT6\nBzhXJ9qsNN6pBZaF6GBDOem+tD21YBMCzXetiiLkZaBNu+8SC8M5UL17UhfA+iLG\nd+Tqhv/M3HCyoaLnmWljMWS5VflpcGLyUuQVm+y9/R/0ESsA70XTt9R8UlRF6Jc+\nD93HDb5U11DMvX1NfwIc0CL/WiYg2V8c4Tyq1TayTU0WfSAyuCJgldoSd6D2RxOH\nUy0Vc+QCibbZRXbUH2QZ0fpqXEKrWbkX54fqsZxbmJ+w2rCulsDC5dTqAMrG3Zd/\nh6QVClgpQSMd44SodDdFfpJtSSIQ0ubBgqbAA1l+NOnK/aj8KkZq3NnKLnLSydIv\nTpVRE3tuc2ZlsSU/LHrLuGPVJGtpMBP8TDlI3ehzObKCIiF2sPI3ETKZZSScvKF/\nKkcLK1iNNgGL4HaDZRzKrx81a1J4a69yqWAlAzc/ELmv/zklwEXw5veCKOtrUypK\nWWcouLQo3c/mi5doP/pw0vWx9J00rm2fg4Kx50tOlExHZG3baY34pq9dEZ1+vHli\nBjmmxW58GBbRQFchWB46frWrh5gT3gbjnNVPDMShYzwwC6y5DVoNJtkvDALcD3tV\nxKKs+8MgejAOIfjc4sz6r11vsqXZZPtX9EJfywMwVvBTi02Ou2w=\n=Ej4O\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/c7681c1f25383b0a893debc1d493305a2b014852",
          "sha": "c7681c1f25383b0a893debc1d493305a2b014852",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/c7681c1f25383b0a893debc1d493305a2b014852"
        }
      ],
      "message": "tests: refactor ellswift tagged hash tests\n\nUse the sha256_tag_test_internal helper function.\nRestructure to match the musig tag hash tests.\n\nUsing this structure makes it easy for reviewers to quickly\nverify the correct tags are being used.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-08-15T09:55:21Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-08-15T09:23:37Z"
      },
      "sha": "8a17983bfbe8b62f3e6c8b081a54c419021bc4c7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDY0MjQ4MDUwMzljNjQ3YzU0OGM2MDlkMWM2NjZhMzE3M2JkZGZjYWE",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/6424805039c647c548c609d1c666a3173bddfcaa",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/6424805039c647c548c609d1c666a3173bddfcaa",
      "tree": {
        "sha": "1838bae5dcad4d924d19e162190ad0af867fd937",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/1838bae5dcad4d924d19e162190ad0af867fd937"
      },
      "verification": {
        "verified": true,
        "reason": "valid",
        "payload": "tree 1838bae5dcad4d924d19e162190ad0af867fd937\nparent 8a17983bfbe8b62f3e6c8b081a54c419021bc4c7\nauthor josibake <josibake@protonmail.com> 1755251097 +0100\ncommitter josibake <josibake@protonmail.com> 1755251722 +0100\n\ntests: refactor schnorrsig tagged hash tests\n\nUse the sha256_tag_test_internal helper function.\nRestructure to match the musig tag hash tests.\n\nUsing this structure makes it easier for reviewers to quickly\nverify the correct tags are being used.\n\nSpecifying as strings also makes finding the values via grep\nmuch easier.\n",
        "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIzBAABCAAdFiEEYWUWuOtu0CiC/Ep6ity1WMTzPWUFAmifBAoACgkQity1WMTz\nPWVxPxAAnl6Y73koh+1/RPLBftKLgDjg5xrAyY5H9bcgstIb5p7iD+TVA0hJa0on\nXoXxgdY6Hm3SfCUmuUXJsd6KxwGdoEGJDmVYbCmwO66+76zWojrxdtpLx4d2XXZr\nkskkyTIJmHbozYNiOQmuBNNtwmQDQYh66HrUzfe/U7A3GkqKIzNk4P/6M7+uJxPr\nH0jH5U3buxPVks8xpzroRaYISPchwSnISMMRxzqUJgiIavYK91kF62FnQHm39Jx1\nAspbjnFvajfV4C9x7uON1M6UGW+2G56UvnX1V9JC7UuoTSuS+B9pP4AV6dtZZTna\nuVOXD/InwnsCNmSP7nn0/NK0rKMxuAHBssUM7yTcuKTwTtcnNoZw3hBnR3p+nr8V\nm+cZPYtAXUofOrqFXfK/Qqq92+94dESstiI/lkN0QCYTvxCk0TTbOf3qW144z5XE\npZppa4aq5Z+VSui7DpSx6vO7Xld2Ev1bfyecoqp0ShyoYiN6+Z/1L1k8rSNy5d+s\ng2rB8Al2zwhFKItDjphAGkCrc3LOEChsOfs3UFtboz+8Litcocf4xMJ++Uz4wdHa\nISVNyh7G2eTgg5m2FmE8JqnF1gljdHx+E7JYM1BRo9hufWCIRAfaySWjkcna7D3X\nICHVdavxb+jfyO7uuzv2r5n0+x4+3ywTe7tS3C6qlD3WHt7Rhts=\n=X0Ar\n-----END PGP SIGNATURE-----"
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/8a17983bfbe8b62f3e6c8b081a54c419021bc4c7",
          "sha": "8a17983bfbe8b62f3e6c8b081a54c419021bc4c7",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/8a17983bfbe8b62f3e6c8b081a54c419021bc4c7"
        }
      ],
      "message": "tests: refactor schnorrsig tagged hash tests\n\nUse the sha256_tag_test_internal helper function.\nRestructure to match the musig tag hash tests.\n\nUsing this structure makes it easier for reviewers to quickly\nverify the correct tags are being used.\n\nSpecifying as strings also makes finding the values via grep\nmuch easier.",
      "committer": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-08-15T09:55:22Z"
      },
      "author": {
        "name": "josibake",
        "email": "josibake@protonmail.com",
        "date": "2025-08-15T09:44:57Z"
      },
      "sha": "6424805039c647c548c609d1c666a3173bddfcaa"
    },
    {
      "event": "reviewed",
      "id": 3124543037,
      "node_id": "PRR_kwDOAP4Jqs66PL49",
      "url": null,
      "actor": null,
      "commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "commit_url": null,
      "created_at": null,
      "updated_at": "2025-08-15T16:53:10Z",
      "author_association": "MEMBER",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1725#pullrequestreview-3124543037",
      "submitted_at": "2025-08-15T16:53:10Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/2279484546",
      "pull_request_review_id": 3124543037,
      "id": 2279484546,
      "node_id": "PRRC_kwDOAP4Jqs6H3iyC",
      "diff_hunk": "@@ -405,31 +405,22 @@ void run_ellswift_tests(void) {\n \n     /* Test hash initializers. */\n     {\n-        secp256k1_sha256 sha, sha_optimized;\n-        static const unsigned char encode_tag[] = {'s', 'e', 'c', 'p', '2', '5', '6', 'k', '1', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'e', 'n', 'c', 'o', 'd', 'e'};\n-        static const unsigned char create_tag[] = {'s', 'e', 'c', 'p', '2', '5', '6', 'k', '1', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'c', 'r', 'e', 'a', 't', 'e'};\n-        static const unsigned char bip324_tag[] = {'b', 'i', 'p', '3', '2', '4', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'x', 'o', 'n', 'l', 'y', '_', 'e', 'c', 'd', 'h'};\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_encode has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, encode_tag, sizeof(encode_tag));\n-        secp256k1_ellswift_sha256_init_encode(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_create has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, create_tag, sizeof(create_tag));\n-        secp256k1_ellswift_sha256_init_create(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_bip324 has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, bip324_tag, sizeof(bip324_tag));\n-        secp256k1_ellswift_sha256_init_bip324(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n+        secp256k1_sha256 sha_optimized;\n+        {\n+            unsigned char tag[] = \"secp256k1_ellswift_encode\";",
      "path": "src/modules/ellswift/tests_impl.h",
      "position": 31,
      "original_position": 31,
      "commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "original_commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "8a17983bfbe8b62f3e6c8b081a54c419021bc4c7:\r\n\r\nfa67b6752d8ba3e4c41f6c36b1c6b94a21770419 can be relevant.",
      "created_at": "2025-08-15T16:53:10Z",
      "updated_at": "2025-08-15T16:53:10Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1725#discussion_r2279484546",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/2279484546"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/2281848508",
      "pull_request_review_id": 3127580548,
      "id": 2281848508,
      "node_id": "PRRC_kwDOAP4Jqs6IAj68",
      "diff_hunk": "@@ -405,31 +405,22 @@ void run_ellswift_tests(void) {\n \n     /* Test hash initializers. */\n     {\n-        secp256k1_sha256 sha, sha_optimized;\n-        static const unsigned char encode_tag[] = {'s', 'e', 'c', 'p', '2', '5', '6', 'k', '1', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'e', 'n', 'c', 'o', 'd', 'e'};\n-        static const unsigned char create_tag[] = {'s', 'e', 'c', 'p', '2', '5', '6', 'k', '1', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'c', 'r', 'e', 'a', 't', 'e'};\n-        static const unsigned char bip324_tag[] = {'b', 'i', 'p', '3', '2', '4', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'x', 'o', 'n', 'l', 'y', '_', 'e', 'c', 'd', 'h'};\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_encode has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, encode_tag, sizeof(encode_tag));\n-        secp256k1_ellswift_sha256_init_encode(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_create has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, create_tag, sizeof(create_tag));\n-        secp256k1_ellswift_sha256_init_create(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_bip324 has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, bip324_tag, sizeof(bip324_tag));\n-        secp256k1_ellswift_sha256_init_bip324(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n+        secp256k1_sha256 sha_optimized;\n+        {\n+            unsigned char tag[] = \"secp256k1_ellswift_encode\";",
      "path": "src/modules/ellswift/tests_impl.h",
      "position": 31,
      "original_position": 31,
      "commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "original_commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "in_reply_to_id": 2279484546,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "Nice find! The commit message states \"However, it requires exactly specifying the array size, which can be\r\ncumbersome,\" but I don't think this is true.\r\n\r\nUsing the test program:\r\n\r\n```c\r\n// repro.c\r\n#include <stdio.h>\r\n\r\nint main() {\r\n    char str[] = \"hello world\";  // This should trigger the warning\r\n    printf(\"%s\\n\", str);\r\n    return 0;\r\n}\r\n```\r\n\r\nI am able to compile with gcc14:\r\n\r\n```shell\r\nnix-shell --expr 'with import <nixpkgs> {}; mkShell.override { stdenv = overrideCC stdenv gcc14; }'\r\ngcc -v\r\ngcc -Wall -Wextra -Wpedantic -Werror repro.c -o out\r\n```\r\n\r\nand able to compile with gcc15:\r\n\r\n```shell\r\nnix-shell --expr 'with import <nixpkgs> {}; mkShell.override { stdenv = overrideCC stdenv gcc15; }'\r\ngcc -v\r\ngcc -Wall -Wextra -Wpedantic -Werror repro.c -o out\r\n```\r\n\r\nHowever, if I specify the array size, I can reproduce the error:\r\n\r\n```c\r\n// repro.c\r\n#include <stdio.h>\r\n\r\nint main() {\r\n    char str[11] = \"hello world\";  // This should trigger the warning\r\n    printf(\"%s\\n\", str);\r\n    return 0;\r\n}\r\n```\r\n\r\nNo error with:\r\n\r\n```shell\r\nnix-shell --expr 'with import <nixpkgs> {}; mkShell.override { stdenv = overrideCC stdenv gcc14; }'\r\ngcc -Wall -Wextra -Wpedantic -Werror repro.c -o out\r\n```\r\n\r\nAnd an error with:\r\n\r\n```shell\r\nnix-shell --expr 'with import <nixpkgs> {}; mkShell.override { stdenv = overrideCC stdenv gcc15; }'\r\ngcc -Wall -Wextra -Wpedantic -Werror repro.c -o out\r\n\r\nrepro.c: In function ‘main’:\r\nrepro.c:4:20: error: initializer-string for array of ‘char’ truncates NUL terminator but destination lacks ‘nonstring’ attribute (12 chars into 11 available) [-Werror=unterminated-string-initialization]\r\n    4 |     char str[11] = \"hello world\";  // This should trigger the warning\r\n      |                    ^~~~~~~~~~~~~\r\ncc1: all warnings being treated as errors\r\n```\r\n\r\n---\r\n\r\nBased on the above, I'd recommend we prefer the approach in this PR of not specifying the array size and perhaps document it as the preferred convention going forward? I find being able to specify the tag as a string to be much more reviewable than specifying the tag as an array of characters.\r\n\r\nThat being said, also happy to go the other way and update the musig tests to match the other modules if thats the preferred convention, as I think the main benefit is to have all of the modules follow the same convention.\r\n\r\n",
      "created_at": "2025-08-18T09:32:45Z",
      "updated_at": "2025-08-18T09:32:46Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1725#discussion_r2281848508",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/2281848508"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/2281907097",
      "pull_request_review_id": 3127669951,
      "id": 2281907097,
      "node_id": "PRRC_kwDOAP4Jqs6IAyOZ",
      "diff_hunk": "@@ -405,31 +405,22 @@ void run_ellswift_tests(void) {\n \n     /* Test hash initializers. */\n     {\n-        secp256k1_sha256 sha, sha_optimized;\n-        static const unsigned char encode_tag[] = {'s', 'e', 'c', 'p', '2', '5', '6', 'k', '1', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'e', 'n', 'c', 'o', 'd', 'e'};\n-        static const unsigned char create_tag[] = {'s', 'e', 'c', 'p', '2', '5', '6', 'k', '1', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'c', 'r', 'e', 'a', 't', 'e'};\n-        static const unsigned char bip324_tag[] = {'b', 'i', 'p', '3', '2', '4', '_', 'e', 'l', 'l', 's', 'w', 'i', 'f', 't', '_', 'x', 'o', 'n', 'l', 'y', '_', 'e', 'c', 'd', 'h'};\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_encode has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, encode_tag, sizeof(encode_tag));\n-        secp256k1_ellswift_sha256_init_encode(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_create has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, create_tag, sizeof(create_tag));\n-        secp256k1_ellswift_sha256_init_create(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n-\n-        /* Check that hash initialized by\n-         * secp256k1_ellswift_sha256_init_bip324 has the expected\n-         * state. */\n-        secp256k1_sha256_initialize_tagged(&sha, bip324_tag, sizeof(bip324_tag));\n-        secp256k1_ellswift_sha256_init_bip324(&sha_optimized);\n-        test_sha256_eq(&sha, &sha_optimized);\n+        secp256k1_sha256 sha_optimized;\n+        {\n+            unsigned char tag[] = \"secp256k1_ellswift_encode\";",
      "path": "src/modules/ellswift/tests_impl.h",
      "position": 31,
      "original_position": 31,
      "commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "original_commit_id": "6424805039c647c548c609d1c666a3173bddfcaa",
      "in_reply_to_id": 2279484546,
      "user": {
        "login": "josibake",
        "id": 7444140,
        "node_id": "MDQ6VXNlcjc0NDQxNDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/7444140?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/josibake",
        "html_url": "https://github.com/josibake",
        "followers_url": "https://api.github.com/users/josibake/followers",
        "following_url": "https://api.github.com/users/josibake/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/josibake/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/josibake/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/josibake/subscriptions",
        "organizations_url": "https://api.github.com/users/josibake/orgs",
        "repos_url": "https://api.github.com/users/josibake/repos",
        "events_url": "https://api.github.com/users/josibake/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/josibake/received_events",
        "type": "User",
        "site_admin": false,
        "patch_url": null
      },
      "body": "To convince myself, I also verified with a few versions of clang, e.g.,:\r\n\r\n```shell\r\nnix-shell --expr 'with import <nixpkgs> {}; mkShell.override { stdenv = llvmPackages_16.stdenv; }'\r\nclang -Wall -Wextra -Wpedantic -Werror -Wmost repro.c\r\n```\r\n",
      "created_at": "2025-08-18T09:55:02Z",
      "updated_at": "2025-08-18T09:55:02Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1725#discussion_r2281907097",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/2281907097"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1725"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 410,
      "original_line": 410,
      "side": "RIGHT"
    }
  ]
}