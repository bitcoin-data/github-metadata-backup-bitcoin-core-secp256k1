{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362",
    "id": 1410086967,
    "node_id": "PR_kwDOAP4Jqs5UDDg3",
    "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362",
    "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/1362.diff",
    "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/1362.patch",
    "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362",
    "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/5267c8b5ad2b1fb3879074ac6a5b01a250945685",
    "number": 1362,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "build: Improvements to symbol visibility logic on Windows",
    "user": {
      "login": "real-or-random",
      "id": 1071625,
      "node_id": "MDQ6VXNlcjEwNzE2MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/real-or-random",
      "html_url": "https://github.com/real-or-random",
      "followers_url": "https://api.github.com/users/real-or-random/followers",
      "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
      "organizations_url": "https://api.github.com/users/real-or-random/orgs",
      "repos_url": "https://api.github.com/users/real-or-random/repos",
      "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/real-or-random/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is a somewhat more elaborate alternative to #1346.\r\n\r\nAs I said there:\r\n> Many hours of researching and experimenting went into that piece of code, so I'll probably follow up with a PR that adds extensive comments.",
    "labels": [
      {
        "id": 165020207,
        "node_id": "MDU6TGFiZWwxNjUwMjAyMDc=",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/documentation",
        "name": "documentation",
        "description": "",
        "color": "C5DEF5",
        "default": true
      },
      {
        "id": 4975362431,
        "node_id": "LA_kwDOAP4Jqs8AAAABKI4Bfw",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/build",
        "name": "build",
        "description": "",
        "color": "2F66C4",
        "default": false
      }
    ],
    "created_at": "2023-06-27T15:01:15Z",
    "updated_at": "2023-06-29T15:54:44Z",
    "closed_at": "2023-06-29T15:54:44Z",
    "mergeable_state": "unknown",
    "merge_commit_sha": "41dbe2e386038e581c8b19105aa97e756ae0d214",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "real-or-random:202306-visibility",
      "ref": "202306-visibility",
      "sha": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 93596674,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MzU5NjY3NA==",
        "name": "secp256k1",
        "full_name": "real-or-random/secp256k1",
        "owner": {
          "login": "real-or-random",
          "id": 1071625,
          "node_id": "MDQ6VXNlcjEwNzE2MjU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/real-or-random",
          "html_url": "https://github.com/real-or-random",
          "followers_url": "https://api.github.com/users/real-or-random/followers",
          "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
          "organizations_url": "https://api.github.com/users/real-or-random/orgs",
          "repos_url": "https://api.github.com/users/real-or-random/repos",
          "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/real-or-random/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/real-or-random/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": true,
        "url": "https://api.github.com/repos/real-or-random/secp256k1",
        "archive_url": "https://api.github.com/repos/real-or-random/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/real-or-random/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/real-or-random/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/real-or-random/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/real-or-random/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/real-or-random/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/real-or-random/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/real-or-random/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/real-or-random/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/real-or-random/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/real-or-random/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/real-or-random/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/real-or-random/secp256k1/events",
        "forks_url": "https://api.github.com/repos/real-or-random/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/real-or-random/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/real-or-random/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/real-or-random/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/real-or-random/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/real-or-random/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/real-or-random/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/real-or-random/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/real-or-random/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/real-or-random/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/real-or-random/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/real-or-random/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/real-or-random/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/real-or-random/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/real-or-random/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/real-or-random/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:real-or-random/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/real-or-random/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/real-or-random/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/real-or-random/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/real-or-random/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/real-or-random/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/real-or-random/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/real-or-random/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/real-or-random/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/real-or-random/secp256k1/hooks",
        "svn_url": "https://github.com/real-or-random/secp256k1",
        "language": "C",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 13948,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-31T14:24:54Z",
        "created_at": "2017-06-07T05:39:43Z",
        "updated_at": "2023-03-08T17:07:47Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin-core:master",
      "ref": "master",
      "sha": "0fa84f869d51e1b71113d81fcd518ebcee08709a",
      "user": {
        "login": "bitcoin-core",
        "id": 13464320,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin-core",
        "html_url": "https://github.com/bitcoin-core",
        "followers_url": "https://api.github.com/users/bitcoin-core/followers",
        "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
        "repos_url": "https://api.github.com/users/bitcoin-core/repos",
        "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 16648618,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjY0ODYxOA==",
        "name": "secp256k1",
        "full_name": "bitcoin-core/secp256k1",
        "owner": {
          "login": "bitcoin-core",
          "id": 13464320,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin-core",
          "html_url": "https://github.com/bitcoin-core",
          "followers_url": "https://api.github.com/users/bitcoin-core/followers",
          "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
          "repos_url": "https://api.github.com/users/bitcoin-core/repos",
          "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin-core/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1",
        "archive_url": "https://api.github.com/repos/bitcoin-core/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin-core/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin-core/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin-core/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin-core/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/events",
        "forks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin-core/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin-core/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin-core/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/bitcoin-core/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin-core/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin-core/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin-core/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin-core/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/bitcoin-core/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin-core/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/hooks",
        "svn_url": "https://github.com/bitcoin-core/secp256k1",
        "language": "C",
        "forks_count": 962,
        "stargazers_count": 1802,
        "watchers_count": 1802,
        "size": 10374,
        "default_branch": "master",
        "open_issues_count": 145,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-01T01:00:35Z",
        "created_at": "2014-02-08T17:30:06Z",
        "updated_at": "2023-08-01T08:52:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": true,
    "additions": 40,
    "deletions": 17,
    "changed_files": 4,
    "commits": 5,
    "review_comments": 8,
    "comments": 18
  },
  "events": [
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDg1YWVjZjQ2M2MxZDVjNzE2NzE1MmQwYWY4ZjdlMzJhN2VjOTg1NDA",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/85aecf463c1d5c7167152d0af8f7e32a7ec98540",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/85aecf463c1d5c7167152d0af8f7e32a7ec98540",
      "tree": {
        "sha": "29f6d2f2ff7c7f68c3481f9d477b3b917f98a7c0",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/29f6d2f2ff7c7f68c3481f9d477b3b917f98a7c0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/0fa84f869d51e1b71113d81fcd518ebcee08709a",
          "sha": "0fa84f869d51e1b71113d81fcd518ebcee08709a",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/0fa84f869d51e1b71113d81fcd518ebcee08709a"
        }
      ],
      "message": "build: Use dllexport also for Cygwin builds\n\nAs recommended by https://gcc.gnu.org/wiki/Visibility",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-27T13:05:44Z"
      },
      "author": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-27T13:04:13Z"
      },
      "sha": "85aecf463c1d5c7167152d0af8f7e32a7ec98540"
    },
    {
      "event": "labeled",
      "id": 9653475180,
      "node_id": "LE_lADOAP4Jqs5p7attzwAAAAI_ZFds",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9653475180",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-27T15:01:15Z",
      "label": {
        "name": "documentation",
        "color": "fef2c0"
      }
    },
    {
      "event": "labeled",
      "id": 9653475189,
      "node_id": "LE_lADOAP4Jqs5p7attzwAAAAI_ZFd1",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9653475189",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-27T15:01:15Z",
      "label": {
        "name": "build",
        "color": "571603"
      }
    },
    {
      "event": "subscribed",
      "id": 9654948879,
      "node_id": "SE_lADOAP4Jqs5p7attzwAAAAI_etQP",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9654948879",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-27T17:03:19Z"
    },
    {
      "event": "unsubscribed",
      "id": 9660232722,
      "node_id": "UE_lADOAP4Jqs5p7attzwAAAAI_y3QS",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9660232722",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T05:50:56Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDI5N2M4NWFjMDZmZGM2MTIwNDlhMGM2MjM2Yjk4ODUwZWViNTZhY2Q",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/297c85ac06fdc612049a0c6236b98850eeb56acd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/297c85ac06fdc612049a0c6236b98850eeb56acd",
      "tree": {
        "sha": "4399db9e45fcf62c84fd8cf7686d2ef64273633d",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/4399db9e45fcf62c84fd8cf7686d2ef64273633d"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/85aecf463c1d5c7167152d0af8f7e32a7ec98540",
          "sha": "85aecf463c1d5c7167152d0af8f7e32a7ec98540",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/85aecf463c1d5c7167152d0af8f7e32a7ec98540"
        }
      ],
      "message": "build: Add #ifdefs for requesting import as DLL vs static explicitly",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-28T09:41:26Z"
      },
      "author": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-27T13:20:06Z"
      },
      "sha": "297c85ac06fdc612049a0c6236b98850eeb56acd"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9662824626,
      "node_id": "HRFPE_lADOAP4Jqs5p7attzwAAAAI_8wCy",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9662824626",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:15:15Z"
    },
    {
      "event": "commented",
      "id": 1611150311,
      "node_id": "IC_kwDOAP4Jqs5gCDPn",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611150311",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:21:51Z",
      "updated_at": "2023-06-28T10:21:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ok, ready for review (if CI is happy).\r\n\r\nThis PR also addresses this item in #1235 now:\r\n\r\n> [ ] Consider changing `DLL_EXPORT` TO `SECP256k1_DLL_EXPORT` (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1126797102)\r\n\r\nI've chosen to use the `SECP256K1_DLL` macro instead. The same macro is also used for requesting that one wants to *consume* libsecp256k1 as a DLL, i.e., when `!defined(SECP256K_BUILD)`. I think this is convenient for the user. If a user builds a DLL, then it's likely that the user also intends to consume the DLL in a program. (This is just for convenience. In the end, building the library and consuming the library are two entirely different build processes, so the reusing the macro name is never ambiguous on a technical level.)  ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611150311",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "ready_for_review",
      "id": 9662889870,
      "node_id": "RFRE_lADOAP4Jqs5p7attzwAAAAI_8_-O",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9662889870",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:22:14Z"
    },
    {
      "event": "commented",
      "id": 1611152568,
      "node_id": "IC_kwDOAP4Jqs5gCDy4",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611152568",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:23:53Z",
      "updated_at": "2023-06-28T10:23:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "cc @theuni ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611152568",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "mentioned",
      "id": 9662903182,
      "node_id": "MEE_lADOAP4Jqs5p7attzwAAAAI_9DOO",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9662903182",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:23:54Z"
    },
    {
      "event": "subscribed",
      "id": 9662903194,
      "node_id": "SE_lADOAP4Jqs5p7attzwAAAAI_9DOa",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9662903194",
      "actor": {
        "login": "theuni",
        "id": 417043,
        "node_id": "MDQ6VXNlcjQxNzA0Mw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/417043?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/theuni",
        "html_url": "https://github.com/theuni",
        "followers_url": "https://api.github.com/users/theuni/followers",
        "following_url": "https://api.github.com/users/theuni/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/theuni/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/theuni/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/theuni/subscriptions",
        "organizations_url": "https://api.github.com/users/theuni/orgs",
        "repos_url": "https://api.github.com/users/theuni/repos",
        "events_url": "https://api.github.com/users/theuni/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/theuni/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:23:54Z"
    },
    {
      "event": "commented",
      "id": 1611160360,
      "node_id": "IC_kwDOAP4Jqs5gCFso",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611160360",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:30:02Z",
      "updated_at": "2023-06-28T10:30:02Z",
      "author_association": "MEMBER",
      "body": "> Draft because I still need to incorporate the cmake/autotools changes from #1346.\r\n\r\nOutdated?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611160360",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:31:45Z",
      "updated_at": "2023-06-28T10:31:45Z",
      "source": {
        "issue": {
          "id": 1618850857,
          "node_id": "I_kwDOAP4Jqs5gfbQp",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1235",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1235/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1235/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1235/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1235",
          "number": 1235,
          "state": "open",
          "state_reason": null,
          "title": "build: Meta-issue for follow-ups to initial CMake merge (#1113)",
          "body": "Issues that have been (re)discovered in #1113 but have not been addressed there: \r\n\r\nAffecting both build systems:\r\n - [ ] Unified docs for configuration autotools/CMake/manual builds (https://github.com/bitcoin-core/secp256k1/pull/1113#issuecomment-1171307979 and  https://github.com/bitcoin-core/secp256k1/pull/1142); WIP -- https://github.com/bitcoin-core/secp256k1/pull/1372\r\n - [x] Improve MSVC warning options (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1124276576); solved by https://github.com/bitcoin-core/secp256k1/pull/1328\r\n - [x] Consider changing `DLL_EXPORT` TO `SECP256k1_DLL_EXPORT` (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1126797102); solved by https://github.com/bitcoin-core/secp256k1/pull/1367\r\n - ~Consider setting CMake's default of /MD for MSVC also in autotools builds. Perhaps make `CMAKE_MSVC_RUNTIME_LIBRARY` a CMake cache variable. (https://github.com/bitcoin-core/secp256k1/pull/1113#issuecomment-1458005771)~ See https://github.com/bitcoin-core/secp256k1/issues/1235#issuecomment-1609373112 and https://github.com/bitcoin-core/secp256k1/issues/1235#issuecomment-1609503130\r\n - [x] Print out a warning in the tests if both `VERIFY` and `COVERAGE` are defined. For clarity, this should be done in the C source, not in the build system. (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1127856040); solved by https://github.com/bitcoin-core/secp256k1/pull/1333\r\n - [x] Actually check if ARM assembly is supported (https://github.com/bitcoin-core/secp256k1/pull/1113#issuecomment-1460298292 and also tracked in https://github.com/bitcoin-core/secp256k1/issues/1034); solved by https://github.com/bitcoin-core/secp256k1/pull/1304 \r\n - ~Set `-fvisibility-inlines-hidden`? (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1124273356).~ See https://github.com/bitcoin-core/secp256k1/issues/1235#issuecomment-1466477275.\r\n -  ~Consider dropping support for Valgrind on MacOS (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1128588031).~ See https://github.com/bitcoin-core/secp256k1/issues/1235#issuecomment-1506878980.\r\n\r\nAffecting only CMake:\r\n - [x] Changelog entry (https://github.com/bitcoin-core/secp256k1/pull/1113#issuecomment-1460298292; solved by #1225)\r\n - [x] Add CMake instructions to release process (solved by #1226)\r\n - [ ] Compute string `secp256k1` (e.g., in `target_link_libraries`) as substring of `PROJECT_NAME`. That will help with distinguishing forks. (https://github.com/bitcoin-core/secp256k1/pull/1229#discussion_r1130064718).\r\n - [ ] Consider recommending CMake-native build commands in the README (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1124301931)\r\n - [x] Use `GENERATOR_IS_MULTI_CONFIG` in the future, which requires CMake 3.9. (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1124460512; solved by #1239)\r\n - [x] See if we can use CMake templates to have something similar to `--enable-dev-mode`. (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r912386477; solved by #1234)\r\n - [x] Consider dropping support for building static and shared libraries at the same time (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1128702492)  or alternatively, enable position-independent code globally (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1124264718; solved by #1230)\r\n - [x] `configure_package_config_file(... COMPATIBILITY` is `SameMajorVersion` but should probably be `SameMinorVersion` before 1.0.0 according to [our SemVer interpretation](https://github.com/bitcoin-core/secp256k1/pull/1223#issuecomment-1460481114). But the latter requires CMake 3.11. (https://gnusha.org/secp256k1/2023-03-08.log; solved by #1239)\r\n - [ ] `make check` should run tests in parallel, like `ctest -j` (https://gnusha.org/secp256k1/2023-03-08.log); WIP -- https://github.com/bitcoin-core/secp256k1/pull/1294\r\n - ~Consider using `COMPILE_FLAGS` or `COMPILE_OPTIONS` to add CFLAGS. `COMPILE_OPTIONS` requires CMake 3.11, while we currently target CMake 3.1 (https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1125545613)~ See https://github.com/bitcoin-core/secp256k1/issues/1235#issuecomment-1479363026\r\n - ~Consider [CMAKE_COMPILE_WARNING_AS_ERROR](https://cmake.org/cmake/help/latest/variable/CMAKE_COMPILE_WARNING_AS_ERROR.html) for CMake 3.24+ (https://github.com/bitcoin-core/secp256k1/pull/1241#issuecomment-1509008580)~ See https://github.com/bitcoin-core/secp256k1/issues/1235#issuecomment-1609567532\r\n - [x] Make `SECP256K1_INSTALL` default to `PROJECT_IS_TOP_LEVEL` on CMake 3.21+ (https://github.com/bitcoin-core/secp256k1/pull/1263); solved by #1284\r\n",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 165020207,
              "node_id": "MDU6TGFiZWwxNjUwMjAyMDc=",
              "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/documentation",
              "name": "documentation",
              "description": "",
              "color": "C5DEF5",
              "default": true
            },
            {
              "id": 4975362431,
              "node_id": "LA_kwDOAP4Jqs8AAAABKI4Bfw",
              "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/build",
              "name": "build",
              "description": "",
              "color": "2F66C4",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 22,
          "created_at": "2023-03-10T11:47:42Z",
          "updated_at": "2023-07-04T20:59:07Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1611166492,
      "node_id": "IC_kwDOAP4Jqs5gCHMc",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611166492",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:35:34Z",
      "updated_at": "2023-06-28T10:35:34Z",
      "author_association": "MEMBER",
      "body": "Out of scope of this PR, but shouldn't CI has a Cygwin build as well?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611166492",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKGQyMTE3ZjA4YjI3YTFiMTQ1MTczM2U3Yjk3Njk1ZjBjY2QyNzJhYzQ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/d2117f08b27a1b1451733e7b97695f0ccd272ac4",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/d2117f08b27a1b1451733e7b97695f0ccd272ac4",
      "tree": {
        "sha": "ccfee6c0ccabcde6a6977759fa7acb3f0d9bfde7",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/ccfee6c0ccabcde6a6977759fa7acb3f0d9bfde7"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/297c85ac06fdc612049a0c6236b98850eeb56acd",
          "sha": "297c85ac06fdc612049a0c6236b98850eeb56acd",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/297c85ac06fdc612049a0c6236b98850eeb56acd"
        }
      ],
      "message": "build: Add extensive docs on visibility issues",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-28T10:35:42Z"
      },
      "author": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-27T13:22:44Z"
      },
      "sha": "d2117f08b27a1b1451733e7b97695f0ccd272ac4"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDY5OTE4YjgyM2Y4Njc5YzU5YTRlYWU3OGIxOTFjMDQxNzU4YTAzYmY",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/69918b823f8679c59a4eae78b191c041758a03bf",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/69918b823f8679c59a4eae78b191c041758a03bf",
      "tree": {
        "sha": "e25af264dc132a8bf258397d92513069592111b6",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/e25af264dc132a8bf258397d92513069592111b6"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/d2117f08b27a1b1451733e7b97695f0ccd272ac4",
          "sha": "d2117f08b27a1b1451733e7b97695f0ccd272ac4",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/d2117f08b27a1b1451733e7b97695f0ccd272ac4"
        }
      ],
      "message": "build: Accept SECP256K1_DLL in addition to DLL_EXPORT in lib builds\n\nAddresses one item in #1235.",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-28T10:35:42Z"
      },
      "author": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-28T09:29:30Z"
      },
      "sha": "69918b823f8679c59a4eae78b191c041758a03bf"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDUyNjdjOGI1YWQyYjFmYjM4NzkwNzRhYzZhNWIwMWEyNTA5NDU2ODU",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "tree": {
        "sha": "bb8d700baf18e7373598f91dec7653537dc6cdcb",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/bb8d700baf18e7373598f91dec7653537dc6cdcb"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/69918b823f8679c59a4eae78b191c041758a03bf",
          "sha": "69918b823f8679c59a4eae78b191c041758a03bf",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/69918b823f8679c59a4eae78b191c041758a03bf"
        }
      ],
      "message": "build: Use `SECP256K1_STATICLIB` macro instead of warning suppressions\n\nThis makes uses of the freshly introduced `SECP256K1_STATICLIB` macro\ninstead of ignoring MSVC linker warnings LNK4217 and LNK4286.\n\nCo-authored-by: Tim Ruffing <crypto@timruffing.de>",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2023-06-28T10:35:42Z"
      },
      "author": {
        "name": "Hennadii Stepanov",
        "email": "32963518+hebasto@users.noreply.github.com",
        "date": "2023-06-13T12:49:19Z"
      },
      "sha": "5267c8b5ad2b1fb3879074ac6a5b01a250945685"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 9663004193,
      "node_id": "HRFPE_lADOAP4Jqs5p7attzwAAAAI_9b4h",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9663004193",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:35:49Z"
    },
    {
      "event": "commented",
      "id": 1611169027,
      "node_id": "IC_kwDOAP4Jqs5gCH0D",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611169027",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:37:22Z",
      "updated_at": "2023-06-28T10:37:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > Draft because I still need to incorporate the cmake/autotools changes from #1346.\r\n> \r\n> Outdated?\r\n\r\nYes, I removed it from the initial comment.\r\n\r\n> Out of scope of this PR, but shouldn't CI has a Cygwin build as well?\r\n\r\nIn general, I guess more testing never hurts. Is Cygwin still in wide use?",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611169027",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1611176883,
      "node_id": "IC_kwDOAP4Jqs5gCJuz",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611176883",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T10:43:54Z",
      "updated_at": "2023-06-28T10:43:54Z",
      "author_association": "MEMBER",
      "body": "> > Out of scope of this PR, but shouldn't CI has a Cygwin build as well?\r\n> \r\n> In general, I guess more testing never hurts. Is Cygwin still in wide use?\r\n\r\nI don't have any particular numbers, but it seems [WSL](https://learn.microsoft.com/en-us/windows/wsl/) undermined Cygwin's purpose :)\r\n\r\nAnyway, if code written for a platform that platform should be tested. If it not feasible/reasonable to test a platform, no need to maintain platform-specific code, no?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611176883",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1611289370,
      "node_id": "IC_kwDOAP4Jqs5gClMa",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611289370",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T12:11:21Z",
      "updated_at": "2023-06-28T12:11:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ok, yeah, the reason I included the Cygwin commit is that checking `defined(__CYGWIN__)` is suggested in https://gcc.gnu.org/wiki/Visibility (and Cygwin does not define `_WIN32`).\r\n\r\n> Anyway, if code written for a platform that platform should be tested. \r\n\r\nI think that's a good rule of thumb, but I also think that in this case maintaining half a line of code is okay as a best-effort thing, even if we don't test it. In particular, because it's just build system code. (If we used different instructions on Cygwin, then we would need a test for sure.)  \r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611289370",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "reviewed",
      "id": 1502951597,
      "node_id": "PRR_kwDOAP4Jqs5ZlTit",
      "url": null,
      "actor": null,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "Concept ACK.\r\n\r\n> [ ] Consider changing `DLL_EXPORT` TO `SECP256k1_DLL_EXPORT` ([#1113 (comment)](https://github.com/bitcoin-core/secp256k1/pull/1113#discussion_r1126797102))\r\n\r\nDoes it make sense to replace s/`DLL_EXPORT`/`SECP256k1_DLL`/ in the `src/CMakeLists.txt`?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#pullrequestreview-1502951597",
      "submitted_at": "2023-06-28T12:21:24Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
    },
    {
      "event": "commented",
      "id": 1611339696,
      "node_id": "IC_kwDOAP4Jqs5gCxew",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1611339696",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T12:48:43Z",
      "updated_at": "2023-06-28T12:48:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Does it make sense to replace s/`DLL_EXPORT`/`SECP256k1_DLL`/ in the `src/CMakeLists.txt`?\r\n\r\nGood point, will do.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611339696",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "reviewed",
      "id": 1503062878,
      "node_id": "PRR_kwDOAP4Jqs5Zlute",
      "url": null,
      "actor": null,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#pullrequestreview-1503062878",
      "submitted_at": "2023-06-28T13:14:56Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T13:21:33Z",
      "updated_at": "2023-06-28T13:21:33Z",
      "source": {
        "issue": {
          "id": 1754809473,
          "node_id": "PR_kwDOAP4Jqs5S4grP",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1346",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1346/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1346/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1346/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1346",
          "number": 1346,
          "state": "closed",
          "state_reason": null,
          "title": "build: Use `SECP256K1_STATICLIB` macro instead of warning suppressions",
          "body": "The changes from https://github.com/bitcoin-core/secp256k1/pull/1209 has been [described](https://github.com/bitcoin-core/secp256k1/blob/master/CHANGELOG.md#030---2023-03-08) as:\r\n> Fixed declarations of API variables for MSVC (`__declspec(dllimport)`). This fixes MSVC builds of programs which link against a libsecp256k1 DLL dynamically and use API variables (and not only API functions). Unfortunately, the MSVC linker now will emit warning `LNK4217` when trying to link against libsecp256k1 statically. Pass `/ignore:4217` to the linker to suppress this warning. \r\n\r\nApparently, this description is not complete. When [building](https://cirrus-ci.com/task/4676409155649536) Bitcoin Core, the other warning is raised as well:\r\n```\r\nLINK : warning LNK4217: symbol 'secp256k1_context_static' defined in 'libsecp256k1.lib(secp256k1.obj)' is imported by 'libbitcoin_consensus.lib(pubkey.obj)' in function '\"public: static bool __cdecl CPubKey::CheckLowS(class std::vector<unsigned char,class std::allocator<unsigned char> > const &)\" (?CheckLowS@CPubKey@@SA_NAEBV?$vector@EV?$allocator@E@std@@@std@@@Z)' [C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\build_msvc\\test_bitcoin\\test_bitcoin.vcxproj]\r\nLINK : warning LNK4286: symbol 'secp256k1_context_static' defined in 'libsecp256k1.lib(secp256k1.obj)' is imported by 'libbitcoin_common.lib(key.obj)' [C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\build_msvc\\test_bitcoin\\test_bitcoin.vcxproj]\r\n```\r\n\r\nThis PR provides to the user of a static libsecp256k1 library an option to define the `SECP256K1_STATICLIB` macro instead of ignoring MSVC linker warnings [LNK4217](https://learn.microsoft.com/en-us/cpp/error-messages/tool-errors/linker-tools-warning-lnk4217) and [LNK4286](https://learn.microsoft.com/en-us/cpp/error-messages/tool-errors/linker-tools-warning-lnk4286).",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 4975362431,
              "node_id": "LA_kwDOAP4Jqs8AAAABKI4Bfw",
              "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/build",
              "name": "build",
              "description": "",
              "color": "2F66C4",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 5,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1346",
            "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1346",
            "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/1346.diff",
            "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/1346.patch"
          },
          "closed_at": "2023-06-28T13:21:35Z",
          "created_at": "2023-06-13T12:45:29Z",
          "updated_at": "2023-06-28T13:21:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T14:24:05Z",
      "updated_at": "2023-06-28T14:24:05Z",
      "source": {
        "issue": {
          "id": 1573253318,
          "node_id": "PR_kwDOAP4Jqs5JYBvX",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1209",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1209/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1209/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1209/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1209",
          "number": 1209,
          "state": "closed",
          "state_reason": null,
          "title": "build: Add SECP256K1_API_VAR to fix importing variables from DLLs",
          "body": "... and more Windows fixes, please see the individual commits.\r\n\r\nThe fixed issues were discovered in https://github.com/bitcoin-core/secp256k1/pull/1198.\r\n",
          "user": {
            "login": "real-or-random",
            "id": 1071625,
            "node_id": "MDQ6VXNlcjEwNzE2MjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/real-or-random",
            "html_url": "https://github.com/real-or-random",
            "followers_url": "https://api.github.com/users/real-or-random/followers",
            "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
            "organizations_url": "https://api.github.com/users/real-or-random/orgs",
            "repos_url": "https://api.github.com/users/real-or-random/repos",
            "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/real-or-random/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 13,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1209",
            "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1209",
            "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/1209.diff",
            "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/1209.patch"
          },
          "closed_at": "2023-02-21T23:41:21Z",
          "created_at": "2023-02-06T20:46:38Z",
          "updated_at": "2023-06-28T14:24:05Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1612114045,
      "node_id": "IC_kwDOAP4Jqs5gFuh9",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612114045",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-28T21:15:32Z",
      "updated_at": "2023-06-28T21:15:32Z",
      "author_association": "MEMBER",
      "body": "Approach ACK 5267c8b5ad2b1fb3879074ac6a5b01a250945685.\r\n\r\nWhile testing a static library using MSVC, the following warning has been noticed:\r\n```\r\nLINK : warning LNK4217: symbol 'secp256k1_ellswift_xdh_hash_function_bip324' defined in 'libsecp256k1.lib(secp256k1.obj)' is imported by 'bench.obj' in function 'bench_ellswift_xdh' [C:\\Users\\ContainerAdministrator\\AppData\\Local\\Temp\\cirrus-ci-build\\build\\src\\bench.vcxproj]\r\n```\r\nwhich is a new one after merging #1129.\r\n\r\nTo tackle with it, suggesting the following diff (+ https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1611339696):\r\n```diff\r\ndiff --git a/examples/CMakeLists.txt b/examples/CMakeLists.txt\r\nindex a314c17..e2ea473 100644\r\n--- a/examples/CMakeLists.txt\r\n+++ b/examples/CMakeLists.txt\r\n@@ -6,9 +6,6 @@ target_link_libraries(example INTERFACE\r\n   secp256k1\r\n   $<$<PLATFORM_ID:Windows>:bcrypt>\r\n )\r\n-if(NOT BUILD_SHARED_LIBS AND MSVC)\r\n-  target_compile_definitions(example INTERFACE SECP256K1_STATICLIB)\r\n-endif()\r\n \r\n add_executable(ecdsa_example ecdsa.c)\r\n target_link_libraries(ecdsa_example example)\r\ndiff --git a/src/CMakeLists.txt b/src/CMakeLists.txt\r\nindex 0bba199..4e62f61 100644\r\n--- a/src/CMakeLists.txt\r\n+++ b/src/CMakeLists.txt\r\n@@ -20,10 +20,9 @@ if(SECP256K1_ASM STREQUAL \"arm32\")\r\n   target_link_libraries(secp256k1_asm INTERFACE secp256k1_asm_arm)\r\n endif()\r\n \r\n-# Define our export symbol only for Win32 and only for shared libs.\r\n-# This matches libtool's usage of DLL_EXPORT\r\n if(WIN32)\r\n-  set_target_properties(secp256k1 PROPERTIES DEFINE_SYMBOL \"DLL_EXPORT\")\r\n+  set_target_properties(secp256k1 PROPERTIES DEFINE_SYMBOL SECP256K1_DLL)\r\n+  target_compile_definitions(secp256k1 INTERFACE $<$<NOT:$<BOOL:${BUILD_SHARED_LIBS}>>:SECP256K1_STATICLIB>)\r\n endif()\r\n \r\n # Object libs don't know if they're being built for a shared or static lib.\r\n```",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612114045",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1612594047,
      "node_id": "IC_kwDOAP4Jqs5gHjt_",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612594047",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T08:03:22Z",
      "updated_at": "2023-06-29T08:04:32Z",
      "author_association": "MEMBER",
      "body": "I'm still thinking about user's definitions during the _consuming_ of the library.\r\n\r\nNow, at the master branch, none of them are required or expected from the user. The `_MSC_VER` is defined by the compiler, the `DLL_EXPORT` by the Libtool.\r\n\r\nThis PR (5267c8b5ad2b1fb3879074ac6a5b01a250945685) introduces two _optional_ macros: `SECP256K1_STATICLIB` and `SECP256K1_DLL` which are mutually exclusive. Then we have three code paths to handle.\r\n\r\nAnother approach is to make the `SECP256K1_STATICLIB` macro obligatory when consuming the static library. Not defining it should be considered as consuming the shared library. In this approach the `elif defined(_MSC_VER)` branch might be dropped altogether. And two macros `SECP256K1_API` and `SECP256K1_API_VAR` can be merged into one.\r\n\r\nWhat drawbacks did I miss here?",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612594047",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1612616519,
      "node_id": "IC_kwDOAP4Jqs5gHpNH",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612616519",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T08:21:53Z",
      "updated_at": "2023-06-29T08:21:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "Doesn't the following set SECP256K1_DLL even if we're building a static lib?\r\n```diff\r\n if(WIN32)\r\n  set_target_properties(secp256k1 PROPERTIES DEFINE_SYMBOL SECP256K1_DLL)\r\n  [...]\r\n endif()\r\n```\r\nAnd the current code on master does the same despite the comment saying \"only for shared libs\". I assume having dllexport just doesn't hurt in this case? Or am I getting this wrong?",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612616519",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1612620390,
      "node_id": "IC_kwDOAP4Jqs5gHqJm",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612620390",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T08:24:53Z",
      "updated_at": "2023-06-29T08:28:52Z",
      "author_association": "MEMBER",
      "body": "> Doesn't the following set SECP256K1_DLL even if we're building a static lib?\r\n> \r\n> ```CMake\r\n>  if(WIN32)\r\n>   set_target_properties(secp256k1 PROPERTIES DEFINE_SYMBOL SECP256K1_DLL)\r\n>   [...]\r\n>  endif()\r\n> ```\r\n> \r\n> And the current code on master does the same despite the comment saying \"only for shared libs\". I assume having dllexport just doesn't hurt in this case? Or am I getting this wrong?\r\n\r\nFrom CMake [docs](https://cmake.org/cmake/help/latest/prop_tgt/DEFINE_SYMBOL.html):\r\n\r\n> `DEFINE_SYMBOL` sets the name of the preprocessor symbol defined when compiling sources in a _shared_ library.\r\n\r\n\r\n",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612620390",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1612647113,
      "node_id": "IC_kwDOAP4Jqs5gHwrJ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612647113",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T08:45:52Z",
      "updated_at": "2023-06-29T08:45:52Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Another approach is to make the `SECP256K1_STATICLIB` macro obligatory when consuming the static library. Not defining it should be considered as consuming the shared library. In this approach the `elif defined(_MSC_VER)` branch might be dropped altogether. And two macros `SECP256K1_API` and `SECP256K1_API_VAR` can be merged into one.\r\n\r\n> What drawbacks did I miss here?\r\n\r\nThat's indeed simpler. And I don't think you missed any drawbacks. The only drawback is that MSVC users are required to define `SECP256K1_STATICLIB` when consuming a static lib. In other words, the advantage of the current approach is that it \"just works\" on MSVC. I think that's neat, but on the other hand, I tend to agree: it was never truly clean due to the linker warnings (which are hard to debug for the user etc...) and I argued above that explicit is better than implicit.\r\n \r\nI wonder how other libraries are doing this?\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612647113",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "convert_to_draft",
      "id": 9674340028,
      "node_id": "CTDE_lADOAP4Jqs5p7attzwAAAAJAora8",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9674340028",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T08:48:17Z"
    },
    {
      "event": "commented",
      "id": 1612674599,
      "node_id": "IC_kwDOAP4Jqs5gH3Yn",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612674599",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:06:09Z",
      "updated_at": "2023-06-29T09:06:09Z",
      "author_association": "MEMBER",
      "body": "> I wonder how other libraries are doing this?\r\n\r\nCMake-based projects might exploit the [`GenerateExportHeader`](https://cmake.org/cmake/help/latest/module/GenerateExportHeader.html) module and use the `${LIB}_STATIC_DEFINE`, for instance: https://github.com/google/benchmark/issues/1372#issuecomment-1068986946.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612674599",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1612707014,
      "node_id": "IC_kwDOAP4Jqs5gH_TG",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612707014",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:30:37Z",
      "updated_at": "2023-06-29T09:30:37Z",
      "author_association": "MEMBER",
      "body": "> ... the `elif defined(_MSC_VER)` branch might be dropped altogether.\r\n\r\nHere are two branches to prove this concept:\r\n- https://github.com/hebasto/secp256k1/tree/master.shared.4 -- CI [MSVC task](https://cirrus-ci.com/task/5264523054022656)\r\n- https://github.com/hebasto/secp256k1/tree/master.static.4 -- CI [MSVC task](https://cirrus-ci.com/task/6690029678886912)\r\n\r\n> And I believe that [\"Explicit is better than implicit\" and \"In the face of ambiguity, refuse the temptation to guess.\"](https://peps.python.org/pep-0020/).\r\n\r\n\"Simple is better than complex.\" :)",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612707014",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "commented",
      "id": 1612707214,
      "node_id": "IC_kwDOAP4Jqs5gH_WO",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612707214",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:30:47Z",
      "updated_at": "2023-06-29T09:30:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I wonder how other libraries are doing this?\r\n\r\nBy the way, `grep -10 dllimport -r /usr/include` on a production system is good to get a feeling for this....  Most libraries have some macro that the user needs to set, and only very few follow the libtool recommendation. \r\n\r\nAlso, `grep -10 dllimport -r /usr/include | grep STATIC` shows that suffix `_STATIC` is more common than `_STATICLIB`. (https://gitlab.kitware.com/cmake/cmake/-/issues/23195#note_1139808 agrees with this.)\r\n\r\nI'll rework the PR based on these observations, but probably not this week. I'd also be happy to pass it back to you @hebasto if you're willing to work on this.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612707214",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "mentioned",
      "id": 9674752054,
      "node_id": "MEE_lADOAP4Jqs5p7attzwAAAAJAqQA2",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9674752054",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:30:47Z"
    },
    {
      "event": "subscribed",
      "id": 9674752077,
      "node_id": "SE_lADOAP4Jqs5p7attzwAAAAJAqQBN",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9674752077",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:30:47Z"
    },
    {
      "event": "commented",
      "id": 1612711041,
      "node_id": "IC_kwDOAP4Jqs5gIASB",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1612711041",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:33:39Z",
      "updated_at": "2023-06-29T09:33:39Z",
      "author_association": "MEMBER",
      "body": "> I'd also be happy to pass it back to you @hebasto if you're willing to work on this.\r\n\r\nI'll take it :)",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1612711041",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "mentioned",
      "id": 9674778295,
      "node_id": "MEE_lADOAP4Jqs5p7attzwAAAAJAqWa3",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9674778295",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:33:39Z"
    },
    {
      "event": "subscribed",
      "id": 9674778311,
      "node_id": "SE_lADOAP4Jqs5p7attzwAAAAJAqWbH",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9674778311",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T09:33:39Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T15:53:34Z",
      "updated_at": "2023-06-29T15:53:34Z",
      "source": {
        "issue": {
          "id": 1781113351,
          "node_id": "PR_kwDOAP4Jqs5UQcxT",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1367",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1367/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1367/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1367/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1367",
          "number": 1367,
          "state": "closed",
          "state_reason": null,
          "title": "build: Improvements to symbol visibility logic on Windows (attempt 3)",
          "body": "Previous attempts:\r\n- https://github.com/bitcoin-core/secp256k1/pull/1346\r\n- https://github.com/bitcoin-core/secp256k1/pull/1362\r\n\r\nThe result is as follows:\r\n1. Simple, concise and extensively documented code.\r\n2. Explicitly documented use cases with no ambiguities.\r\n3. No workarounds for linker warnings.\r\n4. Solves one item in https://github.com/bitcoin-core/secp256k1/issues/1235.",
          "user": {
            "login": "hebasto",
            "id": 32963518,
            "node_id": "MDQ6VXNlcjMyOTYzNTE4",
            "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/hebasto",
            "html_url": "https://github.com/hebasto",
            "followers_url": "https://api.github.com/users/hebasto/followers",
            "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
            "organizations_url": "https://api.github.com/users/hebasto/orgs",
            "repos_url": "https://api.github.com/users/hebasto/repos",
            "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/hebasto/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [
            {
              "id": 165020207,
              "node_id": "MDU6TGFiZWwxNjUwMjAyMDc=",
              "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/documentation",
              "name": "documentation",
              "description": "",
              "color": "C5DEF5",
              "default": true
            },
            {
              "id": 4975362431,
              "node_id": "LA_kwDOAP4Jqs8AAAABKI4Bfw",
              "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/build",
              "name": "build",
              "description": "",
              "color": "2F66C4",
              "default": false
            }
          ],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 8,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1367",
            "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1367",
            "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/1367.diff",
            "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/1367.patch"
          },
          "closed_at": "2023-07-03T16:53:44Z",
          "created_at": "2023-06-29T15:53:33Z",
          "updated_at": "2023-07-04T07:40:03Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 1613451022,
      "node_id": "IC_kwDOAP4Jqs5gK08O",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1613451022",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T15:53:56Z",
      "updated_at": "2023-06-29T15:53:56Z",
      "author_association": "MEMBER",
      "body": "> > I'd also be happy to pass it back to you @hebasto if you're willing to work on this.\r\n> \r\n> I'll take it :)\r\n\r\nDone in #1367.",
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#issuecomment-1613451022",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1362"
    },
    {
      "event": "mentioned",
      "id": 9678903046,
      "node_id": "MEE_lADOAP4Jqs5p7attzwAAAAJA6FcG",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9678903046",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T15:53:57Z"
    },
    {
      "event": "subscribed",
      "id": 9678903059,
      "node_id": "SE_lADOAP4Jqs5p7attzwAAAAJA6FcT",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9678903059",
      "actor": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T15:53:57Z"
    },
    {
      "event": "closed",
      "id": 9678912377,
      "node_id": "CE_lADOAP4Jqs5p7attzwAAAAJA6Ht5",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9678912377",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-06-29T15:54:44Z"
    },
    {
      "event": "referenced",
      "id": 9711602265,
      "node_id": "REFE_lADOAP4Jqs5p7attzwAAAAJC20pZ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9711602265",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "9e6d1b0e9be2416d1cf9bce0b872d06e0ca9a4c5",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/9e6d1b0e9be2416d1cf9bce0b872d06e0ca9a4c5",
      "created_at": "2023-07-03T16:53:44Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245123738",
      "pull_request_review_id": 1502951597,
      "id": 1245123738,
      "node_id": "PRRC_kwDOAP4Jqs5KNxSa",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */\n #  define SECP256K1_API\n #  define SECP256K1_API_VAR  extern __declspec (dllimport)\n-# elif defined DLL_EXPORT\n+# elif defined(DLL_EXPORT)",
      "path": "include/secp256k1.h",
      "position": 45,
      "original_position": 45,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Shoudn't it be OR'ed with `defined(SECP256k1_DLL)`?",
      "created_at": "2023-06-28T12:17:47Z",
      "updated_at": "2023-06-28T12:22:50Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1245123738",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245123738"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 170,
      "original_line": 170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245124892",
      "pull_request_review_id": 1502951597,
      "id": 1245124892,
      "node_id": "PRRC_kwDOAP4Jqs5KNxkc",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */",
      "path": "include/secp256k1.h",
      "position": 41,
      "original_position": 41,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Add a recommendation to use the `SECP256K1_STATICLIB` macro?",
      "created_at": "2023-06-28T12:18:55Z",
      "updated_at": "2023-06-28T12:21:24Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1245124892",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245124892"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": 166,
      "original_start_line": 166,
      "start_side": "RIGHT",
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245155015",
      "pull_request_review_id": 1503000479,
      "id": 1245155015,
      "node_id": "PRRC_kwDOAP4Jqs5KN47H",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */\n #  define SECP256K1_API\n #  define SECP256K1_API_VAR  extern __declspec (dllimport)\n-# elif defined DLL_EXPORT\n+# elif defined(DLL_EXPORT)",
      "path": "include/secp256k1.h",
      "position": 45,
      "original_position": 45,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": 1245123738,
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "No, if `SECP256K1` is defined, then we would have hit the `#elif defined(SECP256K1_DLL)` above.\r\n\r\nAn alternative option is to drop this \"guess\" based on `EXPORT_DLL` entirely. We took this from the libtool manual which justifies it as follows:\r\n\r\n> For older GNU tools and other proprietary tools there is no generic way to make it possible to consume either of the DLL or the static library without user intervention, the tools need to be told what is intended. One common assumption is that if a DLL is being built (DLL_EXPORT is defined) then that DLL is going to consume any dependent libraries as DLLs. If that assumption is made everywhere, it is possible to select how an end-user application is consuming libraries by adding a single flag -DDLL_EXPORT when a DLL build is required. This is of course an all or nothing deal, either everything as DLLs or everything as static libraries. \r\n\r\n(https://www.gnu.org/software/libtool/manual/html_node/Windows-DLLs.html#Windows-DLLs)\r\n\r\nBut with this PR, we get better methods for telling the tools what is intended. And I believe that [\"Explicit is better than implicit\" and \"In the face of ambiguity, refuse the temptation to guess.\"](https://peps.python.org/pep-0020/). ",
      "created_at": "2023-06-28T12:46:05Z",
      "updated_at": "2023-06-28T12:46:06Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1245155015",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245155015"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 170,
      "original_line": 170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245157039",
      "pull_request_review_id": 1503003580,
      "id": 1245157039,
      "node_id": "PRRC_kwDOAP4Jqs5KN5av",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */",
      "path": "include/secp256k1.h",
      "position": 41,
      "original_position": 41,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": 1245124892,
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I had a sentence in an earlier version, but I removed it because it's probably clear by \"No method requested explicitly.\" Let me bring it back.",
      "created_at": "2023-06-28T12:47:50Z",
      "updated_at": "2023-06-28T12:47:51Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1245157039",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245157039"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": 166,
      "original_start_line": 166,
      "start_side": "RIGHT",
      "line": 167,
      "original_line": 167,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245195059",
      "pull_request_review_id": 1503062878,
      "id": 1245195059,
      "node_id": "PRRC_kwDOAP4Jqs5KOCsz",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */\n #  define SECP256K1_API",
      "path": "include/secp256k1.h",
      "position": 42,
      "original_position": 42,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": null,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "While touching this code, we can exploit one more optimization.\r\n\r\nFrom Microsoft [docs](https://learn.microsoft.com/en-us/cpp/build/importing-into-an-application-using-declspec-dllimport?view=msvc-170):\r\n> Using `__declspec(dllimport)` is optional on function declarations, but the compiler produces more efficient code if you use this keyword. ",
      "created_at": "2023-06-28T13:14:56Z",
      "updated_at": "2023-06-28T13:14:56Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1245195059",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245195059"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245248110",
      "pull_request_review_id": 1503152781,
      "id": 1245248110,
      "node_id": "PRRC_kwDOAP4Jqs5KOPpu",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */\n #  define SECP256K1_API",
      "path": "include/secp256k1.h",
      "position": 42,
      "original_position": 42,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": 1245195059,
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Indeed, but we shouldn't touch it here in the `# elif defined(_MSC_VER)` branch.\r\n\r\nThe specific combination\r\n```\r\n#  define SECP256K1_API\r\n#  define SECP256K1_API_VAR  extern __declspec (dllimport)\r\n```\r\nis precisely what always works for MSVC (if one is willing to accept the warning):\r\n\r\n> With Microsoft tools you typically get away with always compiling the code such that variables are expected to be imported from a DLL and functions are expected to be found in a static library. The tools will then automatically import the function from a DLL if that is where they are found. If the variables are not imported from a DLL as expected, but are found in a static library that is otherwise pulled in by some function, the linker will issue a warning (LNK4217) that a locally defined symbol is imported, but it still works.\r\n\r\nhttps://www.gnu.org/software/libtool/manual/html_node/Windows-DLLs.html#Windows-DLLs\r\n\r\n---\r\n\r\nBut in general, yes, the introduction of `SECP256K1_DLL` here will make it possible for the user to force `__declspec(dllimport)` on functions, which is faster according to the docs. We could add this to our linking jobs in autotools/CMake, though I doubt that it's measurable, given that API calls for us typically involve some expensive cryptographic operation anyway -- saving a few CPU instructions is probably not a big deal.",
      "created_at": "2023-06-28T13:52:48Z",
      "updated_at": "2023-06-28T13:52:48Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1245248110",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1245248110"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 168,
      "original_line": 168,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1246182240",
      "pull_request_review_id": 1504644349,
      "id": 1246182240,
      "node_id": "PRRC_kwDOAP4Jqs5KRztg",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */\n #  define SECP256K1_API\n #  define SECP256K1_API_VAR  extern __declspec (dllimport)\n-# elif defined DLL_EXPORT\n+# elif defined(DLL_EXPORT)",
      "path": "include/secp256k1.h",
      "position": 45,
      "original_position": 45,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": 1245123738,
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "What do you think? Should we remove this branch entirely?",
      "created_at": "2023-06-29T06:44:52Z",
      "updated_at": "2023-06-29T06:44:53Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1246182240",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1246182240"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 170,
      "original_line": 170,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1246239897",
      "pull_request_review_id": 1504728939,
      "id": 1246239897,
      "node_id": "PRRC_kwDOAP4Jqs5KSByZ",
      "diff_hunk": "@@ -133,27 +133,56 @@ typedef int (*secp256k1_nonce_function)(\n # define SECP256K1_NO_BUILD\n #endif\n \n-/* Symbol visibility. See https://gcc.gnu.org/wiki/Visibility */\n-/* DLL_EXPORT is defined internally for shared builds */\n-#if defined(_WIN32)\n-# ifdef SECP256K1_BUILD\n-#  ifdef DLL_EXPORT\n+/* Symbol visibility. */\n+#if defined(_WIN32) || defined(__CYGWIN__)\n+# if defined(SECP256K1_STATICLIB) && defined(SECP256K1_DLL)\n+#  error \"At most one of SECP256K1_STATICLIB and SECP256K1_DLL must be defined.\"\n+# endif\n+ /* GCC for Windows (e.g., MinGW) and for Cygwin accept the __declspec syntax\n+  * for MSVC compatibility. A __declspec declaration implies (but is not\n+  * exactly equivalent to) __attribute__ ((visibility(\"default\"))), and so we\n+  * actually want __declspec even on GCC, see \"Microsoft Windows Function\n+  * Attributes\" in the GCC manual and the recommendations in\n+  * https://gcc.gnu.org/wiki/Visibility. */\n+# if defined(SECP256K1_BUILD)\n+#  if defined(SECP256K1_DLL) || defined(DLL_EXPORT) \n+   /* Building libsecp256k1 as a DLL. (DLL_EXPORT is a libtool convention.) */\n #   define SECP256K1_API            __declspec (dllexport)\n #   define SECP256K1_API_VAR extern __declspec (dllexport)\n #  endif\n-# elif defined _MSC_VER\n+# elif defined(SECP256K1_STATICLIB)\n+   /* Linking against static libsecp256k1 requested explicitly. */\n+#  define SECP256K1_API\n+#  define SECP256K1_API_VAR  extern\n+# elif defined(SECP256K1_DLL)\n+   /* Linking against a libsecp256k1 DLL requested explicitly. */\n+#  define SECP256K1_API             __declspec (dllimport)\n+#  define SECP256K1_API_VAR  extern __declspec (dllimport)\n+# elif defined(_MSC_VER)\n+   /* No method requested explicitly. The following works on MSVC for both\n+    * static and dynamic linking, as long as if at least one function is\n+    * imported (i.e., not only variables are imported), which should be the case\n+    * for any meaningful program that uses the libsecp256k1 API. The drawback of\n+    * the following is that it may provoke linker warnings LNK4217 and LNK4286.\n+    * See \"Windows DLLs\" in the libtool manual. */\n #  define SECP256K1_API\n #  define SECP256K1_API_VAR  extern __declspec (dllimport)\n-# elif defined DLL_EXPORT\n+# elif defined(DLL_EXPORT)",
      "path": "include/secp256k1.h",
      "position": 45,
      "original_position": 45,
      "commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "original_commit_id": "5267c8b5ad2b1fb3879074ac6a5b01a250945685",
      "in_reply_to_id": 1245123738,
      "user": {
        "login": "hebasto",
        "id": 32963518,
        "node_id": "MDQ6VXNlcjMyOTYzNTE4",
        "avatar_url": "https://avatars.githubusercontent.com/u/32963518?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/hebasto",
        "html_url": "https://github.com/hebasto",
        "followers_url": "https://api.github.com/users/hebasto/followers",
        "following_url": "https://api.github.com/users/hebasto/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/hebasto/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/hebasto/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/hebasto/subscriptions",
        "organizations_url": "https://api.github.com/users/hebasto/orgs",
        "repos_url": "https://api.github.com/users/hebasto/repos",
        "events_url": "https://api.github.com/users/hebasto/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/hebasto/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Remove it. As a Libtool-only convention, using the `DLL_EXPORT` macro when consuming the library looks weird.\r\n\r\n> But with this PR, we get better methods for telling the tools what is intended.\r\n\r\nIndeed.",
      "created_at": "2023-06-29T07:37:50Z",
      "updated_at": "2023-06-29T07:38:36Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1362#discussion_r1246239897",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/1246239897"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1362"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 170,
      "original_line": 170,
      "side": "RIGHT"
    }
  ]
}