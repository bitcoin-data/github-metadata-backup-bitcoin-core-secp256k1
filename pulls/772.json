{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772",
    "id": 456518272,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NDU2NTE4Mjcy",
    "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772",
    "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/772.diff",
    "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/772.patch",
    "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772",
    "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/67a429f31fd3d1b37c5365cc58b70588b8645d62",
    "number": 772,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Improve constant-timeness on PowerPC",
    "user": {
      "login": "real-or-random",
      "id": 1071625,
      "node_id": "MDQ6VXNlcjEwNzE2MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/real-or-random",
      "html_url": "https://github.com/real-or-random",
      "followers_url": "https://api.github.com/users/real-or-random/followers",
      "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
      "organizations_url": "https://api.github.com/users/real-or-random/orgs",
      "repos_url": "https://api.github.com/users/real-or-random/repos",
      "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/real-or-random/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Attempt at resolving #771 .\r\n\r\nThis surprisingly seems to improve the situation at least for the compilers available on godbolt.\r\n",
    "labels": [],
    "created_at": "2020-07-24T22:38:45Z",
    "updated_at": "2020-08-07T01:24:31Z",
    "closed_at": "2020-07-28T14:12:39Z",
    "mergeable_state": "unknown",
    "merged_at": "2020-07-28T14:12:39Z",
    "merge_commit_sha": "214cb3c321c8f240a456ba2861f84b72141e0584",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "real-or-random:202007-ct-power9",
      "ref": "202007-ct-power9",
      "sha": "67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 93596674,
        "node_id": "MDEwOlJlcG9zaXRvcnk5MzU5NjY3NA==",
        "name": "secp256k1",
        "full_name": "real-or-random/secp256k1",
        "owner": {
          "login": "real-or-random",
          "id": 1071625,
          "node_id": "MDQ6VXNlcjEwNzE2MjU=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/real-or-random",
          "html_url": "https://github.com/real-or-random",
          "followers_url": "https://api.github.com/users/real-or-random/followers",
          "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
          "organizations_url": "https://api.github.com/users/real-or-random/orgs",
          "repos_url": "https://api.github.com/users/real-or-random/repos",
          "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/real-or-random/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/real-or-random/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": true,
        "url": "https://api.github.com/repos/real-or-random/secp256k1",
        "archive_url": "https://api.github.com/repos/real-or-random/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/real-or-random/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/real-or-random/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/real-or-random/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/real-or-random/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/real-or-random/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/real-or-random/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/real-or-random/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/real-or-random/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/real-or-random/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/real-or-random/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/real-or-random/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/real-or-random/secp256k1/events",
        "forks_url": "https://api.github.com/repos/real-or-random/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/real-or-random/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/real-or-random/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/real-or-random/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/real-or-random/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/real-or-random/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/real-or-random/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/real-or-random/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/real-or-random/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/real-or-random/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/real-or-random/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/real-or-random/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/real-or-random/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/real-or-random/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/real-or-random/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/real-or-random/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:real-or-random/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/real-or-random/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/real-or-random/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/real-or-random/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/real-or-random/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/real-or-random/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/real-or-random/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/real-or-random/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/real-or-random/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/real-or-random/secp256k1/hooks",
        "svn_url": "https://github.com/real-or-random/secp256k1",
        "language": "C",
        "forks_count": 0,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 13948,
        "default_branch": "master",
        "open_issues_count": 1,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-07-31T14:24:54Z",
        "created_at": "2017-06-07T05:39:43Z",
        "updated_at": "2023-03-08T17:07:47Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin-core:master",
      "ref": "master",
      "sha": "3e5cfc5c73f856010fe646657703faf8d63e7120",
      "user": {
        "login": "bitcoin-core",
        "id": 13464320,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin-core",
        "html_url": "https://github.com/bitcoin-core",
        "followers_url": "https://api.github.com/users/bitcoin-core/followers",
        "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
        "repos_url": "https://api.github.com/users/bitcoin-core/repos",
        "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 16648618,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjY0ODYxOA==",
        "name": "secp256k1",
        "full_name": "bitcoin-core/secp256k1",
        "owner": {
          "login": "bitcoin-core",
          "id": 13464320,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin-core",
          "html_url": "https://github.com/bitcoin-core",
          "followers_url": "https://api.github.com/users/bitcoin-core/followers",
          "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
          "repos_url": "https://api.github.com/users/bitcoin-core/repos",
          "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin-core/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1",
        "archive_url": "https://api.github.com/repos/bitcoin-core/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin-core/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin-core/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin-core/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin-core/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/events",
        "forks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin-core/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin-core/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin-core/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/bitcoin-core/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin-core/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin-core/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin-core/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin-core/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/bitcoin-core/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin-core/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/hooks",
        "svn_url": "https://github.com/bitcoin-core/secp256k1",
        "language": "C",
        "forks_count": 962,
        "stargazers_count": 1802,
        "watchers_count": 1802,
        "size": 10374,
        "default_branch": "master",
        "open_issues_count": 145,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-01T01:00:35Z",
        "created_at": "2014-02-08T17:30:06Z",
        "updated_at": "2023-08-01T08:52:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 26,
    "deletions": 21,
    "changed_files": 3,
    "commits": 2,
    "review_comments": 2,
    "comments": 43
  },
  "events": [
    {
      "event": "mentioned",
      "id": 3585671567,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU4NTY3MTU2Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3585671567",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-24T22:38:46Z"
    },
    {
      "event": "subscribed",
      "id": 3585671568,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1ODU2NzE1Njg=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3585671568",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-24T22:38:46Z"
    },
    {
      "event": "commented",
      "id": 663766754,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzc2Njc1NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663766754",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-24T23:03:07Z",
      "updated_at": "2020-07-26T14:32:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Good news, bad news!  That indeed fixes the 32-bit scalar code on Fedora 32 GCC 10.1.1 PPC64LE!\r\n\r\nBad news:  I'm reasonably confident that that ternary operator is there because for i386 cmov was generally slower than branching until core2, and the ternary was needed to get branchless behaviour there.  I don't currently have a ready to go i386 testing setup-- but I'll set one up if you'll work with me on this.\r\n\r\nPPC64LE also is non-constant time on:\r\n\r\n         sign = 2 * (u_last > 0) - 1;\r\n\r\nI didn't see a clear way to fix that.\r\n\r\n(also I think this highlights a greater problem that we can't trust statements like this to be constant time. I think we have a lot of them, they're not currently an issue through luck of the optimizer).\r\n\r\nI'm happy to test PPC64LE btw (btw: luke-jr, grubles, bluematt, and td-linux on IRC also have ppc64 systems-- probably other people too, it's probably easier to get developers to test on PPC64LE right now, though i386 is still a relevant embedded/old system target).\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663766754",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663767335,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzc2NzMzNQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663767335",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-24T23:05:36Z",
      "updated_at": "2020-07-25T00:44:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "Aside, the 64-bit scalar code is also full of the \"pointless\" expressions-- on ppc64 w/ this compiler they don't compile into something valgrind complains about. ... and also I think they're there for the same reason they are there in the 32-bit code.\r\n\r\n(aside, wow travis takes an absurdly long time to run)",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663767335",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663841819,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzg0MTgxOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663841819",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-25T10:56:50Z",
      "updated_at": "2020-07-25T10:56:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Good news, bad news! That indeed fixes the 32-bit scalar code on Fedora 10 PPC64LE!\r\n\r\nHooray.\r\n\r\n> Bad news: I'm reasonably confident that that ternary operator is there because for i386 cmov was generally slower than branching until core2, and the ternary was needed to get branchless behaviour there. \r\n\r\nYeah, given that this syntax is literally redundant, I suspected it was there for a reason.\r\n\r\nI had a closer look now. It seems to me that the only \"bad\" instruction is `c2 += (c1 < th) ? 1 : 0;` in `muladd`, and this is compiled to a branch only in the first of three subsequent `muladd`s. It seems the compiler overdoes reordering here, and may get it wrong somehow as a a result of this. \r\n\r\nChanging this single line to `c2 += (c1 < th)` or even `c2 += (c1 >= th) ? 0 : 1;` seems to do the trick. Of course all of this is somewhat fragile but I'm still somewhat confident that the latter won't change a lot for i386. I think we should document then, why these conditional operators are there.\r\n \r\n\r\n> I don't currently have a ready to go i386 testing setup-- but I'll set one up if you'll work with me on this.\r\n\r\nCool, let's do this.\r\n\r\n> \r\n> PPC64LE also is non-constant time on:\r\n> \r\n> ```\r\n>      sign = 2 * (u_last > 0) - 1;\r\n> ```\r\n> \r\n> I didn't see a clear way to fix that.\r\n> \r\n\r\nHm, yeah, that one seems harder. Have you tried a shift or a conditional operator (haha) or a conditional operator with a reversed condition (hahaha)?\r\n\r\n> (also I think this highlights a greater problem that we can't trust statements like this to be constant time. I think we have a lot of them, they're not currently an issue through luck of the optimizer).\r\n\r\nYeah but sadly that's still state of the art for this stuff.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663841819",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663842155,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzg0MjE1NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663842155",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-25T11:00:32Z",
      "updated_at": "2020-07-25T11:00:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "When we've more fully characterized the situation we can also take our pleadings to the compiler gods and maybe get some advice that will result in something more stable (or get an unintended 'optimization' turned off).",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663842155",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663925127,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzkyNTEyNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663925127",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T01:45:11Z",
      "updated_at": "2020-07-26T01:45:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "Great news, valgrind still passes with this on i386 debian 8 (gcc 4.9.2), I've tried a mixture of compiler options (Os,O2, and mtune i486/pentium3/pentium4).  I'm going to go and also try on a more modern x86 OS too and some other systems.\r\n\r\nAssuming it all goes good I think we should remove all the useless ternaries but we should also perhaps put in an effort to figure out why they were there: I thought they were there to *prevent* branches,  but it may be that we just copied the behaviour from openssl and assumed it was preventing branches.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663925127",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663925297,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzkyNTI5Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663925297",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T01:48:24Z",
      "updated_at": "2020-07-26T01:48:24Z",
      "author_association": "CONTRIBUTOR",
      "body": "I believe it very well may have just been copied from OpenSSL. I vaguely remember looking at code like this: https://github.com/openssl/openssl/blob/OpenSSL_0_9_7-stable/crypto/bn/bn_asm.c#L468.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663925297",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663926220,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzkyNjIyMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663926220",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T02:05:09Z",
      "updated_at": "2020-07-26T02:05:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "FWIW w/ default current master emits a branch on x86 alpine linux (GCC 9.3.0) on the same ECDH sign line as on PPC64LE.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663926220",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663927860,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzkyNzg2MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663927860",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T02:34:55Z",
      "updated_at": "2020-07-26T02:34:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "Okay, so for the \"sign = 2 * (u_last > 0) - 1;\" on both Fedora PPC64 LE GCC 10.1.1 and  Alpine i386 GCC 9.3.0  which emit a branch there, the issue is avoided by using \"sign = -(u_last <= 0)|1;\"\r\n\r\nThere are a bunch of candidate formulations, what worries me is that there is nothing about the original code that is obviously wrong.  I'm concerned that the codebase has many other cases exposed to randomly putting out branches whenever a code change makes the compiler think it would be expensive to emit a shift or multiply at that location. :-/   (e.g. I can't see a lesson we can learn here about what not to do). \r\n\r\nThe alternative \"sign = -(u_last < 0)|1;\" is not an equivalent expression but also passes the tests and I think seems more natural.  So assuming someone reviews the surrounding code and it's okay to have 0 end up with a sign of 1 instead of -1, and that this doesn't compile into anything awful on x86_64, I thinks that is probably what it should use.\r\n\r\nWe should probably figure out which of the alternatives are faster/cleaner and then just try out a complete suite of fixes (including getting rid of all the pointless ternaries, since we can't find any place where they help and we've found a place where they hurt) on as many targets as we can.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663927860",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663962667,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk2MjY2Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663962667",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T09:13:14Z",
      "updated_at": "2020-07-26T09:13:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "> \"sign = 2 * (u_last > 0) - 1;\"\r\n\r\nOh, the better fix is https://github.com/bitcoin-core/secp256k1/pull/741, which just needs about one more ACK. I just wanted to point out that we reviewed the surrounding code already and I had not remembered earlier that it just removes the variable entirely. Sorry for wasting some of your time.\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663962667",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663964563,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk2NDU2Mw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663964563",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T09:26:29Z",
      "updated_at": "2020-07-26T09:26:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Oh, sounds fine to me!   I'm don't mind chasing some blind alleys so long as things improve.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663964563",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663965321,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk2NTMyMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663965321",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T09:32:04Z",
      "updated_at": "2020-07-26T09:32:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I believe it very well may have just been copied from OpenSSL. I vaguely remember looking at code like this: https://github.com/openssl/openssl/blob/OpenSSL_0_9_7-stable/crypto/bn/bn_asm.c#L468.\r\n\r\nI'm sure it was copied from OpenSSL, the code says so:\r\nhttps://github.com/bitcoin-core/secp256k1/blob/master/src/scalar_8x32_impl.h#L263\r\n\r\nThe code was written in this 21-years old commit https://github.com/openssl/openssl/commit/fb81ac5e6be4041e59df9362cd63880b21e2cafc by @dot-asm. I'm sure I have no clue what I did 20 years ago but maybe we're lucky. @dot-asm, do you remember the reason for the `?1:0` in the macros? I could believe that you just were not aware that C guarantees  that the result of a comparison is 0 or 1, or that you were concerned that reviewers are not aware. Or do you think there was a deeper reason? \r\n\r\n\r\n> There are a bunch of candidate formulations, what worries me is that there is nothing about the original code that is obviously wrong. I'm concerned that the codebase has many other cases exposed to randomly putting out branches whenever a code change makes the compiler think it would be expensive to emit a shift or multiply at that location. :-/ (e.g. I can't see a lesson we can learn here about what not to do).\r\n\r\n\r\nYeah, and I believe it's getting worse over time with more advanced optimizations. Sometimes a big hammers like in #728 just does it but this would not acceptable here for performance reasons.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663965321",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3586927950,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU4NjkyNzk1MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3586927950",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T09:32:04Z"
    },
    {
      "event": "subscribed",
      "id": 3586927951,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1ODY5Mjc5NTE=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3586927951",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T09:32:04Z"
    },
    {
      "event": "commented",
      "id": 663975212,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk3NTIxMg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663975212",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T11:17:35Z",
      "updated_at": "2020-07-26T11:18:50Z",
      "author_association": "CONTRIBUTOR",
      "body": "I've now tested a bunch of older compilers on x86 and actually find the newer ones seem to be generally more reliable-- e.g. you don't have to go far back with clang before its spewing branches everywhere-- e.g. managing to turn scalar_cmov into a ton of branches. GCC 2.95 does too, but it looks like anything ECGS or later only rarely has issues (like we're discussing in this PR).   Unfortunately, I think the story is really just that the compiler behaviour isn't stable.   When we wrote a bunch of this library we were in an island of good behaviour by compilers, but it might have just been luck.\r\n\r\nOnce we've fixed what we can for more important platforms, I'll setup a test to run it on a metric boatload of targets so we can get a better idea of what historical stability has been like.  Unfortunately the intersection of interesting-to-target and can-run-valgrind isn't perfect.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663975212",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663976807,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk3NjgwNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663976807",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T11:33:32Z",
      "updated_at": "2020-07-26T11:33:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Once we've fixed what we can for more important platforms, I'll setup a test to run it on a metric boatload of targets so we can get a better idea of what historical stability has been like. Unfortunately the intersection of interesting-to-target and can-run-valgrind isn't perfect.\r\n\r\nAre we aware of further issues on a more important platform?\r\n\r\nThere's https://github.com/bitcoin-core/secp256k1/pull/711, which is also a constant-time PR that needs review. \r\n\r\nIt would be neat to have set of compilers and targets, where we can say we consider it a real bug for -O2 and above and maybe -Os. One issue is that people may use their own compiler flags for optimizations, maybe we should at least emit a warning in the Makefile if CFLAGS is defined.  \r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663976807",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663980319,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk4MDMxOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663980319",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:12:14Z",
      "updated_at": "2020-07-26T12:12:14Z",
      "author_association": "NONE",
      "body": "> @dot-asm, do you remember the reason for the ?1:0 in the macros?\r\n\r\nI don't really feel that responsible for the ?1:0 per se, because it was itself copied from elsewhere. And as already implied, most likely reason for it is uncertainty in what a buggy compiler might do. At least it's known that historically there were workarounds for compiler quirks/bugs and this just might be one of them. Arguably obsolete by now.",
      "user": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663980319",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3587023675,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU4NzAyMzY3NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587023675",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:12:14Z"
    },
    {
      "event": "subscribed",
      "id": 3587023678,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1ODcwMjM2Nzg=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587023678",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:12:14Z"
    },
    {
      "event": "commented",
      "id": 663983406,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk4MzQwNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663983406",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:45:02Z",
      "updated_at": "2020-07-26T12:45:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > @dot-asm, do you remember the reason for the ?1:0 in the macros?\r\n> \r\n> I don't really feel that responsible for the ?1:0 per se, because it was itself copied from elsewhere. And as already implied, most likely reason for it is uncertainty in what a buggy compiler might do. At least it's known that historically there were workarounds for compiler quirks/bugs and this just might be one of them. Arguably obsolete by now.\r\n\r\nOk, thanks for the quick reply!  By the way, do you know where you got this code from? (I don't think it's relevant then, I'm just curious.) \r\n\r\nI'll update the PR then to remove the ternaries also in the other file.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663983406",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3587045056,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU4NzA0NTA1Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587045056",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:45:02Z"
    },
    {
      "event": "subscribed",
      "id": 3587045059,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1ODcwNDUwNTk=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587045059",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:45:02Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3587053967,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzU4NzA1Mzk2Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587053967",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:59:03Z"
    },
    {
      "event": "ready_for_review",
      "id": 3587054146,
      "node_id": "MDE5OlJlYWR5Rm9yUmV2aWV3RXZlbnQzNTg3MDU0MTQ2",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587054146",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T12:59:13Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6NWIxOTYzMzhmMGM4ZGMwN2JmMGVlY2UzN2I0NmQ4Njg2YzRkYTNjZQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5b196338f0c8dc07bf0eece37b46d8686c4da3ce",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5b196338f0c8dc07bf0eece37b46d8686c4da3ce",
      "tree": {
        "sha": "005fcf9d652933c63ecefcec317fb9777db75102",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/005fcf9d652933c63ecefcec317fb9777db75102"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/3e5cfc5c73f856010fe646657703faf8d63e7120",
          "sha": "3e5cfc5c73f856010fe646657703faf8d63e7120",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/3e5cfc5c73f856010fe646657703faf8d63e7120"
        }
      ],
      "message": "Remove redundant \"? 1 : 0\" after comparisons in scalar code\n\nThis prevents GCC from generating branches on PowerPC in certain\ncases.\n\nFixes #771.",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2020-07-26T12:59:56Z"
      },
      "author": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2020-07-24T22:28:10Z"
      },
      "sha": "5b196338f0c8dc07bf0eece37b46d8686c4da3ce"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3587055285,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzU4NzA1NTI4NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587055285",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T13:00:06Z"
    },
    {
      "event": "commented",
      "id": 663985113,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk4NTExMw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663985113",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T13:00:40Z",
      "updated_at": "2020-07-26T13:00:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "Okay, ready for review.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663985113",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663993746,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk5Mzc0Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663993746",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:19:38Z",
      "updated_at": "2020-07-26T14:29:12Z",
      "author_association": "NONE",
      "body": "> By the way, do you know where you got this code from?\r\n\r\nHmmm... You know, it might happen that I'm actually responsible for it after all... Note that it's in BN_MULT_HIGH ~option~section and I do remember myself looking for a way to get rid of branch on Alpha where the comparison should map into single instruction... It's not unlike that after cross-checking different compilers on different platforms (by modelling on non-Alpha obviously) a conclusion was drawn that explicit 1:0 is more likely to give desirable outcome across platforms. In other words it's not necessarily about specific bug in specific compiler, it might happen it's more about looking for specific outcome across multiple compilers... And now the circle seems to close, as this PR suggests that most like outcome is achieved if you don't have 1:0...\r\n\r\nOn side note, I don't see any difference in generated code on PPC... Out of curiosity, which compiler are you looking at? I'm looking at gcc 9.3...\r\n",
      "user": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663993746",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663994793,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk5NDc5Mw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663994793",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:28:31Z",
      "updated_at": "2020-07-26T14:31:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "We see the ternary causing branches on GCC 10.1.1 (Fedora 32) on PPC64LE. ... but not always, it does it in some cases and not others (in particular, it looks like its doing it when its switching on a 32-bit variable but not a 64-bit one?)",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663994793",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663996415,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk5NjQxNQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663996415",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:40:09Z",
      "updated_at": "2020-07-26T14:40:09Z",
      "author_association": "NONE",
      "body": "> We see the ternary causing branches on GCC 10.1.1 ... when switching on 32-bit variable\r\n\r\n9.3 doesn't and instead actually does something cool. It performs 64-bit subtraction of originally 32-bit values and then shift by 63. Oh well... I apologize for distraction. Cheers:-)",
      "user": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663996415",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 663996992,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk5Njk5Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663996992",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:44:36Z",
      "updated_at": "2020-07-26T14:44:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "@dot-asm \r\n\r\nHere's a godbolt playground:\r\nhttps://godbolt.org/z/3fv385 \r\n\r\nHere GCC 9 (and other versions) generate branches, notice the jump labels in the output. If you remove the ` ? 1 : 0` in line 287, the branches disappear.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663996992",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3587130494,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU4NzEzMDQ5NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587130494",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:44:36Z"
    },
    {
      "event": "subscribed",
      "id": 3587130495,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1ODcxMzA0OTU=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587130495",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:44:36Z"
    },
    {
      "event": "commented",
      "id": 663997790,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mzk5Nzc5MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/663997790",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:51:24Z",
      "updated_at": "2020-07-26T14:52:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "@real-or-random  Your update is clean on the PPC host in O2 for both 32 and 64 bit scalar, hurrah...  so now that this passes, I attempt -Os on PPC64LE and I am filled with sadness because -Os does something to the binary that makes valgrind unusable (makes it think that all zero initialized stack constructed variables are uninitilized or something along those lines), presumably a valgrind bug.\r\n\r\nI will figure it out later after testing this master + this PR on a bunch of configurations.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-663997790",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3587135675,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU4NzEzNTY3NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587135675",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:51:25Z"
    },
    {
      "event": "subscribed",
      "id": 3587135676,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1ODcxMzU2NzY=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3587135676",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-26T14:51:25Z"
    },
    {
      "event": "commented",
      "id": 664080670,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDA4MDY3MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664080670",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T02:05:02Z",
      "updated_at": "2020-07-27T02:16:29Z",
      "author_association": "CONTRIBUTOR",
      "body": "Preliminary report:\r\n\r\n```\r\nTested with and without endomorphism, tested 32/64/asm scalar+group (as many as applicable)\r\n\r\ni386 Alpine Linux GCC 9.3 -O3\r\ni386 Alpine Linux GCC 9.3 -O2\r\ni386 Alpine Linux GCC 9.3 -Os\r\ni386 Alpine Linux Clang 10.0 -O3\r\ni386 Alpine Linux Clang 10.0 -O2\r\ni386 Alpine Linux Clang 10.0 -Os\r\ni386 Debian8 GCC 4.9.2 -O3\r\ni386 Debian8 GCC 4.9.2 -O2\r\ni386 Debian8 GCC 4.9.2 -Os\r\n*FAIL* i386 Debian8 Clang 3.5.0-10 -O3 *FAIL* (branches everywhere)\r\n*FAIL* i386 Debian8 Clang 3.5.0-10 -O2 *FAIL* (branches everywhere)\r\n*FAIL* i386 Debian8 Clang 3.5.0-10 -Os *FAIL* (branches everywhere)\r\n*FAIL* i386 Debian8 GCC 2.95.3 -O2 *FAIL*  (I tested something this old because it's similar vintage to the ?1:0 code, and also still in a little use)\r\n*FAIL* i386 Debian8 GCC 2.95.3 -Os *FAIL*  (I tested something this old because it's similar vintage to the ?1:0 code, and also still in a little use)\r\n*FAIL* i386 Debian8 TCC 0.9.27 *FAIL* (similar behavior to GCC 2.95.3; but wow TCC compiles fast)\r\narm7 Debian8 GCC 4.9.2 -O3\r\narm7 Debian8 GCC 4.9.2 -O2\r\narm7 Debian8 GCC 4.9.2 -Os\r\n*FAIL* arm7 Debian8 Clang 3.5.10-10 -O3 *FAIL* (like on i386; also ASM totally fails to compile)\r\n*FAIL* arm7 Debian8 Clang 3.5.10-10 -O2 *FAIL* (like on i386; also ASM totally fails to compile)\r\n*FAIL* arm7 Debian8 Clang 3.5.10-10 -Os *FAIL* (like on i386; also ASM totally fails to compile)\r\nPPC64LE Fedora 32 GCC 10.1.1 -O3\r\nPPC64LE Fedora 32 GCC 10.1.1 -O2\r\n*FAIL* PPC64LE Fedora 32 GCC 10.1.1 -Os *FAIL*  (looks like GCC -Os breaks valgrind completely, failure isn't CT specific)\r\nPPC64LE Fedora 32 Clang 10.0.0-2 -O3\r\nPPC64LE Fedora 32 Clang 10.0.0-2 -O2\r\n*FAIL* PPC64LE Fedora 32 Clang 10.0.0-2 -Os *FAIL* (This is due to a longstanding cross platform clang miscompliation bug[1], not a CT issue)\r\nAMD64 Fedora 32 GCC 10.1.1 -O3\r\nAMD64 Fedora 32 GCC 10.1.1 -O2\r\nAMD64 Fedora 32 GCC 10.1.1 -Os\r\n*FAIL* AMD64 Fedora 32 Clang 10.0.0 -Os *FAIL* (emits a branch at secp256k1_int_cmov (util.h:205))\r\nAMD64 Fedora 32 Clang 10.0.0 -O3\r\nAMD64 Fedora 32 Clang 10.0.0 -O2\r\n\r\n(I also tested the PR on BE sparc, and i386 haiku but can't valgrind in either or those places)\r\n\r\nThis PR is a strict reduction in failures: everything that fails now failed before and some things that pass now failed before.\r\n\r\n[1] Clang sometimes replaces struct assignments with memcpys without considering the possibility that the assigned structs could overlap (e.g. by being an assign to self.).  Clang's authors argue that this is a valgrind FP because the compiler is allowed to use \"undefined behavior\", which is true but they are being foolish in this case:  Memcpy is implemented by libc, which they have no visibility or control over and libc can change out from under them to make UB like this unsafe.  (In fact, it has done so before-- it used to be safe with overlaps, now its is only safe for overlaps that are assign to self).\r\n\r\nTODO:\r\n Must test: ARM8, More recent clang on ARM7. More recent GCC on ARM7. MIPS (common embedded platform and valgrind works there)\r\n Fix ASM compile failure on clang w/ ARM7. (src/asm/field_10x26_arm.s:118:2: error: instruction requires: armv6t2, etc)\r\n Figure out what is the earliest version of clang that even kinda works.\r\n ICC, Maybe: Open64, Compcert\r\n ARM compiler? (used to be extremely popular in embedded, not sure if it is anymore)\r\n Is it possible to test MSVC using wine and animal sacrifice?\r\n Fix clang 10 AMD64 (or at least report it to clang developers)\r\n```\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664080670",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664242022,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDI0MjAyMg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664242022",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T09:38:21Z",
      "updated_at": "2020-07-27T09:38:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Very nice.\r\n\r\n> TODO:\r\n>  Must test: ARM8, More recent clang on ARM7. More recent GCC on ARM7. MIPS (common embedded platform and valgrind works there)\r\n\r\nThat sounds reasonable. I think we could even merge this now but if you want, let's see if it does not make things worse there either.\r\n\r\n>  Fix ASM compile failure on clang w/ ARM7. (src/asm/field_10x26_arm.s:118:2: error: instruction requires: armv6t2, etc)\r\n\r\nSee https://github.com/bitcoin-core/secp256k1/pull/612 for context.\r\n\r\n>  Fix clang 10 AMD64 (or at least report it to clang developers)\r\n\r\nHm I believe this is the same issue as in `memczero`. I'm just surprised that you can only see this for -Os, here it branches on O2/O3 too:\r\n\r\nhttps://godbolt.org/z/57Ya89\r\n\r\nI propose we should get rid of `secp256k1_int_cmov` and use `memczero` instead, that's simpler. I suspect it costs half of a microsecond but it's only used in pubkey recovery. :shrug:  (Anyway, it's hard to write obscure code to annoy the optimizer and at the same time expect performance. If we want performance, we should consider having asm implementations for all the cmov functions at least on x86_64... )",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664242022",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664298868,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDI5ODg2OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664298868",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T10:39:44Z",
      "updated_at": "2020-07-27T10:39:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "secp256k1_int_cmov doesn't do anything the other cmovs don't do-- so if it's trouble then why won't the other ones (eventually) be trouble when the compiler gods are more angry?   In the current use-- it could be a memczero just fine, so I'd be fine with that change and if you want to add that to this PR that would be okay with me. Though I wouldn't be too surprised if some future change needs an actual cmov.\r\n\r\nIf you wanted to get this merged right away that would be okay with me. I do think it would be best to at least get tests with current compilers on arm7 and arm8-- just to guard against the unlikely case that it makes something important worse. I'll try to do that in the next 24 hours.\r\n\r\nThere is probably going to need to be some document that lists what compilers the software has been tested on or something. I'm not sure. The valgrind test is easy and has so far shown to be pretty reliable, but we're hamstrung by the fact that it can't be run on embedded targets which are the most vulnerable to sidechannel attacks.\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664298868",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664355811,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDM1NTgxMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664355811",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T12:04:43Z",
      "updated_at": "2020-07-27T12:05:18Z",
      "author_association": "CONTRIBUTOR",
      "body": "> secp256k1_int_cmov doesn't do anything the other cmovs don't do-- so if it's trouble then why won't the other ones (eventually) be trouble when the compiler gods are more angry? In the current use-- it could be a memczero just fine, so I'd be fine with that change and if you want to add that to this PR that would be okay with me. Though I wouldn't be too surprised if some future change needs an actual cmov.\r\n\r\nI agree but I don't have a much better idea currently as a quick fix. The only problematic compiler seems clang and clang seems easy to convince to use a real cmov by the ternary operator but then other compilers insert branches and I'd like to avoid compiler-conditional compilation at the moment. We may want to do this if clang starts \"optimizing\" the cmov functions in the arithmetic code...\r\n\r\n> \r\n> If you wanted to get this merged right away that would be okay with me. I do think it would be best to at least get tests with current compilers on arm7 and arm8-- just to guard against the unlikely case that it makes something important worse. I'll try to do that in the next 24 hours.\r\n\r\nGreat!\r\n\r\n> \r\n> There is probably going to need to be some document that lists what compilers the software has been tested on or something. I'm not sure. The valgrind test is easy and has so far shown to be pretty reliable, but we're hamstrung by the fact that it can't be run on embedded targets which are the most vulnerable to sidechannel attacks.\r\n\r\nYep. If I had a lot of time, I'd setup a fork of the compiler explorer in order to get a shitload of compilers and targets  (it has docker images for the compilers),  and then look automatically for branch instructions in a given list of functions. We could even make it look for variable-time instructions etc.\r\n\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664355811",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6NjdhNDI5ZjMxZmQzZDFiMzdjNTM2NWNjNThiNzA1ODhiODY0NWQ2Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "tree": {
        "sha": "d791d3214fb06dea38417a79c2f3385f403a323e",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/d791d3214fb06dea38417a79c2f3385f403a323e"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5b196338f0c8dc07bf0eece37b46d8686c4da3ce",
          "sha": "5b196338f0c8dc07bf0eece37b46d8686c4da3ce",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5b196338f0c8dc07bf0eece37b46d8686c4da3ce"
        }
      ],
      "message": "Suppress a harmless variable-time optimization by clang in _int_cmov\n\nFollow up on 52a03512c1d800603b5c923c1a28bdba12dadb30",
      "committer": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2020-07-27T12:35:05Z"
      },
      "author": {
        "name": "Tim Ruffing",
        "email": "crypto@timruffing.de",
        "date": "2020-07-27T12:35:05Z"
      },
      "sha": "67a429f31fd3d1b37c5365cc58b70588b8645d62"
    },
    {
      "event": "commented",
      "id": 664370929,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDM3MDkyOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664370929",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T12:39:07Z",
      "updated_at": "2020-07-27T12:39:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > secp256k1_int_cmov doesn't do anything the other cmovs don't do-- so if it's trouble then why won't the other ones (eventually) be trouble when the compiler gods are more angry? In the current use-- it could be a memczero just fine, so I'd be fine with that change and if you want to add that to this PR that would be okay with me. Though I wouldn't be too surprised if some future change needs an actual cmov.\r\n> \r\n> I agree but I don't have a much better idea currently as a quick fix. The only problematic compiler seems clang and clang seems easy to convince to use a real cmov by the ternary operator but then other compilers insert branches and I'd like to avoid compiler-conditional compilation at the moment. We may want to do this if clang starts \"optimizing\" the cmov functions in the arithmetic code...\r\n\r\nPushed but I kept the function for now and applied the same \"fix\" as in `memczero`. I felt it's somewhat inconsistent to remove it given that we have also `_scalar_cmov` which is also used only to overwrite with zeros if signing fails (and could be replaced `memczero` too but that's another discussion then).",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664370929",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "reviewed",
      "id": 455763973,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NzYzOTcz",
      "url": null,
      "actor": null,
      "commit_id": "67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#pullrequestreview-455763973",
      "submitted_at": "2020-07-27T13:10:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772"
    },
    {
      "event": "commented",
      "id": 664519596,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDUxOTU5Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664519596",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T17:03:39Z",
      "updated_at": "2020-07-27T17:03:39Z",
      "author_association": "CONTRIBUTOR",
      "body": ">  and then look automatically for branch instructions in a given list of functions.\r\n\r\nSadly that doesn't work well because branches on non-secret inputs are fine. (or rather, it works fine to do it by hand, it didn't seem to be something we could automate)",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664519596",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664525853,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDUyNTg1Mw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664525853",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-27T17:15:28Z",
      "updated_at": "2020-07-27T17:15:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > and then look automatically for branch instructions in a given list of functions.\r\n> \r\n> Sadly that doesn't work well because branches on non-secret inputs are fine. (or rather, it works fine to do it by hand, it didn't seem to be something we could automate)\r\n\r\nYeah it would certainly not be trivial, also with declassifications etc. I don't know. It would envision it rather as a thing where you audit the branches once and then it's some kind of CI thing that will tell you if a new PR will introduce new branches. So it's not perfect, but at least any changes in branching behavior get your attention (like with test coverage tools etc.) ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664525853",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664723676,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDcyMzY3Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664723676",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T01:31:09Z",
      "updated_at": "2020-07-28T02:24:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "I confirm the latest commit fixes\r\n\r\nAMD64 Fedora 32 Clang 10.0.0 -Os.\r\n\r\nAnd the following also pass:\r\n\r\narm7 Arch GCC 9.3.0 -O3\r\narm7 Arch GCC 9.3.0 -O2\r\narm7 Arch GCC 9.3.0 -Os\r\narm7 Arch Clang 10.0.1 -O3\r\narm7 Arch Clang 10.0.1 -O2\r\narm7 Arch Clang 10.0.1 -Os\r\n\r\n\r\nI just found an arm8 host, testing will be forthcoming.\r\n\r\nAlso: dear lord ecdsa_verify: min 3088us / avg 3089us / max 3090us  (i.MX53 no bignum, no asm) perhaps I should have looked harder for a faster device to test on...\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664723676",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664767124,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDc2NzEyNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664767124",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T04:17:03Z",
      "updated_at": "2020-07-28T04:55:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "Okay, we can add the following as passes:\r\n\r\narmv8 Ubuntu GCC 9.3.0 -O3\r\narmv8 Ubuntu GCC 9.3.0 -O2\r\narmv8 Ubuntu GCC 9.3.0 -Os\r\narmv8 Ubuntu Clang 10.0.0-4 -O3\r\narmv8 Ubuntu Clang 10.0.0-4 -O2\r\narmv8 Ubuntu Clang 10.0.0-4 -Os\r\n\r\nAs having no variable time bugs with this PR.\r\n\r\nHowever, there are spurious failures, which I'll open an issue for.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664767124",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664812966,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDgxMjk2Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664812966",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T06:50:21Z",
      "updated_at": "2020-07-28T06:50:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "AMD64 ICC 19.1.2.254\r\n\r\n```\r\n==407113== Conditional jump or move depends on uninitialised value(s)\r\n==407113==    at 0x485FB93: secp256k1_ec_pubkey_create (secp256k1.c:568)\r\n==407113==    by 0x401490: main (valgrind_ctime_test.c:56)\r\n==407113== \r\n==407113== Conditional jump or move depends on uninitialised value(s)\r\n==407113==    at 0x48674AA: secp256k1_scalar_is_zero (secp256k1.c:521)\r\n==407113==    by 0x48674AA: secp256k1_scalar_set_b32_seckey (scalar_impl.h:61)\r\n==407113==    by 0x48674AA: secp256k1_scalar_cmov (secp256k1.c:496)\r\n==407113==    by 0x48674AA: secp256k1_ecdsa_sign_inner (secp256k1.c:488)\r\n==407113==    by 0x48670BE: secp256k1_ecdsa_sign_recoverable (main_impl.h:132)\r\n==407113==    by 0x401821: main (valgrind_ctime_test.c:81)\r\n```\r\n\r\nYour volatile tricks do not fool ICC.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664812966",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664912919,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDkxMjkxOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664912919",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T09:20:23Z",
      "updated_at": "2020-07-28T09:20:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "> AMD64 ICC 19.1.2.254\r\n> \r\n> ```\r\n> ==407113==    by 0x48674AA: secp256k1_scalar_cmov (secp256k1.c:496)\r\n> ```\r\n> \r\n> Your volatile tricks do not fool ICC.\r\n\r\nThat's because that function does not use this ugly hack yet. Sad. https://github.com/bitcoin-core/secp256k1/blob/5e1c885efb0f400d024efc259eddd6a5ee9cba7b/src/scalar_8x32_impl.h#L721-L725\r\n\r\n> secp256k1_int_cmov doesn't do anything the other cmovs don't do-- so if it's trouble then why won't the other ones (eventually) be trouble when the compiler gods are more angry?\r\n\r\nOk, that escalated more quickly than I expected.\r\n\r\nWhat do you think? Should we handle this in this PR, in another PR (that maybe looks into the cmovs in more detail) or not at all (because ICC)?  ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664912919",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664931201,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDkzMTIwMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664931201",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T09:42:53Z",
      "updated_at": "2020-07-28T09:42:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "@real-or-random  Your call!  I ACK this PR as is, though I'd like to continue this effort in another PR if we go the route of merging this.\r\n\r\n> That's because that function does not use this ugly hack yet. Sad. \r\n\r\nLol!  hah. I called it and I didn't even notice.\r\n\r\nI hope you appreciate my motivation for testing test weird stuff is mostly because they act as proxies for things we can't so easily test (e.g. future compilers; or how current compilers would behave after some future PRs move code around in the library) or expose errors that by luck cancel each other out on common developers systems (after all, we've already fixed most of the easy ones) .\r\n\r\nICC is a moderately important compiler in industry-- I think it results in the fastest libsecp256k1 binary that I've tested so far (4% faster than GCC) -- but I also think it's a lot less critical than gcc/clang.  We shouldn't hold up improvements just waiting on more improvements.  I've got a feeling we're going to be chasing these things for a while.\r\n\r\nI think I had a little batching preference before because its easier to test a bunch of changes at once when I'm testing across a bunch of systems.  But I've already tested everything in this PR, as is, against a sufficient set of targets.\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664931201",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3593531827,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU5MzUzMTgyNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3593531827",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T09:42:53Z"
    },
    {
      "event": "subscribed",
      "id": 3593531830,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1OTM1MzE4MzA=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3593531830",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T09:42:53Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T10:42:58Z",
      "updated_at": "2020-07-28T10:42:58Z",
      "source": {
        "issue": {
          "id": 666971723,
          "node_id": "MDU6SXNzdWU2NjY5NzE3MjM=",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/777",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/777/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/777/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/777/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/issues/777",
          "number": 777,
          "state": "open",
          "state_reason": null,
          "title": "secp256k1_scalar_cmov not constant-time on ICC",
          "body": "AMD64 ICC 19.1.2.254\r\n\r\n```\r\n==407113== Conditional jump or move depends on uninitialised value(s)\r\n==407113==    at 0x485FB93: secp256k1_ec_pubkey_create (secp256k1.c:568)\r\n==407113==    by 0x401490: main (valgrind_ctime_test.c:56)\r\n==407113== \r\n==407113== Conditional jump or move depends on uninitialised value(s)\r\n==407113==    at 0x48674AA: secp256k1_scalar_is_zero (secp256k1.c:521)\r\n==407113==    by 0x48674AA: secp256k1_scalar_set_b32_seckey (scalar_impl.h:61)\r\n==407113==    by 0x48674AA: secp256k1_scalar_cmov (secp256k1.c:496)\r\n==407113==    by 0x48674AA: secp256k1_ecdsa_sign_inner (secp256k1.c:488)\r\n==407113==    by 0x48670BE: secp256k1_ecdsa_sign_recoverable (main_impl.h:132)\r\n==407113==    by 0x401821: main (valgrind_ctime_test.c:81)\r\n```\r\n\r\nYour volatile tricks do not fool ICC.\r\n\r\n_Originally posted by @gmaxwell in https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664812966_",
          "user": {
            "login": "real-or-random",
            "id": 1071625,
            "node_id": "MDQ6VXNlcjEwNzE2MjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/real-or-random",
            "html_url": "https://github.com/real-or-random",
            "followers_url": "https://api.github.com/users/real-or-random/followers",
            "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
            "organizations_url": "https://api.github.com/users/real-or-random/orgs",
            "repos_url": "https://api.github.com/users/real-or-random/repos",
            "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/real-or-random/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 5,
          "created_at": "2020-07-28T10:42:57Z",
          "updated_at": "2020-07-28T13:49:35Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 664975639,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDk3NTYzOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664975639",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T11:02:37Z",
      "updated_at": "2020-07-28T11:02:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "\r\n> I think I had a little batching preference before because its easier to test a bunch of changes at once when I'm testing across a bunch of systems. But I've already tested everything in this PR, as is, against a sufficient set of targets.\r\n\r\n\r\nI agree. Let's get this merged then. By the way, if you write your ACKs in the form \"ACK commit-id\", then they'll be included in the merge commit by our GitHub merge script https://github.com/bitcoin-core/bitcoin-maintainer-tools/blob/master/github-merge.py.\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664975639",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 664976360,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDk3NjM2MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664976360",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T11:04:23Z",
      "updated_at": "2020-07-28T11:04:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "@elichai I'm trying to press the \"re-request review\" button but it does not work, so I'm mentioning you here instead. :)",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664976360",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3593823984,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU5MzgyMzk4NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3593823984",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T11:04:23Z"
    },
    {
      "event": "subscribed",
      "id": 3593823987,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1OTM4MjM5ODc=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3593823987",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T11:04:23Z"
    },
    {
      "event": "commented",
      "id": 664984027,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NDk4NDAyNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/664984027",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T11:23:20Z",
      "updated_at": "2020-07-28T11:36:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "I reviewed this and tested the heck out of it. It improves some systems and doesn't appear to make any I tested worse. I also did limited testing for performance (I only tested gcc 10+x86_64+noasm) and this PR didn't  cause any measurable performance loss.\r\n\r\nACK 67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-664984027",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 665047626,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTA0NzYyNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/665047626",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T13:41:51Z",
      "updated_at": "2020-07-28T13:41:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "locally with clang-10 on these lines:\r\nhttps://github.com/bitcoin-core/secp256k1/blob/40412b1930483fe5d2ff184d071d2b5125f84970/src/secp256k1.c#L519:L522\r\n\r\nIn master I get:\r\n```asm\r\n        0010379e 48 85 c9        TEST       param_4,param_4\r\n        001037a1 74 07           JZ         LAB_001037aa\r\n        001037a6 f7 d8           NEG        EAX\r\n        001037a8 21 01           AND        dword ptr [param_4],EAX\r\n```\r\nghidra disassembly:\r\n```c\r\n  if (local_230 != (uint *)0x0) {\r\n    *local_230 = *local_230 & -uVar6;\r\n  }\r\n```\r\n\r\nbut with this PR I get:\r\n```asm\r\n        0010379e 48 85 c9        TEST       param_4,param_4\r\n        001037a1 74 15           JZ         LAB_001037b8\r\n        001037b1 83 c0 ff        ADD        EAX,-0x1\r\n        001037b4 23 01           AND        EAX,dword ptr [param_4]\r\n        001037b6 89 01           MOV        dword ptr [param_4],EAX\r\n```\r\n\r\nghidra disassembly:\r\n```c\r\n  if (local_230 != (uint *)0x0) {\r\n    *local_230 = uVar11 - 1 & *local_230;\r\n  }\r\n```\r\n\r\nboth are constant time but weirdly different",
      "user": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-665047626",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 665050609,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTA1MDYwOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/665050609",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T13:47:31Z",
      "updated_at": "2020-07-28T13:47:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "@elichai Well ok but is this an issue?\r\n\r\nAnd are you okay with my comment above on casting early? \r\nhttps://github.com/bitcoin-core/secp256k1/pull/772#discussion_r460881498",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-665050609",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3594445345,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzU5NDQ0NTM0NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3594445345",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T13:47:31Z"
    },
    {
      "event": "subscribed",
      "id": 3594445352,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM1OTQ0NDUzNTI=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3594445352",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T13:47:31Z"
    },
    {
      "event": "commented",
      "id": 665053666,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NTA1MzY2Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/665053666",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T13:53:09Z",
      "updated_at": "2020-07-28T13:54:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "Nope, no issues, just wanted to report my findings.\r\nI did a bunch of local testing with compilers and flags and nothing got worse on my arch + compilers\r\nso if it improves the situation on other targets(gmaxwell says it does) then that's great :)\r\n\r\ntACK 67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "user": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-665053666",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "merged",
      "id": 3594565279,
      "node_id": "MDExOk1lcmdlZEV2ZW50MzU5NDU2NTI3OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3594565279",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "214cb3c321c8f240a456ba2861f84b72141e0584",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/214cb3c321c8f240a456ba2861f84b72141e0584",
      "created_at": "2020-07-28T14:12:39Z"
    },
    {
      "event": "closed",
      "id": 3594565295,
      "node_id": "MDExOkNsb3NlZEV2ZW50MzU5NDU2NTI5NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3594565295",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-28T14:12:39Z"
    },
    {
      "event": "commented",
      "id": 667725333,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzcyNTMzMw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/667725333",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-02T21:12:59Z",
      "updated_at": "2020-08-02T21:12:59Z",
      "author_association": "NONE",
      "body": "It's not exactly my business and it might be not as relevant, but in this time and age one can do better than being left at compiler's mercy to interpret the condition in question as branch or not. I mean the fact that it does it one way today is no guarantee that it won't do it otherwise tomorrow, with different flag or not. The \"secret\" keyword is `__int128`, the type supported by majority of contemporary 64-bit compilers, gcc, clang, icc, xlc (for Linux)...\r\n",
      "user": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-667725333",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 667766727,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Nzc2NjcyNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/667766727",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-03T02:12:55Z",
      "updated_at": "2020-08-03T02:12:55Z",
      "author_association": "CONTRIBUTOR",
      "body": "The library uses it, [on 64-bit](https://github.com/bitcoin-core/secp256k1/blob/master/src/scalar_4x64_impl.h). Most of the code we were discussing was the 32-bit code, while the 64-bit code is similar but uses larger limbs and works into a 128-bit int. Unfortunately it isn't a silver bullet either because we still need carries there too, just far fewer of them.\r\n\r\n[But thanks for the comment, if we hadn't been aware of that it would be a major revelation and much appreciated!]\r\n",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-667766727",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 667884910,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY2Nzg4NDkxMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/667884910",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-03T08:26:28Z",
      "updated_at": "2020-08-03T13:52:11Z",
      "author_association": "NONE",
      "body": "What I tried to hint at is that one can use 128-bit additions to avoid handling carries with conditionals. For example muladd could look like this:\r\n```\r\nuint128_t t = (uint128_t)a * b + c0;\r\nc0 = (uint64_t)t;\r\nt = (t>>64) + c1;\r\nc1 = (uint64_t)t;\r\nc2 += (uint64_t)(t>>64);\r\n```\r\nThis can be naturally extended to 32-bit platforms by replacing ~uint64_t~ 64 with ~uint32_t~ 32 and uint128_t with uint64_t. And I kind of assumed that it was like that on 32-bit platforms...",
      "user": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-667884910",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "commented",
      "id": 670270336,
      "node_id": "MDEyOklzc3VlQ29tbWVudDY3MDI3MDMzNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/670270336",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-07T01:24:31Z",
      "updated_at": "2020-08-07T01:24:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "@dot-asm Of course... I don't understand why I never considered that, as the exact same code was already using doubly-wide types for the multiplication...\r\n\r\nSee https://github.com/bitcoin-core/secp256k1/pull/786.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-670270336",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/772"
    },
    {
      "event": "mentioned",
      "id": 3631388278,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MzYzMTM4ODI3OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3631388278",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-07T01:24:31Z"
    },
    {
      "event": "subscribed",
      "id": 3631388281,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDM2MzEzODgyODE=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3631388281",
      "actor": {
        "login": "dot-asm",
        "id": 9038069,
        "node_id": "MDQ6VXNlcjkwMzgwNjk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9038069?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dot-asm",
        "html_url": "https://github.com/dot-asm",
        "followers_url": "https://api.github.com/users/dot-asm/followers",
        "following_url": "https://api.github.com/users/dot-asm/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dot-asm/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dot-asm/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dot-asm/subscriptions",
        "organizations_url": "https://api.github.com/users/dot-asm/orgs",
        "repos_url": "https://api.github.com/users/dot-asm/repos",
        "events_url": "https://api.github.com/users/dot-asm/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dot-asm/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-07T01:24:31Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-08-07T01:25:40Z",
      "updated_at": "2020-08-07T01:25:40Z",
      "source": {
        "issue": {
          "id": 674691815,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDY0MzM4Njc4",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/786",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/786/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/786/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/786/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/pull/786",
          "number": 786,
          "state": "closed",
          "state_reason": null,
          "title": "Use double-wide types for additions in scalar code",
          "body": "Suggested [here](https://github.com/bitcoin-core/secp256k1/pull/772#issuecomment-667884910) by Andy Polyakov.\r\n\r\nThis is shorter, easier to reason about, more likely to not contain branches, and likely (slightly) faster too.\r\n\r\n",
          "user": {
            "login": "sipa",
            "id": 548488,
            "node_id": "MDQ6VXNlcjU0ODQ4OA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sipa",
            "html_url": "https://github.com/sipa",
            "followers_url": "https://api.github.com/users/sipa/followers",
            "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
            "organizations_url": "https://api.github.com/users/sipa/orgs",
            "repos_url": "https://api.github.com/users/sipa/repos",
            "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/sipa/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 12,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/786",
            "html_url": "https://github.com/bitcoin-core/secp256k1/pull/786",
            "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/786.diff",
            "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/786.patch"
          },
          "closed_at": "2023-05-08T15:51:45Z",
          "created_at": "2020-08-07T01:22:53Z",
          "updated_at": "2023-05-08T15:51:45Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "referenced",
      "id": 3812102551,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4MTIxMDI1NTE=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3812102551",
      "actor": {
        "login": "jasonbcox",
        "id": 602513,
        "node_id": "MDQ6VXNlcjYwMjUxMw==",
        "avatar_url": "https://avatars.githubusercontent.com/u/602513?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jasonbcox",
        "html_url": "https://github.com/jasonbcox",
        "followers_url": "https://api.github.com/users/jasonbcox/followers",
        "following_url": "https://api.github.com/users/jasonbcox/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jasonbcox/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jasonbcox/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jasonbcox/subscriptions",
        "organizations_url": "https://api.github.com/users/jasonbcox/orgs",
        "repos_url": "https://api.github.com/users/jasonbcox/repos",
        "events_url": "https://api.github.com/users/jasonbcox/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jasonbcox/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "62fa9a6ee5b0fad14c60c8bcde814b59d2c9bbde",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/bitcoin-abc/commits/62fa9a6ee5b0fad14c60c8bcde814b59d2c9bbde",
      "created_at": "2020-09-27T23:25:03Z"
    },
    {
      "event": "referenced",
      "id": 3812540620,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDM4MTI1NDA2MjA=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3812540620",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "80b968b02747a65a9bc3303af544a0d31e1cc897",
      "commit_url": "https://api.github.com/repos/Bitcoin-ABC/secp256k1/commits/80b968b02747a65a9bc3303af544a0d31e1cc897",
      "created_at": "2020-09-28T04:33:34Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/460877663",
      "pull_request_review_id": 455763973,
      "id": 460877663,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg3NzY2Mw==",
      "diff_hunk": "@@ -197,10 +197,15 @@ static SECP256K1_INLINE void memczero(void *s, size_t len, int flag) {\n /** If flag is true, set *r equal to *a; otherwise leave it. Constant-time.  Both *r and *a must be initialized and non-negative.*/\n static SECP256K1_INLINE void secp256k1_int_cmov(int *r, const int *a, int flag) {\n     unsigned int mask0, mask1, r_masked, a_masked;\n+    /* Access flag with a volatile-qualified lvalue.\n+       This prevents clang from figuring out (after inlining) that flag can\n+       take only be 0 or 1, which leads to variable time code. */\n+    volatile int vflag = flag;",
      "path": "src/util.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "original_commit_id": "67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "in_reply_to_id": null,
      "user": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "you can make that `volatile unsigned int` and then remove the casting a few lines below?",
      "created_at": "2020-07-27T13:10:25Z",
      "updated_at": "2020-07-27T13:10:25Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#discussion_r460877663",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/460877663"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 203,
      "original_line": 203,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/460881498",
      "pull_request_review_id": 455769518,
      "id": 460881498,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg4MTQ5OA==",
      "diff_hunk": "@@ -197,10 +197,15 @@ static SECP256K1_INLINE void memczero(void *s, size_t len, int flag) {\n /** If flag is true, set *r equal to *a; otherwise leave it. Constant-time.  Both *r and *a must be initialized and non-negative.*/\n static SECP256K1_INLINE void secp256k1_int_cmov(int *r, const int *a, int flag) {\n     unsigned int mask0, mask1, r_masked, a_masked;\n+    /* Access flag with a volatile-qualified lvalue.\n+       This prevents clang from figuring out (after inlining) that flag can\n+       take only be 0 or 1, which leads to variable time code. */\n+    volatile int vflag = flag;",
      "path": "src/util.h",
      "position": 7,
      "original_position": 7,
      "commit_id": "67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "original_commit_id": "67a429f31fd3d1b37c5365cc58b70588b8645d62",
      "in_reply_to_id": 460877663,
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Hm, I don't see why this is better. I prefer the current form because then it's just copy/paste from above. (I know duplicated code is to be avoided but duplicated *and* modified code is even worse.)  ",
      "created_at": "2020-07-27T13:16:27Z",
      "updated_at": "2020-07-27T13:23:26Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/772#discussion_r460881498",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/460881498"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/772"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 203,
      "original_line": 203,
      "side": "RIGHT"
    }
  ]
}