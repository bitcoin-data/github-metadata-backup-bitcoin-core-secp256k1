{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031",
    "id": 795144308,
    "node_id": "PR_kwDOAP4Jqs4vZPB0",
    "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031",
    "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/1031.diff",
    "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/1031.patch",
    "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031",
    "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/7e2acdae49b68d68768c52b97aab86a45b875f98",
    "number": 1031,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Faster const-time modinv divsteps",
    "user": {
      "login": "peterdettman",
      "id": 3423981,
      "node_id": "MDQ6VXNlcjM0MjM5ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterdettman",
      "html_url": "https://github.com/peterdettman",
      "followers_url": "https://api.github.com/users/peterdettman/followers",
      "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
      "organizations_url": "https://api.github.com/users/peterdettman/orgs",
      "repos_url": "https://api.github.com/users/peterdettman/repos",
      "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/peterdettman/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Changes to _divsteps_59 (_30) that give maybe 4% speed improvement to const-time modinv on 64 bit. I see a larger gain on 32 bit but measured on 64 bit so might not be real.\r\n\r\nStart the result matrix scaled by 2^62 (resp. 2^30) and shift q, r down instead of u, v up at each step (should make life easier for vectorization). Since we're always shifting away the LSB of g, q, r, we can avoid doing a full negation for x, y, z (after a few tweaks). Then it makes sense to switch zeta back to delta (I confined this change to the local method for the moment).",
    "labels": [],
    "created_at": "2021-12-04T18:25:21Z",
    "updated_at": "2023-05-11T16:19:36Z",
    "closed_at": "2023-05-11T16:19:35Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "7f4fa4dbd65ad5494229d6cd027a5afd78a36d11",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "peterdettman:opt_modinv",
      "ref": "opt_modinv",
      "sha": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 19929656,
        "node_id": "MDEwOlJlcG9zaXRvcnkxOTkyOTY1Ng==",
        "name": "secp256k1",
        "full_name": "peterdettman/secp256k1",
        "owner": {
          "login": "peterdettman",
          "id": 3423981,
          "node_id": "MDQ6VXNlcjM0MjM5ODE=",
          "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/peterdettman",
          "html_url": "https://github.com/peterdettman",
          "followers_url": "https://api.github.com/users/peterdettman/followers",
          "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
          "organizations_url": "https://api.github.com/users/peterdettman/orgs",
          "repos_url": "https://api.github.com/users/peterdettman/repos",
          "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/peterdettman/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/peterdettman/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": true,
        "url": "https://api.github.com/repos/peterdettman/secp256k1",
        "archive_url": "https://api.github.com/repos/peterdettman/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/peterdettman/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/peterdettman/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/peterdettman/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/peterdettman/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/peterdettman/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/peterdettman/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/peterdettman/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/peterdettman/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/peterdettman/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/peterdettman/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/peterdettman/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/peterdettman/secp256k1/events",
        "forks_url": "https://api.github.com/repos/peterdettman/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/peterdettman/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/peterdettman/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/peterdettman/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/peterdettman/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/peterdettman/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/peterdettman/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/peterdettman/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/peterdettman/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/peterdettman/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/peterdettman/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/peterdettman/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/peterdettman/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/peterdettman/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/peterdettman/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/peterdettman/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:peterdettman/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/peterdettman/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/peterdettman/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/peterdettman/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/peterdettman/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/peterdettman/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/peterdettman/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/peterdettman/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/peterdettman/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/peterdettman/secp256k1/hooks",
        "svn_url": "https://github.com/peterdettman/secp256k1",
        "language": "C",
        "forks_count": 0,
        "stargazers_count": 1,
        "watchers_count": 1,
        "size": 9530,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2022-04-20T06:00:57Z",
        "created_at": "2014-05-19T04:58:16Z",
        "updated_at": "2022-01-01T06:09:08Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin-core:master",
      "ref": "master",
      "sha": "485f608fa9e28f132f127df97136617645effe81",
      "user": {
        "login": "bitcoin-core",
        "id": 13464320,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin-core",
        "html_url": "https://github.com/bitcoin-core",
        "followers_url": "https://api.github.com/users/bitcoin-core/followers",
        "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
        "repos_url": "https://api.github.com/users/bitcoin-core/repos",
        "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 16648618,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjY0ODYxOA==",
        "name": "secp256k1",
        "full_name": "bitcoin-core/secp256k1",
        "owner": {
          "login": "bitcoin-core",
          "id": 13464320,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin-core",
          "html_url": "https://github.com/bitcoin-core",
          "followers_url": "https://api.github.com/users/bitcoin-core/followers",
          "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
          "repos_url": "https://api.github.com/users/bitcoin-core/repos",
          "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin-core/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1",
        "archive_url": "https://api.github.com/repos/bitcoin-core/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin-core/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin-core/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin-core/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin-core/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/events",
        "forks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin-core/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin-core/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin-core/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/bitcoin-core/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin-core/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin-core/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin-core/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin-core/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/bitcoin-core/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin-core/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/hooks",
        "svn_url": "https://github.com/bitcoin-core/secp256k1",
        "language": "C",
        "forks_count": 962,
        "stargazers_count": 1802,
        "watchers_count": 1802,
        "size": 10374,
        "default_branch": "master",
        "open_issues_count": 145,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-01T01:00:35Z",
        "created_at": "2014-02-08T17:30:06Z",
        "updated_at": "2023-08-01T08:52:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 202,
    "deletions": 165,
    "changed_files": 3,
    "commits": 5,
    "review_comments": 12,
    "comments": 19
  },
  "events": [
    {
      "event": "commented",
      "id": 989138364,
      "node_id": "IC_kwDOAP4Jqs469Q28",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/989138364",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-08T19:41:40Z",
      "updated_at": "2021-12-08T19:41:40Z",
      "author_association": "CONTRIBUTOR",
      "body": "Wowwow, calm down!",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-989138364",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 989313072,
      "node_id": "IC_kwDOAP4Jqs4697gw",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/989313072",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-08T23:33:54Z",
      "updated_at": "2021-12-08T23:33:54Z",
      "author_association": "CONTRIBUTOR",
      "body": "See https://github.com/sipa/secp256k1/commits/pr1031 for two commits on top of this. One renames your delta to theta (as the variable operated on is really defined as delta-1/2 compared to delta as defined in the paper). The other updates the writeup to reflect the improvements here.\r\n\r\nConcept ACK in any case. I'll look over the code in more detail, but at least this convinces me it's correct.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-989313072",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 989703692,
      "node_id": "IC_kwDOAP4Jqs46_a4M",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/989703692",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-09T10:07:36Z",
      "updated_at": "2021-12-09T10:07:36Z",
      "author_association": "CONTRIBUTOR",
      "body": "As I understand, this should always be faster and we don't need lots of benchmarks to confirm. \r\n\r\n>  The other updates the writeup to reflect the improvements here.\r\n\r\nNice, I wanted to ask for this. \r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-989703692",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 990097841,
      "node_id": "IC_kwDOAP4Jqs47A7Gx",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/990097841",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-09T18:09:30Z",
      "updated_at": "2021-12-09T18:09:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "Updated my branch with additional assertions and a few more improvements to the documentation.\r\n\r\nCode review ACK. I'm happy to do my changes on top in a separate PR, though it's probably better to include them, as a few code comments are out of that as-is in this PR. Feel free to cherry-pick or otherwise include my suggested changes.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-990097841",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 990883387,
      "node_id": "IC_kwDOAP4Jqs47D647",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/990883387",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T11:17:21Z",
      "updated_at": "2021-12-10T11:17:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Wowwow, calm down!\r\n\r\n@sipa Never!\r\n\r\nSo, after I PR'ed this, I sat there looking at the code and thinking: you know, there's a lot of low zeros in u/v/q/r... you could almost fit an f/g in there...\r\n\r\n(a few moments later)\r\n\r\nhttps://github.com/peterdettman/secp256k1/tree/vec_modinv\r\n\r\nI won't spoiler it, but you might like to benchmark const-time inverses in that branch...",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-990883387",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5747108191,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFWjelf",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5747108191",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T11:17:21Z"
    },
    {
      "event": "subscribed",
      "id": 5747108199,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFWjeln",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5747108199",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T11:17:21Z"
    },
    {
      "event": "commented",
      "id": 991050071,
      "node_id": "IC_kwDOAP4Jqs47EjlX",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/991050071",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T15:09:05Z",
      "updated_at": "2021-12-10T15:21:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "@peterdettman Nice!\r\n\r\nBenchmarks on Ryzen 5950x (default compilation options, GCC 11.2.0, `SECP256K1_BENCH_ITERS=1000000 ./bench_internal inverse`:\r\n\r\n```\r\nmaster:\r\nfield_inverse                 ,     1.27      ,     1.27      ,     1.28   \r\nfield_inverse_var             ,     0.867     ,     0.871     ,     0.874  \r\npr1031:\r\nfield_inverse                 ,     1.26      ,     1.26      ,     1.27   \r\nfield_inverse_var             ,     0.846     ,     0.860     ,     0.868  \r\nvec_modinv:\r\nfield_inverse                 ,     0.986     ,     0.995     ,     1.01   \r\nfield_inverse_var             ,     0.868     ,     0.870     ,     0.873  \r\nvec_modinv, using the const-time matrix in the vartime code:\r\nfield_inverse                 ,     1.00      ,     1.00      ,     1.01   \r\nfield_inverse_var             ,     0.866     ,     0.871     ,     0.876  \r\n```\r\n\r\nThis seems to at least suggest the option of throwing out the vartime matrix computation code, and using this new constant-time code for both?\r\n\r\nThe last option (if someone else wants to benchmark) is simply this on top of https://github.com/peterdettman/secp256k1/tree/vec_modinv:\r\n\r\n```diff\r\n@@ -568,7 +568,7 @@ static void secp256k1_modinv64_var(secp256k1_modinv64_signed62 *x, const secp256\r\n     while (1) {\r\n         /* Compute transition matrix and new eta after 62 divsteps. */\r\n         secp256k1_modinv64_trans2x2 t;\r\n-        eta = secp256k1_modinv64_divsteps_62_var(eta, f.v[0], g.v[0], &t);\r\n+        eta = secp256k1_modinv64_divsteps_59(eta, f.v[0], g.v[0], &t);\r\n         /* Update d,e using that transition matrix. */\r\n```\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-991050071",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5748370674,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFWoSzy",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5748370674",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T15:09:05Z"
    },
    {
      "event": "subscribed",
      "id": 5748370689,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFWoS0B",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5748370689",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T15:09:05Z"
    },
    {
      "event": "commented",
      "id": 991091831,
      "node_id": "IC_kwDOAP4Jqs47Etx3",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/991091831",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T16:01:31Z",
      "updated_at": "2021-12-10T16:01:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "Wow, that's even more improvement than on my machine. Around 4900 cycles, right?\r\n\r\nFor the _var version, if copying the vec approach at minimum the vartime version would want to escape at the halfway mark if g1 is 0 (mod remaining steps) already, so I think there would still be a separate version. I haven't really looked at it though.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-991091831",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 991092934,
      "node_id": "IC_kwDOAP4Jqs47EuDG",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/991092934",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T16:02:48Z",
      "updated_at": "2021-12-10T16:02:48Z",
      "author_association": "CONTRIBUTOR",
      "body": "@peterdettman A vartime version of the vec matrix code could perhaps also do more than 59 iterations.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-991092934",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5748688039,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFWpgSn",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5748688039",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T16:02:48Z"
    },
    {
      "event": "subscribed",
      "id": 5748688053,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFWpgS1",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5748688053",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T16:02:48Z"
    },
    {
      "event": "commented",
      "id": 991095741,
      "node_id": "IC_kwDOAP4Jqs47Euu9",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/991095741",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T16:06:01Z",
      "updated_at": "2021-12-10T16:06:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "It could trivially do 60. The current core vec loop tops out at 30. In theory I think it can do 31, but it's not a given until I work it through.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-991095741",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 991113994,
      "node_id": "IC_kwDOAP4Jqs47EzMK",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/991113994",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-10T16:28:42Z",
      "updated_at": "2021-12-10T16:29:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "Benchmarks on ARM64 (Cortex-A53, default compilation options, GCC 9.3.0, `./bench_internal inverse`):\r\n\r\n```\r\nmaster:\r\nfield_inverse                 ,    12.5       ,    12.5       ,    12.5    \r\nfield_inverse_var             ,     7.26      ,     7.27      ,     7.27\r\npr1031:\r\nfield_inverse                 ,    11.9       ,    11.9       ,    11.9    \r\nfield_inverse_var             ,     7.26      ,     7.27      ,     7.27 \r\nvec_modinv:\r\nfield_inverse                 ,    11.1       ,    11.1       ,    11.1    \r\nfield_inverse_var             ,     7.26      ,     7.27      ,     7.27   \r\nvec_modinv using const-time matrix for vartime:\r\nfield_inverse                 ,    11.2       ,    11.2       ,    11.2    \r\nfield_inverse_var             ,     9.83      ,     9.83      ,     9.83  \r\n```\r\n\r\nLooks like we shouldn't throw out the vartime matrix code just yet...",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-991113994",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5799004813,
      "node_id": "HRFPE_lADOAP4Jqs4_2j4PzwAAAAFZpcqN",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5799004813",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T13:36:53Z"
    },
    {
      "event": "commented",
      "id": 998916215,
      "node_id": "IC_kwDOAP4Jqs47ikB3",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/998916215",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:21:56Z",
      "updated_at": "2021-12-21T16:21:56Z",
      "author_association": "CONTRIBUTOR",
      "body": "ACK 6afd499f53e94d48a7fd90ff345d47101a6c6e41\r\n\r\n@robot-dreams Perhaps you're interested in reviewing this too?\r\n\r\n@peterdettman Given that your later (and much more significant) improvement builds on top of this one (at least conceptually, using initially-shifted u,v,q,r variables) and doesn't work for 32 bit yet, I'd vote to get this change merged as-is, and do the rest in a follow-up. WDYT?",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-998916215",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5800024536,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFZtVnY",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5800024536",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:21:56Z"
    },
    {
      "event": "subscribed",
      "id": 5800024541,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFZtVnd",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5800024541",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:21:56Z"
    },
    {
      "event": "mentioned",
      "id": 5800024548,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFZtVnk",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5800024548",
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:21:56Z"
    },
    {
      "event": "subscribed",
      "id": 5800024554,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFZtVnq",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5800024554",
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:21:56Z"
    },
    {
      "event": "commented",
      "id": 998937066,
      "node_id": "IC_kwDOAP4Jqs47ipHq",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/998937066",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:50:42Z",
      "updated_at": "2021-12-21T16:50:42Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa Yeah, we may as well merge this, since the other one is still under experimentation and will in any case require significant write-up and VERIFY checks.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-998937066",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5800188436,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFZt9oU",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5800188436",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:50:43Z"
    },
    {
      "event": "subscribed",
      "id": 5800188446,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFZt9oe",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5800188446",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-21T16:50:43Z"
    },
    {
      "event": "reviewed",
      "id": 838061236,
      "node_id": "PRR_kwDOAP4Jqs4x88y0",
      "url": null,
      "actor": null,
      "commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the tag @sipa ! You're right, I'm definitely interested in this change 😄\r\n\r\nI took an initial look at the new writeup and it looks correct so far, but I still need to sleep on it and then review the new C implementation carefully.",
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#pullrequestreview-838061236",
      "submitted_at": "2021-12-22T07:21:40Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
    },
    {
      "event": "reviewed",
      "id": 838602170,
      "node_id": "PRR_kwDOAP4Jqs4x_A26",
      "url": null,
      "actor": null,
      "commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "body": "ACK 6afd499f53e94d48a7fd90ff345d47101a6c6e41\r\n\r\nI checked the writeup updates, made sure the updated Python code produced the same transition matrices as before (using various small parameters), and then compared the Python vs. C implementations line by line.\r\n\r\nAm I understanding correctly that removing 3 subtractions from the inner loop gives such a dramatic speedup?",
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#pullrequestreview-838602170",
      "submitted_at": "2021-12-22T16:45:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
    },
    {
      "event": "commented",
      "id": 999743090,
      "node_id": "IC_kwDOAP4Jqs47lt5y",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/999743090",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-22T17:22:46Z",
      "updated_at": "2021-12-22T17:25:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Am I understanding correctly that removing 3 subtractions from the inner loop gives such a dramatic speedup?\r\n\r\n@sipa gave numbers from a different branch of mine that is more radical. This PR probably only gives a few percent, and maybe nothing if the processor could have executed them in parallel anyway.\r\n\r\nEdit: \"in parallel\" meaning using otherwise idle ALUs/registers, although it's also possible to have f/u/v, g/q/r, x/y/z be vectorized, in which case there might only even be the one operation saved.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-999743090",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5805978742,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFaEDR2",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5805978742",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-22T17:22:47Z"
    },
    {
      "event": "subscribed",
      "id": 5805978751,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFaEDR_",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5805978751",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-22T17:22:47Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5809818844,
      "node_id": "HRFPE_lADOAP4Jqs4_2j4PzwAAAAFaSszc",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5809818844",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-23T13:01:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5814131736,
      "node_id": "HRFPE_lADOAP4Jqs4_2j4PzwAAAAFajJwY",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5814131736",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-24T17:21:21Z"
    },
    {
      "event": "commented",
      "id": 1000905327,
      "node_id": "IC_kwDOAP4Jqs47qJpv",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1000905327",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-24T17:27:57Z",
      "updated_at": "2021-12-24T17:27:57Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa I'm currently assuming that you will get to the nits that @robot-dreams had above about safegcd_implementation.md, but I'll sort them out next week if not.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-1000905327",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5814139254,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFajLl2",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5814139254",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-24T17:27:57Z"
    },
    {
      "event": "subscribed",
      "id": 5814139255,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFajLl3",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5814139255",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-24T17:27:57Z"
    },
    {
      "event": "mentioned",
      "id": 5814139256,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFajLl4",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5814139256",
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-24T17:27:57Z"
    },
    {
      "event": "subscribed",
      "id": 5814139257,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFajLl5",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5814139257",
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-24T17:27:57Z"
    },
    {
      "event": "commented",
      "id": 1005077437,
      "node_id": "IC_kwDOAP4Jqs476EO9",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1005077437",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-04T18:44:07Z",
      "updated_at": "2022-01-04T18:44:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "See my updated branch https://github.com/sipa/secp256k1/commits/pr1031 . I've edited the \"Update safegcd writeup to reflect the code\"  commit to address @robot-dreams's comments.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-1005077437",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5842242643,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFcOYxT",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5842242643",
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-04T18:44:07Z"
    },
    {
      "event": "subscribed",
      "id": 5842242645,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFcOYxV",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5842242645",
      "actor": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-04T18:44:07Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5870483559,
      "node_id": "HRFPE_lADOAP4Jqs4_2j4PzwAAAAFd6Hhn",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5870483559",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-11T05:14:17Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 5870509173,
      "node_id": "HRFPE_lADOAP4Jqs4_2j4PzwAAAAFd6Nx1",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5870509173",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-11T05:23:07Z"
    },
    {
      "event": "commented",
      "id": 1009610788,
      "node_id": "IC_kwDOAP4Jqs48LXAk",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1009610788",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-11T05:24:27Z",
      "updated_at": "2022-01-11T05:24:27Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks, @sipa. Squashed one spelling fix into my last commit.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-1009610788",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "mentioned",
      "id": 5870513306,
      "node_id": "MEE_lADOAP4Jqs4_2j4PzwAAAAFd6Oya",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5870513306",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-11T05:24:27Z"
    },
    {
      "event": "subscribed",
      "id": 5870513307,
      "node_id": "SE_lADOAP4Jqs4_2j4PzwAAAAFd6Oyb",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5870513307",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-01-11T05:24:27Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKGQwYTRiMjEyY2I4YTg5NzU1NDVhNzFjYzVkNzgxOWNjOThiNjA2MzQ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/d0a4b212cb8a8975545a71cc5d7819cc98b60634",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/d0a4b212cb8a8975545a71cc5d7819cc98b60634",
      "tree": {
        "sha": "0fe7117908f5566a48858f7fddaa63720d455acc",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/0fe7117908f5566a48858f7fddaa63720d455acc"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/485f608fa9e28f132f127df97136617645effe81",
          "sha": "485f608fa9e28f132f127df97136617645effe81",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/485f608fa9e28f132f127df97136617645effe81"
        }
      ],
      "message": "Faster const-time modinv divsteps",
      "committer": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2022-04-20T05:31:56Z"
      },
      "author": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2021-12-04T18:12:30Z"
      },
      "sha": "d0a4b212cb8a8975545a71cc5d7819cc98b60634"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKGYwMjdlMWY0NDE0YzVlODg2ZWJiNjcxMDE5ODQ4YzEyYWJlMjdlNzY",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/f027e1f4414c5e886ebb671019848c12abe27e76",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/f027e1f4414c5e886ebb671019848c12abe27e76",
      "tree": {
        "sha": "ce2e17a4cf39f99bc7bc061fbf3fca629936736c",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/ce2e17a4cf39f99bc7bc061fbf3fca629936736c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/d0a4b212cb8a8975545a71cc5d7819cc98b60634",
          "sha": "d0a4b212cb8a8975545a71cc5d7819cc98b60634",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/d0a4b212cb8a8975545a71cc5d7819cc98b60634"
        }
      ],
      "message": "modinv: introduce theta=delta-1/2",
      "committer": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2022-04-20T05:31:56Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-12-08T21:44:38Z"
      },
      "sha": "f027e1f4414c5e886ebb671019848c12abe27e76"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDUyNzE4OTRiNGRhMzAxOWFiZjg1NGRkMjgxYzNlNjFkMWZhZjIyZDc",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5271894b4da3019abf854dd281c3e61d1faf22d7",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5271894b4da3019abf854dd281c3e61d1faf22d7",
      "tree": {
        "sha": "5412c6f91353d7067c1991ac4144c37a30131440",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/5412c6f91353d7067c1991ac4144c37a30131440"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/f027e1f4414c5e886ebb671019848c12abe27e76",
          "sha": "f027e1f4414c5e886ebb671019848c12abe27e76",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/f027e1f4414c5e886ebb671019848c12abe27e76"
        }
      ],
      "message": "Update safegcd writeup to reflect the code",
      "committer": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2022-04-20T05:31:56Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-12-08T23:31:29Z"
      },
      "sha": "5271894b4da3019abf854dd281c3e61d1faf22d7"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKGFiNDkwMGQ5ZDhjNWYzNmYzNTIxN2I3YTNiYjYzNTIxYTJjYWY1NjI",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/ab4900d9d8c5f36f35217b7a3bb63521a2caf562",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/ab4900d9d8c5f36f35217b7a3bb63521a2caf562",
      "tree": {
        "sha": "dec3d85c2a5cabefea29f19e75ef37e7e9a40778",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/dec3d85c2a5cabefea29f19e75ef37e7e9a40778"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5271894b4da3019abf854dd281c3e61d1faf22d7",
          "sha": "5271894b4da3019abf854dd281c3e61d1faf22d7",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5271894b4da3019abf854dd281c3e61d1faf22d7"
        }
      ],
      "message": "Improve matrix computation assertions",
      "committer": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2022-04-20T05:31:56Z"
      },
      "author": {
        "name": "Pieter Wuille",
        "email": "pieter@wuille.net",
        "date": "2021-12-09T17:58:23Z"
      },
      "sha": "ab4900d9d8c5f36f35217b7a3bb63521a2caf562"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "C_kwDOAP4JqtoAKDdlMmFjZGFlNDliNjhkNjg3NjhjNTJiOTdhYWI4NmE0NWI4NzVmOTg",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/7e2acdae49b68d68768c52b97aab86a45b875f98",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/7e2acdae49b68d68768c52b97aab86a45b875f98",
      "tree": {
        "sha": "345d88df7d89fe30f1761e94c958ea6df9c90233",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/345d88df7d89fe30f1761e94c958ea6df9c90233"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/ab4900d9d8c5f36f35217b7a3bb63521a2caf562",
          "sha": "ab4900d9d8c5f36f35217b7a3bb63521a2caf562",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/ab4900d9d8c5f36f35217b7a3bb63521a2caf562"
        }
      ],
      "message": "Improve verify check and comments\n\n- Add explanation for 59 divsteps vs 2^62 scaling",
      "committer": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2022-04-20T05:31:56Z"
      },
      "author": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2021-12-11T08:43:26Z"
      },
      "sha": "7e2acdae49b68d68768c52b97aab86a45b875f98"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 6460193510,
      "node_id": "HRFPE_lADOAP4Jqs4_2j4PzwAAAAGBDrrm",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/6460193510",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-20T05:38:29Z"
    },
    {
      "event": "commented",
      "id": 1322626361,
      "node_id": "IC_kwDOAP4Jqs5O1a05",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1322626361",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-11-21T20:52:31Z",
      "updated_at": "2022-11-21T20:52:31Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased on top of merged #1000: https://github.com/sipa/secp256k1/commits/pr1031",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-1322626361",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 1397607365,
      "node_id": "IC_kwDOAP4Jqs5TTcvF",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1397607365",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-01-19T21:02:47Z",
      "updated_at": "2023-01-19T21:02:47Z",
      "author_association": "CONTRIBUTOR",
      "body": "I've taken the liberty to open a rebased PR of this #1197.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-1397607365",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "commented",
      "id": 1544292339,
      "node_id": "IC_kwDOAP4Jqs5cDAfz",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1544292339",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T16:19:35Z",
      "updated_at": "2023-05-11T16:19:35Z",
      "author_association": "CONTRIBUTOR",
      "body": "Closing in favor of #1197",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#issuecomment-1544292339",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1031"
    },
    {
      "event": "closed",
      "id": 9224426254,
      "node_id": "CE_lADOAP4Jqs4_2j4PzwAAAAIl0ZMO",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9224426254",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-11T16:19:35Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773593503",
      "pull_request_review_id": 838061236,
      "id": 773593503,
      "node_id": "PRRC_kwDOAP4Jqs4uHBmf",
      "diff_hunk": "@@ -155,14 +155,14 @@ do one division by *2<sup>N</sup>* as a final step:\n ```python\n def divsteps_n_matrix(delta, f, g):\n     \"\"\"Compute delta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n-    u, v, q, r = 1, 0, 0, 1 # start with identity matrix\n+    u, v, q, r = 2**N, 0, 0, 2**N # start with identity matrix",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 5,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": null,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nits (to be consistent with below):\r\n- use shift instead of power\r\n- add `(scaled by 2^N).` to comment",
      "created_at": "2021-12-22T04:35:26Z",
      "updated_at": "2021-12-22T07:21:40Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r773593503",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773593503"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773614816",
      "pull_request_review_id": 838061236,
      "id": 773614816,
      "node_id": "PRRC_kwDOAP4Jqs4uHGzg",
      "diff_hunk": "@@ -433,13 +433,13 @@ that *-v == (v ^ -1) - (-1)*. Thus, if we have a variable *c* that takes on valu\n Using this we can write:\n \n ```python\n-    x = -f if delta > 0 else f\n+    x = f if delta > 0 else -f\n ```\n \n in constant-time form as:\n \n ```python\n-    c1 = (-delta) >> 63\n+    c1 = delta >> 63",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 43,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": null,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Does this need to be `(delta - 1) >> 63` here (and line 508 below)?\r\n\r\nWe want to negate `f` (i.e. set `c1 = -1`) whenever `delta <= 0`, but the way it is now, for `delta == 0` we wouldn't negate, right?",
      "created_at": "2021-12-22T05:45:46Z",
      "updated_at": "2021-12-22T07:21:40Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r773614816",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773614816"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773642857",
      "pull_request_review_id": 838061236,
      "id": 773642857,
      "node_id": "PRRC_kwDOAP4Jqs4uHNpp",
      "diff_hunk": "@@ -651,37 +665,41 @@ Here we need the negated modular inverse, which is a simple transformation of th\n   have this 6-bit function (based on the 3-bit function above):\n   - *f(f<sup>2</sup> - 2)*\n \n-This loop, again extended to also handle *u*, *v*, *q*, and *r* alongside *f* and *g*, placed in\n-`divsteps_n_matrix`, gives a significantly faster, but non-constant time version.\n+This loop, extended to also handle *u*, *v*, *q*, and *r* alongside *f* and *g*, placed in\n+`divsteps_n_matrix`, gives a significantly faster, but non-constant time version. In order to\n+avoid intermediary values that need more than N+1 bits, it is possible to instead start\n+*u* and *v* at *1* instead of at *2<sup>N</sup>*, and then shift up *u* and *v* whenever\n+*g* is shifted down (instead of shifting down *q* and *r*). This is effectively making the\n+algorithm operate on *i*-bits downshifted versions of all these variables. The resulting\n+code is shown in the next section.\n \n \n ## 7. Final Python version\n \n All together we need the following functions:\n \n - A way to compute the transition matrix in constant time, using the `divsteps_n_matrix` function\n-  from section 2, but with its loop replaced by a variant of the constant-time divstep from\n-  section 5, extended to handle *u*, *v*, *q*, *r*:\n+  from section 5, modified to operate on *&theta;* instead of *&delta;*:\n \n ```python\n-def divsteps_n_matrix(zeta, f, g):\n-    \"\"\"Compute zeta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n-    u, v, q, r = 1, 0, 0, 1 # start with identity matrix\n+def divsteps_n_matrix(theta, f, g):\n+    \"\"\"Compute delta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 198,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": null,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: theta, since that's what's returned?",
      "created_at": "2021-12-22T06:57:45Z",
      "updated_at": "2021-12-22T07:21:40Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r773642857",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773642857"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 686,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773646615",
      "pull_request_review_id": 838061236,
      "id": 773646615,
      "node_id": "PRRC_kwDOAP4Jqs4uHOkX",
      "diff_hunk": "@@ -651,37 +665,41 @@ Here we need the negated modular inverse, which is a simple transformation of th\n   have this 6-bit function (based on the 3-bit function above):\n   - *f(f<sup>2</sup> - 2)*\n \n-This loop, again extended to also handle *u*, *v*, *q*, and *r* alongside *f* and *g*, placed in\n-`divsteps_n_matrix`, gives a significantly faster, but non-constant time version.\n+This loop, extended to also handle *u*, *v*, *q*, and *r* alongside *f* and *g*, placed in\n+`divsteps_n_matrix`, gives a significantly faster, but non-constant time version. In order to\n+avoid intermediary values that need more than N+1 bits, it is possible to instead start\n+*u* and *v* at *1* instead of at *2<sup>N</sup>*, and then shift up *u* and *v* whenever\n+*g* is shifted down (instead of shifting down *q* and *r*). This is effectively making the\n+algorithm operate on *i*-bits downshifted versions of all these variables. The resulting\n+code is shown in the next section.\n \n \n ## 7. Final Python version\n \n All together we need the following functions:\n \n - A way to compute the transition matrix in constant time, using the `divsteps_n_matrix` function\n-  from section 2, but with its loop replaced by a variant of the constant-time divstep from\n-  section 5, extended to handle *u*, *v*, *q*, *r*:\n+  from section 5, modified to operate on *&theta;* instead of *&delta;*:\n \n ```python\n-def divsteps_n_matrix(zeta, f, g):\n-    \"\"\"Compute zeta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n-    u, v, q, r = 1, 0, 0, 1 # start with identity matrix\n+def divsteps_n_matrix(theta, f, g):\n+    \"\"\"Compute delta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n+    u, v, q, r = 1 << N, 0, 0, 1 << N # start with identity matrix (scaled by 2^N).\n     for _ in range(N):\n-        c1 = zeta >> 63\n-        # Compute x, y, z as conditionally-negated versions of f, u, v.\n-        x, y, z = (f ^ c1) - c1, (u ^ c1) - c1, (v ^ c1) - c1\n+        c1 = theta >> 63\n+        # Compute x, y, z as conditionally complemented versions of f, u, v.\n+        x, y, z = f ^ c1, u ^ c1, v ^ c1\n         c2 = -(g & 1)\n-        # Conditionally add x, y, z to g, q, r.\n-        g, q, r = g + (x & c2), q + (y & c2), r + (z & c2)\n-        c1 &= c2                     # reusing c1 here for the earlier c3 variable\n-        zeta = (zeta ^ c1) - 1       # inlining the unconditional zeta decrement here\n+        # Conditionally subtract x, y, z from g, q, r.\n+        g, q, r = g - (x & c2), q - (y & c2), r - (z & c2)\n+        c3 = ~c1 & c2\n+        # Conditionally negate delta, and then increment it by 1.",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 215,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": null,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Nit: emphasize that you're in fact negating delta (not theta)?\r\n\r\n```suggestion\r\n        # Conditionally negate delta (theta = delta - 1/2), and then increment it by 1.\r\n```",
      "created_at": "2021-12-22T07:07:06Z",
      "updated_at": "2021-12-22T07:21:41Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r773646615",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/773646615"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 696,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774014114",
      "pull_request_review_id": 838602170,
      "id": 774014114,
      "node_id": "PRRC_kwDOAP4Jqs4uIoSi",
      "diff_hunk": "@@ -145,72 +145,72 @@ typedef struct {\n     int64_t u, v, q, r;\n } secp256k1_modinv64_trans2x2;\n \n-/* Compute the transition matrix and eta for 59 divsteps (where zeta=-(delta+1/2)).\n+/* Compute the transition matrix and theta for 59 divsteps (where theta=delta-1/2)\n  * Note that the transformation matrix is scaled by 2^62 and not 2^59.",
      "path": "src/modinv64_impl.h",
      "position": null,
      "original_position": 6,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": null,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Is it worth elaborating on some of these parameter choices?\r\n\r\n```suggestion\r\n/* Compute the transition matrix and theta for 59 divsteps (where theta=delta-1/2)\r\n * We use 59 instead of 62 because we need 590 total divsteps.\r\n * However, we scale the transformation matrix by 2^62 and not 2^59 to\r\n * use the precomputed inverse of modulus mod 2^62.\r\n */\r\n```",
      "created_at": "2021-12-22T16:24:39Z",
      "updated_at": "2021-12-22T16:45:06Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r774014114",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774014114"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": 148,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 149,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774019484",
      "pull_request_review_id": 838602170,
      "id": 774019484,
      "node_id": "PRRC_kwDOAP4Jqs4uIpmc",
      "diff_hunk": "@@ -168,68 +168,71 @@ typedef struct {\n     int32_t u, v, q, r;\n } secp256k1_modinv32_trans2x2;\n \n-/* Compute the transition matrix and zeta for 30 divsteps.\n+/* Compute the transition matrix and theta for 30 divsteps (where theta = delta-1/2).\n  *\n- * Input:  zeta: initial zeta\n- *         f0:   bottom limb of initial f\n- *         g0:   bottom limb of initial g\n+ * Input:  theta: initial theta\n+ *         f0:    bottom limb of initial f\n+ *         g0:    bottom limb of initial g\n  * Output: t: transition matrix\n- * Return: final zeta\n+ * Return: final theta\n  *\n  * Implements the divsteps_n_matrix function from the explanation.\n  */\n-static int32_t secp256k1_modinv32_divsteps_30(int32_t zeta, uint32_t f0, uint32_t g0, secp256k1_modinv32_trans2x2 *t) {\n-    /* u,v,q,r are the elements of the transformation matrix being built up,\n-     * starting with the identity matrix. Semantically they are signed integers\n-     * in range [-2^30,2^30], but here represented as unsigned mod 2^32. This\n-     * permits left shifting (which is UB for negative numbers). The range\n-     * being inside [-2^31,2^31) means that casting to signed works correctly.\n-     */\n-    uint32_t u = 1, v = 0, q = 0, r = 1;\n-    uint32_t c1, c2, f = f0, g = g0, x, y, z;\n+static int32_t secp256k1_modinv32_divsteps_30(int32_t theta, uint32_t f0, uint32_t g0, secp256k1_modinv32_trans2x2 *t) {\n+    /* The transformation matrix being built up, scaled by 2^30. */\n+    int32_t u = (int32_t)1 << 30, v = 0, q = 0, r = (int32_t)1 << 30, y, z;\n+    uint32_t c1, c2, f = f0, g = g0, x;\n     int i;\n \n     for (i = 0; i < 30; ++i) {\n-        VERIFY_CHECK((f & 1) == 1); /* f must always be odd */\n-        VERIFY_CHECK((u * f0 + v * g0) == f << i);\n-        VERIFY_CHECK((q * f0 + r * g0) == g << i);\n-        /* Compute conditional masks for (zeta < 0) and for (g & 1). */\n-        c1 = zeta >> 31;\n+        /* f must always be odd */\n+        VERIFY_CHECK((f & 1) == 1);\n+        /* Minimum trailing zeros count for matrix elements decreases in each iteration */\n+        VERIFY_CHECK(!((u | v | q | r) & (0xFFFFFFFFULL >> (i + 2))));\n+        /* Applying the matrix so far to the initial f,g gives current f,g. */\n+        VERIFY_CHECK((u >> (30 - i)) * f0 + (v >> (30 - i)) * g0 == f << i);\n+        VERIFY_CHECK((q >> (30 - i)) * f0 + (r >> (30 - i)) * g0 == g << i);",
      "path": "src/modinv32_impl.h",
      "position": 46,
      "original_position": 46,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": null,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Just wondering, why don't these (and the analogous checks in `modinv64_impl.h`) cast to higher precision, like line 234 below?",
      "created_at": "2021-12-22T16:32:31Z",
      "updated_at": "2021-12-22T16:45:06Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r774019484",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774019484"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": 193,
      "original_start_line": 193,
      "start_side": "RIGHT",
      "line": 194,
      "original_line": 194,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774048877",
      "pull_request_review_id": 838681609,
      "id": 774048877,
      "node_id": "PRRC_kwDOAP4Jqs4uIwxt",
      "diff_hunk": "@@ -168,68 +168,71 @@ typedef struct {\n     int32_t u, v, q, r;\n } secp256k1_modinv32_trans2x2;\n \n-/* Compute the transition matrix and zeta for 30 divsteps.\n+/* Compute the transition matrix and theta for 30 divsteps (where theta = delta-1/2).\n  *\n- * Input:  zeta: initial zeta\n- *         f0:   bottom limb of initial f\n- *         g0:   bottom limb of initial g\n+ * Input:  theta: initial theta\n+ *         f0:    bottom limb of initial f\n+ *         g0:    bottom limb of initial g\n  * Output: t: transition matrix\n- * Return: final zeta\n+ * Return: final theta\n  *\n  * Implements the divsteps_n_matrix function from the explanation.\n  */\n-static int32_t secp256k1_modinv32_divsteps_30(int32_t zeta, uint32_t f0, uint32_t g0, secp256k1_modinv32_trans2x2 *t) {\n-    /* u,v,q,r are the elements of the transformation matrix being built up,\n-     * starting with the identity matrix. Semantically they are signed integers\n-     * in range [-2^30,2^30], but here represented as unsigned mod 2^32. This\n-     * permits left shifting (which is UB for negative numbers). The range\n-     * being inside [-2^31,2^31) means that casting to signed works correctly.\n-     */\n-    uint32_t u = 1, v = 0, q = 0, r = 1;\n-    uint32_t c1, c2, f = f0, g = g0, x, y, z;\n+static int32_t secp256k1_modinv32_divsteps_30(int32_t theta, uint32_t f0, uint32_t g0, secp256k1_modinv32_trans2x2 *t) {\n+    /* The transformation matrix being built up, scaled by 2^30. */\n+    int32_t u = (int32_t)1 << 30, v = 0, q = 0, r = (int32_t)1 << 30, y, z;\n+    uint32_t c1, c2, f = f0, g = g0, x;\n     int i;\n \n     for (i = 0; i < 30; ++i) {\n-        VERIFY_CHECK((f & 1) == 1); /* f must always be odd */\n-        VERIFY_CHECK((u * f0 + v * g0) == f << i);\n-        VERIFY_CHECK((q * f0 + r * g0) == g << i);\n-        /* Compute conditional masks for (zeta < 0) and for (g & 1). */\n-        c1 = zeta >> 31;\n+        /* f must always be odd */\n+        VERIFY_CHECK((f & 1) == 1);\n+        /* Minimum trailing zeros count for matrix elements decreases in each iteration */\n+        VERIFY_CHECK(!((u | v | q | r) & (0xFFFFFFFFULL >> (i + 2))));\n+        /* Applying the matrix so far to the initial f,g gives current f,g. */\n+        VERIFY_CHECK((u >> (30 - i)) * f0 + (v >> (30 - i)) * g0 == f << i);\n+        VERIFY_CHECK((q >> (30 - i)) * f0 + (r >> (30 - i)) * g0 == g << i);",
      "path": "src/modinv32_impl.h",
      "position": 46,
      "original_position": 46,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": 774019484,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "They are equalities modulo 2^32 (resp. 2^64) only, because that's the precision we are given f0 and g0 to. Technically maybe we only even care about modulo 2^30 (resp. 2^62), but the extra bits are there and should agree anyway. If divsteps were being done at full precision (i.e. directly on the full-size F,G) the equality would still hold, but a significant feature of safegcd is to be able to operate in limited precision most of the time, only updating the full F,G values when we need more bits to work on.\r\n\r\nThe latter matrix determinant check is full precision because, well, we're checking the exact value and not making any assumptions that we got u/v/q/r right.",
      "created_at": "2021-12-22T17:18:37Z",
      "updated_at": "2021-12-22T17:18:37Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r774048877",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774048877"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": 193,
      "original_start_line": 193,
      "start_side": "RIGHT",
      "line": 194,
      "original_line": 194,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774055152",
      "pull_request_review_id": 838690381,
      "id": 774055152,
      "node_id": "PRRC_kwDOAP4Jqs4uIyTw",
      "diff_hunk": "@@ -168,68 +168,71 @@ typedef struct {\n     int32_t u, v, q, r;\n } secp256k1_modinv32_trans2x2;\n \n-/* Compute the transition matrix and zeta for 30 divsteps.\n+/* Compute the transition matrix and theta for 30 divsteps (where theta = delta-1/2).\n  *\n- * Input:  zeta: initial zeta\n- *         f0:   bottom limb of initial f\n- *         g0:   bottom limb of initial g\n+ * Input:  theta: initial theta\n+ *         f0:    bottom limb of initial f\n+ *         g0:    bottom limb of initial g\n  * Output: t: transition matrix\n- * Return: final zeta\n+ * Return: final theta\n  *\n  * Implements the divsteps_n_matrix function from the explanation.\n  */\n-static int32_t secp256k1_modinv32_divsteps_30(int32_t zeta, uint32_t f0, uint32_t g0, secp256k1_modinv32_trans2x2 *t) {\n-    /* u,v,q,r are the elements of the transformation matrix being built up,\n-     * starting with the identity matrix. Semantically they are signed integers\n-     * in range [-2^30,2^30], but here represented as unsigned mod 2^32. This\n-     * permits left shifting (which is UB for negative numbers). The range\n-     * being inside [-2^31,2^31) means that casting to signed works correctly.\n-     */\n-    uint32_t u = 1, v = 0, q = 0, r = 1;\n-    uint32_t c1, c2, f = f0, g = g0, x, y, z;\n+static int32_t secp256k1_modinv32_divsteps_30(int32_t theta, uint32_t f0, uint32_t g0, secp256k1_modinv32_trans2x2 *t) {\n+    /* The transformation matrix being built up, scaled by 2^30. */\n+    int32_t u = (int32_t)1 << 30, v = 0, q = 0, r = (int32_t)1 << 30, y, z;\n+    uint32_t c1, c2, f = f0, g = g0, x;\n     int i;\n \n     for (i = 0; i < 30; ++i) {\n-        VERIFY_CHECK((f & 1) == 1); /* f must always be odd */\n-        VERIFY_CHECK((u * f0 + v * g0) == f << i);\n-        VERIFY_CHECK((q * f0 + r * g0) == g << i);\n-        /* Compute conditional masks for (zeta < 0) and for (g & 1). */\n-        c1 = zeta >> 31;\n+        /* f must always be odd */\n+        VERIFY_CHECK((f & 1) == 1);\n+        /* Minimum trailing zeros count for matrix elements decreases in each iteration */\n+        VERIFY_CHECK(!((u | v | q | r) & (0xFFFFFFFFULL >> (i + 2))));\n+        /* Applying the matrix so far to the initial f,g gives current f,g. */\n+        VERIFY_CHECK((u >> (30 - i)) * f0 + (v >> (30 - i)) * g0 == f << i);\n+        VERIFY_CHECK((q >> (30 - i)) * f0 + (r >> (30 - i)) * g0 == g << i);",
      "path": "src/modinv32_impl.h",
      "position": 46,
      "original_position": 46,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": 774019484,
      "user": {
        "login": "robot-dreams",
        "id": 4276679,
        "node_id": "MDQ6VXNlcjQyNzY2Nzk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4276679?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/robot-dreams",
        "html_url": "https://github.com/robot-dreams",
        "followers_url": "https://api.github.com/users/robot-dreams/followers",
        "following_url": "https://api.github.com/users/robot-dreams/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/robot-dreams/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/robot-dreams/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/robot-dreams/subscriptions",
        "organizations_url": "https://api.github.com/users/robot-dreams/orgs",
        "repos_url": "https://api.github.com/users/robot-dreams/repos",
        "events_url": "https://api.github.com/users/robot-dreams/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/robot-dreams/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Thanks! Yes, the determinant check doesn't involve the low-order-only `f0`, `g0`, that makes sense.",
      "created_at": "2021-12-22T17:29:13Z",
      "updated_at": "2021-12-22T17:29:13Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r774055152",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/774055152"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": 193,
      "original_start_line": 193,
      "start_side": "RIGHT",
      "line": 194,
      "original_line": 194,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/775058256",
      "pull_request_review_id": 839972788,
      "id": 775058256,
      "node_id": "PRRC_kwDOAP4Jqs4uMnNQ",
      "diff_hunk": "@@ -145,72 +145,72 @@ typedef struct {\n     int64_t u, v, q, r;\n } secp256k1_modinv64_trans2x2;\n \n-/* Compute the transition matrix and eta for 59 divsteps (where zeta=-(delta+1/2)).\n+/* Compute the transition matrix and theta for 59 divsteps (where theta=delta-1/2)\n  * Note that the transformation matrix is scaled by 2^62 and not 2^59.",
      "path": "src/modinv64_impl.h",
      "position": null,
      "original_position": 6,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": 774014114,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "How's this?\r\n\r\n```\r\n/* Compute the transition matrix and theta for 59 divsteps (where theta=delta-1/2)\r\n * Although only 59 divsteps are performed, the resulting transformation matrix\r\n * is scaled by 2^62 to allow reuse of _update_de_62 and _update_fg_62 between\r\n * _modinv64 and _modinv64_var.\r\n```",
      "created_at": "2021-12-24T17:22:44Z",
      "updated_at": "2021-12-24T17:22:44Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r775058256",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/775058256"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": 148,
      "start_side": "RIGHT",
      "line": null,
      "original_line": 149,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/781763925",
      "pull_request_review_id": 848608962,
      "id": 781763925,
      "node_id": "PRRC_kwDOAP4Jqs4umMVV",
      "diff_hunk": "@@ -155,14 +155,14 @@ do one division by *2<sup>N</sup>* as a final step:\n ```python\n def divsteps_n_matrix(delta, f, g):\n     \"\"\"Compute delta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n-    u, v, q, r = 1, 0, 0, 1 # start with identity matrix\n+    u, v, q, r = 2**N, 0, 0, 2**N # start with identity matrix",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 5,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": 773593503,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done.",
      "created_at": "2022-01-11T05:16:08Z",
      "updated_at": "2022-01-11T05:16:08Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r781763925",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/781763925"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 158,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/781764278",
      "pull_request_review_id": 848609379,
      "id": 781764278,
      "node_id": "PRRC_kwDOAP4Jqs4umMa2",
      "diff_hunk": "@@ -433,13 +433,13 @@ that *-v == (v ^ -1) - (-1)*. Thus, if we have a variable *c* that takes on valu\n Using this we can write:\n \n ```python\n-    x = -f if delta > 0 else f\n+    x = f if delta > 0 else -f\n ```\n \n in constant-time form as:\n \n ```python\n-    c1 = (-delta) >> 63\n+    c1 = delta >> 63",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 43,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": 773614816,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Done (2 occurrences).",
      "created_at": "2022-01-11T05:17:12Z",
      "updated_at": "2022-01-11T05:17:13Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r781764278",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/781764278"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 442,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/781765064",
      "pull_request_review_id": 848610549,
      "id": 781765064,
      "node_id": "PRRC_kwDOAP4Jqs4umMnI",
      "diff_hunk": "@@ -651,37 +665,41 @@ Here we need the negated modular inverse, which is a simple transformation of th\n   have this 6-bit function (based on the 3-bit function above):\n   - *f(f<sup>2</sup> - 2)*\n \n-This loop, again extended to also handle *u*, *v*, *q*, and *r* alongside *f* and *g*, placed in\n-`divsteps_n_matrix`, gives a significantly faster, but non-constant time version.\n+This loop, extended to also handle *u*, *v*, *q*, and *r* alongside *f* and *g*, placed in\n+`divsteps_n_matrix`, gives a significantly faster, but non-constant time version. In order to\n+avoid intermediary values that need more than N+1 bits, it is possible to instead start\n+*u* and *v* at *1* instead of at *2<sup>N</sup>*, and then shift up *u* and *v* whenever\n+*g* is shifted down (instead of shifting down *q* and *r*). This is effectively making the\n+algorithm operate on *i*-bits downshifted versions of all these variables. The resulting\n+code is shown in the next section.\n \n \n ## 7. Final Python version\n \n All together we need the following functions:\n \n - A way to compute the transition matrix in constant time, using the `divsteps_n_matrix` function\n-  from section 2, but with its loop replaced by a variant of the constant-time divstep from\n-  section 5, extended to handle *u*, *v*, *q*, *r*:\n+  from section 5, modified to operate on *&theta;* instead of *&delta;*:\n \n ```python\n-def divsteps_n_matrix(zeta, f, g):\n-    \"\"\"Compute zeta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n-    u, v, q, r = 1, 0, 0, 1 # start with identity matrix\n+def divsteps_n_matrix(theta, f, g):\n+    \"\"\"Compute delta and transition matrix t after N divsteps (multiplied by 2^N).\"\"\"\n+    u, v, q, r = 1 << N, 0, 0, 1 << N # start with identity matrix (scaled by 2^N).\n     for _ in range(N):\n-        c1 = zeta >> 63\n-        # Compute x, y, z as conditionally-negated versions of f, u, v.\n-        x, y, z = (f ^ c1) - c1, (u ^ c1) - c1, (v ^ c1) - c1\n+        c1 = theta >> 63\n+        # Compute x, y, z as conditionally complemented versions of f, u, v.\n+        x, y, z = f ^ c1, u ^ c1, v ^ c1\n         c2 = -(g & 1)\n-        # Conditionally add x, y, z to g, q, r.\n-        g, q, r = g + (x & c2), q + (y & c2), r + (z & c2)\n-        c1 &= c2                     # reusing c1 here for the earlier c3 variable\n-        zeta = (zeta ^ c1) - 1       # inlining the unconditional zeta decrement here\n+        # Conditionally subtract x, y, z from g, q, r.\n+        g, q, r = g - (x & c2), q - (y & c2), r - (z & c2)\n+        c3 = ~c1 & c2\n+        # Conditionally negate delta, and then increment it by 1.",
      "path": "doc/safegcd_implementation.md",
      "position": null,
      "original_position": 215,
      "commit_id": "7e2acdae49b68d68768c52b97aab86a45b875f98",
      "original_commit_id": "6afd499f53e94d48a7fd90ff345d47101a6c6e41",
      "in_reply_to_id": 773646615,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Now \"Conditionally complement theta, and then increment it by 1.\", since we are now using theta directly.",
      "created_at": "2022-01-11T05:19:55Z",
      "updated_at": "2022-01-11T05:19:56Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/1031#discussion_r781765064",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/781765064"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/1031"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 696,
      "side": "RIGHT"
    }
  ]
}