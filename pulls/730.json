{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/730",
    "id": 395182964,
    "node_id": "MDExOlB1bGxSZXF1ZXN0Mzk1MTgyOTY0",
    "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730",
    "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/730.diff",
    "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/730.patch",
    "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730",
    "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/730/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/730/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/0a4741a461c254e62eed0fc59ff0a98be51bc69c",
    "number": 730,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Use the extened euclidian algorithm to compute scalar inverse in variable time",
    "user": {
      "login": "deadalnix",
      "id": 854121,
      "node_id": "MDQ6VXNlcjg1NDEyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deadalnix",
      "html_url": "https://github.com/deadalnix",
      "followers_url": "https://api.github.com/users/deadalnix/followers",
      "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
      "organizations_url": "https://api.github.com/users/deadalnix/orgs",
      "repos_url": "https://api.github.com/users/deadalnix/repos",
      "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/deadalnix/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "This is faster than the multiple exponentiation method that is used now. It remains way slower than libgmp, so probably not a full replacement, but it provides a nice speedup when libgmp is not available.\r\n\r\nThese are the benchmark time I measure.\r\n> scalar_inverse: min 14.4us / avg 16.4us / max 20.0us\r\n> scalar_inverse_var: min 11.5us / avg 11.6us / max 11.6us\r\n\r\nWhile there is a fair bag of trick that is used to make this fast, there is still a lot of untapped potential. For instance, doing numerous additions before reducing x0 and x1. While more could be done, this is already an improvement, so it is time for a PR.",
    "labels": [],
    "created_at": "2020-03-29T01:54:36Z",
    "updated_at": "2021-03-24T15:15:57Z",
    "closed_at": "2021-03-24T15:15:57Z",
    "mergeable": false,
    "mergeable_state": "dirty",
    "merge_commit_sha": "eb844c58d3bc4bf3afde4aca121f294ad5bc11b2",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "rebaseable": false,
    "head": {
      "label": "deadalnix:scalarinversevar",
      "ref": "scalarinversevar",
      "sha": "0a4741a461c254e62eed0fc59ff0a98be51bc69c",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 88365825,
        "node_id": "MDEwOlJlcG9zaXRvcnk4ODM2NTgyNQ==",
        "name": "secp256k1",
        "full_name": "deadalnix/secp256k1",
        "owner": {
          "login": "deadalnix",
          "id": 854121,
          "node_id": "MDQ6VXNlcjg1NDEyMQ==",
          "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/deadalnix",
          "html_url": "https://github.com/deadalnix",
          "followers_url": "https://api.github.com/users/deadalnix/followers",
          "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
          "organizations_url": "https://api.github.com/users/deadalnix/orgs",
          "repos_url": "https://api.github.com/users/deadalnix/repos",
          "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/deadalnix/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/deadalnix/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": true,
        "url": "https://api.github.com/repos/deadalnix/secp256k1",
        "archive_url": "https://api.github.com/repos/deadalnix/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/deadalnix/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/deadalnix/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/deadalnix/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/deadalnix/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/deadalnix/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/deadalnix/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/deadalnix/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/deadalnix/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/deadalnix/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/deadalnix/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/deadalnix/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/deadalnix/secp256k1/events",
        "forks_url": "https://api.github.com/repos/deadalnix/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/deadalnix/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/deadalnix/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/deadalnix/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/deadalnix/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/deadalnix/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/deadalnix/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/deadalnix/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/deadalnix/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/deadalnix/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/deadalnix/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/deadalnix/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/deadalnix/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/deadalnix/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/deadalnix/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/deadalnix/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:deadalnix/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/deadalnix/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/deadalnix/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/deadalnix/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/deadalnix/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/deadalnix/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/deadalnix/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/deadalnix/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/deadalnix/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/deadalnix/secp256k1/hooks",
        "svn_url": "https://github.com/deadalnix/secp256k1",
        "language": "C",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 2222,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2020-04-21T15:28:48Z",
        "created_at": "2017-04-15T18:15:18Z",
        "updated_at": "2020-03-27T14:22:33Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin-core:master",
      "ref": "master",
      "sha": "2361b3719af3692687081a0c1b7108ad12ddbe69",
      "user": {
        "login": "bitcoin-core",
        "id": 13464320,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin-core",
        "html_url": "https://github.com/bitcoin-core",
        "followers_url": "https://api.github.com/users/bitcoin-core/followers",
        "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
        "repos_url": "https://api.github.com/users/bitcoin-core/repos",
        "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 16648618,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjY0ODYxOA==",
        "name": "secp256k1",
        "full_name": "bitcoin-core/secp256k1",
        "owner": {
          "login": "bitcoin-core",
          "id": 13464320,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin-core",
          "html_url": "https://github.com/bitcoin-core",
          "followers_url": "https://api.github.com/users/bitcoin-core/followers",
          "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
          "repos_url": "https://api.github.com/users/bitcoin-core/repos",
          "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin-core/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1",
        "archive_url": "https://api.github.com/repos/bitcoin-core/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin-core/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin-core/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin-core/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin-core/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/events",
        "forks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin-core/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin-core/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin-core/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/bitcoin-core/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin-core/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin-core/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin-core/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin-core/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/bitcoin-core/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin-core/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/hooks",
        "svn_url": "https://github.com/bitcoin-core/secp256k1",
        "language": "C",
        "forks_count": 962,
        "stargazers_count": 1802,
        "watchers_count": 1802,
        "size": 10374,
        "default_branch": "master",
        "open_issues_count": 145,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-08-01T01:00:35Z",
        "created_at": "2014-02-08T17:30:06Z",
        "updated_at": "2023-08-01T08:52:35Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/730"
      }
    },
    "author_association": "NONE",
    "draft": false,
    "additions": 340,
    "deletions": 8,
    "changed_files": 5,
    "commits": 4,
    "review_comments": 0,
    "comments": 13
  },
  "events": [
    {
      "event": "head_ref_force_pushed",
      "id": 3175500629,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzE3NTUwMDYyOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3175500629",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-29T01:56:51Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3175519294,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzE3NTUxOTI5NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3175519294",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-29T02:36:09Z"
    },
    {
      "event": "commented",
      "id": 605596920,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTU5NjkyMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/605596920",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-29T07:20:20Z",
      "updated_at": "2020-07-15T08:12:46Z",
      "author_association": "CONTRIBUTOR",
      "body": "This seem like a simpler approach than https://github.com/bitcoin-core/secp256k1/pull/290\r\neven though it's slower and doesn't have the jacobi implementation, but the bignum approach is quite hard to implement correctly.\r\n\r\n(haven't reviewed the actual logic here)",
      "user": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-605596920",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 605652149,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYwNTY1MjE0OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/605652149",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-29T15:14:34Z",
      "updated_at": "2020-03-29T15:48:30Z",
      "author_association": "NONE",
      "body": "I wasn't aware of #290 , this is unfortunate. A few comments.\r\n\r\nThe approach is slightly different. This uses an approach with no divisions - technically, divisions by powers of 2 only, but these can be performed as simple shifts and additions while #290 tries to limit the number of bigint divisions using lehmer's optimization. I do not know which is best and it is hard to compare because the implementations details are quite different.\r\n\r\nI was considering using a 5x64bits or 9x32bits big int for `x0`, `x1` and `negx` going forward, just like #290. A lot of time is spent keeping them between 0 and p, but we could do it only once at the end. Everything else do not really needs big int. This is the next logical step here.\r\n\r\nOn a more high level note, I think proceeding is small steps is preferable. It is easier to review, avoids rebase hell and delivers value to users now. In addition, it allows for better fan out down the road, as it is possible to work and experiment with the various optimisations and variations discussed independently on top of a common base.\r\n\r\nImplementing jacobi, further optimizing this and making it work with field element in addition to scalars is on my todo list, but I think it is better to agree on some approach before investing that much effort into this.",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-605652149",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 606156882,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjE1Njg4Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/606156882",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-30T18:11:00Z",
      "updated_at": "2020-03-30T18:11:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Let me just note for now that I haven't had a closer look so far but this looks very interesting. Is this the algorithm described in pseudocode here? https://crypto.stackexchange.com/a/54623/12020 \r\nA pseudocode variant will make it easier to review this.  ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-606156882",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 606177308,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjE3NzMwOA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/606177308",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-03-30T18:51:03Z",
      "updated_at": "2020-03-30T18:54:31Z",
      "author_association": "NONE",
      "body": "Not quite, but it is similar. The way i approached is starting with algorithm 2.23 from \"Guide to Elliptic Curve Cryptography\" by Hankerson, Menezes and Vanstone for which I added a few optimizations:\r\n - `a` can only be even early on, and at that time, `x1` is always zero, so no need to double it.\r\n - when `b` is even, they accumulate more factors 2 in `x0` and `x1`, but I eliminate them right away - it is worth it due to the optimized division by a power of 2 routine.\r\n\r\nPseudocode is as follow:\r\n```\r\ninverse a:\r\n  b = p\r\n  x0 = 1\r\n  x1 = 0\r\n  k = 0\r\n\r\n  while a is even:\r\n    a /= 2\r\n    k++\r\n\r\n  while a > 1:\r\n    b -= a\r\n    x1 -= x0\r\n    while b is even:\r\n      b /= 2\r\n      x1 = x1 / 2 if x1 is even else (x1 + p) / 2\r\n    if a > b:\r\n      swap a, b\r\n      swap x0, x1\r\n\r\n  repeat k times:\r\n    x0 = x0 / 2 if x0 is even else (x0 + p) / 2\r\n\r\n  return x0\r\n```\r\n\r\nThis is the hist of it, but there are various optimizations done along the way.",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-606177308",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3235653597,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzNTY1MzU5Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3235653597",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T14:06:09Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6YjBhZTRlZDMwYTk3NTkzM2U3NmU2ZWE0MDA5YzQ4ZTNkZDI2Zjk0MQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/b0ae4ed30a975933e76e6ea4009c48e3dd26f941",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/b0ae4ed30a975933e76e6ea4009c48e3dd26f941",
      "tree": {
        "sha": "b02562ced6b6102667276826cf87bafe4de0070c",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/b02562ced6b6102667276826cf87bafe4de0070c"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/8f78e208ad28eb0d7e099ba58ed6476f87179a77",
          "sha": "8f78e208ad28eb0d7e099ba58ed6476f87179a77",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/8f78e208ad28eb0d7e099ba58ed6476f87179a77"
        }
      ],
      "message": "Add the capability to divide scalars by a power of 2.",
      "committer": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-04-15T16:58:57Z"
      },
      "author": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-03-28T21:13:15Z"
      },
      "sha": "b0ae4ed30a975933e76e6ea4009c48e3dd26f941"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6NWFiZGVmZjhjZjU3OTIzMWYzNTcyMWI4Y2Q1YmYxNDJkNjFmZjcwZQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5abdeff8cf579231f35721b8cd5bf142d61ff70e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5abdeff8cf579231f35721b8cd5bf142d61ff70e",
      "tree": {
        "sha": "9ffc672500e9c90d040c38e42fd30dbc56253312",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/9ffc672500e9c90d040c38e42fd30dbc56253312"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/b0ae4ed30a975933e76e6ea4009c48e3dd26f941",
          "sha": "b0ae4ed30a975933e76e6ea4009c48e3dd26f941",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/b0ae4ed30a975933e76e6ea4009c48e3dd26f941"
        }
      ],
      "message": "Add secp256k1_scalar_cmp_var to compare scalars\n\nNot adding it to scalar.h because it is not meant to be a public API. Scalars do not have ordering per se, but this is meant to be able to implement the extended euclidian algorithm in order to compute inverse in variable time effisciently.",
      "committer": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-04-15T17:00:55Z"
      },
      "author": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-03-28T00:26:41Z"
      },
      "sha": "5abdeff8cf579231f35721b8cd5bf142d61ff70e"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6OTA1NTc2MTNlMWM5ZmQ1MThkMjYzNDQyYzQwOTA1ZjM2MDI2YWUzOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/90557613e1c9fd518d263442c40905f36026ae39",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/90557613e1c9fd518d263442c40905f36026ae39",
      "tree": {
        "sha": "4d11744d93c0a6cc13c8ced334ba9fc12ec2b2a0",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/4d11744d93c0a6cc13c8ced334ba9fc12ec2b2a0"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/5abdeff8cf579231f35721b8cd5bf142d61ff70e",
          "sha": "5abdeff8cf579231f35721b8cd5bf142d61ff70e",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/5abdeff8cf579231f35721b8cd5bf142d61ff70e"
        }
      ],
      "message": "Move secp256k1_scalar_is_even to make things clearer",
      "committer": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-04-15T17:00:55Z"
      },
      "author": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-03-28T22:59:41Z"
      },
      "sha": "90557613e1c9fd518d263442c40905f36026ae39"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6MGE0NzQxYTQ2MWMyNTRlNjJlZWQwZmM1OWZmMGE5OGJlNTFiYzY5Yw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/0a4741a461c254e62eed0fc59ff0a98be51bc69c",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/0a4741a461c254e62eed0fc59ff0a98be51bc69c",
      "tree": {
        "sha": "191dc0fbc5bd57bfdfc569e13c108adce8b067a2",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/191dc0fbc5bd57bfdfc569e13c108adce8b067a2"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/90557613e1c9fd518d263442c40905f36026ae39",
          "sha": "90557613e1c9fd518d263442c40905f36026ae39",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/90557613e1c9fd518d263442c40905f36026ae39"
        }
      ],
      "message": "Implement the extended euclidian algorithm to compute the inverse of scalars in variable time.\n\nThis is faster than the exponentiation method. It is still significantly slower than GMP, so we keep that option as well.",
      "committer": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-04-15T17:01:22Z"
      },
      "author": {
        "name": "Amaury Séchet",
        "email": "deadalnix@gmail.com",
        "date": "2020-03-28T00:10:49Z"
      },
      "sha": "0a4741a461c254e62eed0fc59ff0a98be51bc69c"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 3236442310,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MzIzNjQ0MjMxMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/3236442310",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T17:04:01Z"
    },
    {
      "event": "commented",
      "id": 614162074,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDE2MjA3NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/614162074",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T17:05:37Z",
      "updated_at": "2020-04-15T17:05:37Z",
      "author_association": "NONE",
      "body": "I updated secp256k1_scalar_pow2_div to add zero instea of skipping the fixup with a branch as it turns out it is faster.",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-614162074",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 614176350,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDE3NjM1MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/614176350",
      "actor": {
        "login": "mratsim",
        "id": 22738317,
        "node_id": "MDQ6VXNlcjIyNzM4MzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/22738317?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mratsim",
        "html_url": "https://github.com/mratsim",
        "followers_url": "https://api.github.com/users/mratsim/followers",
        "following_url": "https://api.github.com/users/mratsim/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mratsim/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mratsim/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mratsim/subscriptions",
        "organizations_url": "https://api.github.com/users/mratsim/orgs",
        "repos_url": "https://api.github.com/users/mratsim/repos",
        "events_url": "https://api.github.com/users/mratsim/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mratsim/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-15T17:32:17Z",
      "updated_at": "2020-04-15T17:32:46Z",
      "author_association": "NONE",
      "body": "FYI, EEA can be made constant-time with very reasonable speed (for a constant-time impl, it would still be an order of magnitude slower than variable time GCD like in GMP) following the algorithm 5 from paper: https://link.springer.com/content/pdf/10.1007%2F978-3-642-40588-4_10.pdf\r\n\r\n![image](https://user-images.githubusercontent.com/22738317/79367405-26010880-7f4e-11ea-9f99-24995c9a2a85.png)\r\n\r\nImplementation in C are available in [GMP (mirror)](https://github.com/alisw/GMP/blob/cc09e59afe9a23de9e7d0ef10598a395d7e8c850/mpn/generic/sec_invert.c#L92-L100) and [Nettle](https://git.lysator.liu.se/nettle/nettle/-/blob/bcc2555be38c07814a49eb58191a7e1b801e77ac/ecc-mod-inv.c#L57-160), in C++ in [Botan](https://github.com/randombit/botan/blob/ca5780773c7a673e3457c5bb6fec38c54eab1fd2/src/lib/math/numbertheory/mod_inv.cpp#L92-L203) and in Nim in my own library [Constantine](https://github.com/mratsim/constantine/blob/4ccea4fcffca58de8a0c980637974c5398f39e12/constantine/arithmetic/limbs_modular.nim#L85-L146)\r\n\r\n\r\nThere is a lengthy discussion on constant-time modular inverse in Botan repo: https://github.com/randombit/botan/issues/1479\r\n\r\nIn particular there is discussion on a recent paper by Bernstein and Yang that claims a very fast constant time GCD and inversion (https://eprint.iacr.org/2019/266).\r\n\r\n",
      "user": {
        "login": "mratsim",
        "id": 22738317,
        "node_id": "MDQ6VXNlcjIyNzM4MzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/22738317?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mratsim",
        "html_url": "https://github.com/mratsim",
        "followers_url": "https://api.github.com/users/mratsim/followers",
        "following_url": "https://api.github.com/users/mratsim/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mratsim/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mratsim/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mratsim/subscriptions",
        "organizations_url": "https://api.github.com/users/mratsim/orgs",
        "repos_url": "https://api.github.com/users/mratsim/repos",
        "events_url": "https://api.github.com/users/mratsim/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mratsim/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-614176350",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 614357664,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDM1NzY2NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/614357664",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-16T01:13:51Z",
      "updated_at": "2020-04-16T01:13:51Z",
      "author_association": "NONE",
      "body": "That's interesting, but considering the benchmark I have, I highly doubt this can be made faster that the exponentiation technique that is used today.",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-614357664",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 614524748,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNDUyNDc0OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/614524748",
      "actor": {
        "login": "mratsim",
        "id": 22738317,
        "node_id": "MDQ6VXNlcjIyNzM4MzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/22738317?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mratsim",
        "html_url": "https://github.com/mratsim",
        "followers_url": "https://api.github.com/users/mratsim/followers",
        "following_url": "https://api.github.com/users/mratsim/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mratsim/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mratsim/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mratsim/subscriptions",
        "organizations_url": "https://api.github.com/users/mratsim/orgs",
        "repos_url": "https://api.github.com/users/mratsim/repos",
        "events_url": "https://api.github.com/users/mratsim/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mratsim/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-16T09:18:48Z",
      "updated_at": "2020-04-16T09:18:48Z",
      "author_association": "NONE",
      "body": "The Bernstein-Yang paper claims that their GCD-based inversion is faster than using Little Fermat on Curve25519. Similarly, the Möller algorithm for inversion is faster than [the addition-chains from secp256k1](https://github.com/mratsim/constantine/blob/44350d08af5e0b5ed9110640d694a035609ee1d6/constantine/arithmetic/finite_fields_inversion.nim#L27-L104) in my own benchmark though I use a generic Montgomery mul/square algorithm and the difference is about 20% so faster/specialized mul/square will probably change the balance). Anyway if there is a dedicated thread on constant-time inversion I would be happy to discuss there instead of in this variable time EEA thread.",
      "user": {
        "login": "mratsim",
        "id": 22738317,
        "node_id": "MDQ6VXNlcjIyNzM4MzE3",
        "avatar_url": "https://avatars.githubusercontent.com/u/22738317?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mratsim",
        "html_url": "https://github.com/mratsim",
        "followers_url": "https://api.github.com/users/mratsim/followers",
        "following_url": "https://api.github.com/users/mratsim/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mratsim/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mratsim/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mratsim/subscriptions",
        "organizations_url": "https://api.github.com/users/mratsim/orgs",
        "repos_url": "https://api.github.com/users/mratsim/repos",
        "events_url": "https://api.github.com/users/mratsim/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mratsim/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-614524748",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-21T15:28:48Z",
      "updated_at": "2020-04-21T15:28:48Z",
      "source": {
        "issue": {
          "id": 604089153,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDA2NzQ4NzUy",
          "url": "https://api.github.com/repos/deadalnix/secp256k1/issues/1",
          "repository_url": "https://api.github.com/repos/deadalnix/secp256k1",
          "labels_url": "https://api.github.com/repos/deadalnix/secp256k1/issues/1/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/deadalnix/secp256k1/issues/1/comments",
          "events_url": "https://api.github.com/repos/deadalnix/secp256k1/issues/1/events",
          "html_url": "https://github.com/deadalnix/secp256k1/pull/1",
          "number": 1,
          "state": "closed",
          "state_reason": null,
          "title": "Scalarinversevar",
          "body": "Some suggesting improvements.  I will leave further comments in https://github.com/bitcoin-core/secp256k1/pull/730 where I believe it would be more useful to hold any discussion.",
          "user": {
            "login": "roconnor-blockstream",
            "id": 21371712,
            "node_id": "MDQ6VXNlcjIxMzcxNzEy",
            "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/roconnor-blockstream",
            "html_url": "https://github.com/roconnor-blockstream",
            "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
            "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
            "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
            "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
            "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "NONE",
          "locked": false,
          "comments": 1,
          "pull_request": {
            "url": "https://api.github.com/repos/deadalnix/secp256k1/pulls/1",
            "html_url": "https://github.com/deadalnix/secp256k1/pull/1",
            "diff_url": "https://github.com/deadalnix/secp256k1/pull/1.diff",
            "patch_url": "https://github.com/deadalnix/secp256k1/pull/1.patch"
          },
          "closed_at": "2021-03-24T15:28:58Z",
          "created_at": "2020-04-21T15:28:48Z",
          "updated_at": "2021-03-24T15:29:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 617252665,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzI1MjY2NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/617252665",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-21T15:29:22Z",
      "updated_at": "2020-04-21T15:36:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "I've made a PR with some suggested amendments @ https://github.com/deadalnix/secp256k1/pull/1\r\n\r\nhttps://github.com/roconnor-blockstream/secp256k1/commit/2446b1e79bfb739c58fc181d2b83cafdbcf707e3 replaces the `scalar_complement` and `scalar_binadd` with a `scalar_sub` function.  I've been told that my `scalar_sub` function has managed to coax the compiler into emitting a SBB (subtract with borrow) instruction which is very good.  I haven't verified that fact myself yet.  I believe this substitution is an objective improvement.\r\n\r\nI suppose there is an argument over which style is better, using subtraction or addition with complement as is done in scalar_negate.  My opinion is that subtraction is marginally better and arguably the scalar_negate should be using this subtraction technique.\r\n\r\nhttps://github.com/roconnor-blockstream/secp256k1/commit/13e07abfa17d4f52515a3361cf42c54387eb360d revises the main `secp256k1_scalar_eea_inverse` a little.  My main goal there is to remove the use of `goto`.  My reasons are a little selfish.  The Verifiable C project cannot reason about C code with `goto`s, and I would like to be able to do a formal verification of this code at some point in the future.  That said, to date I've only done a very limited about of verification of libsecp256k1 using Verifiable C, only enough to evaluate the tool.  Otherwise this would be the only use of `goto` in the entire codebase.  I think this revision to `secp256k1_scalar_eea_inverse` is a subjective improvement.\r\n\r\nThat all said, it would be a huge improvement to generalize this so that it can be used to compute field inversions in addition to scalar inversions.  ECDSA verification requires a single scalar inversion, and Schnorr verification requires no scalar inversions at all, whereas field inversion occurs in a moderate number of places during verification.\r\n\r\nI think we can generalize this by building a static table of \"remainders\", as the `lookup` table found in `secp256k1_scalar_pow2_div`, for both the field order and group order, and pass a pointer to required table into a generalized `eea_inverse` function.  For field inversion, we can compact the field value into the scalar type (or perhaps better, a new equivalent 256-bit type), perform the eea inversion, and copy the result back into the field limb format.\r\n\r\nLet me know if I've made any errors.",
      "user": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-617252665",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 617265914,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzI2NTkxNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/617265914",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-21T16:23:10Z",
      "updated_at": "2020-04-21T16:23:10Z",
      "author_association": "NONE",
      "body": "Awesome!\r\n\r\nI'm not sure if it is best to comment here or in your PR, I'll do it here and we can move the discussion there if need be.\r\n\r\nI was working myself on the next iteration of this thing and I got some more nice speedup - mostly by avoiding to reduce at every steps. Unfortunately, we stepped on each others toe a bit, but that's okay, there are no way you'd be able to know.\r\n\r\n * You move some variable declarations to have smaller scope. This is awesome. I was uncertain about the C89 rules and don't wanted to fight the compiler over this so I went extra large.\r\n\r\n * I'm not sure about the goto removal. I get it, goto is frowned upon, and for the most part for good reasons. But once in a while comes this situation where a goto really is better and I think we are in this case. This is because the goto effectively skips a good chunk of the first loop iteration - and in fact it can skip more. If you have a solution to achieve this without goto, then I'm taking, but it is unclear to me if this is possible at all.\r\n\r\n * Your implementation of scalar sub should be called `binsub` instead, because it skips the modulo reduction. It should also return the leftover so that the caller can do something with it. If nothing else, check that expectations about overflow are maintained.\r\n\r\n * Please do not remove the `binadd` operation. There are optimizations of `secp256k1_scalar_pow2_div` that can greatly benefit from it. It is also useful as a building block to avoid reduction at every step. I have code for all this, but not in a shape I think is good enough for review ATM. I can upload it anyways if you want to check.\r\n\r\n * I expect that there won't be any major roadblock to generalize this to field element and I intend to do this if there is interest. I made the choice of going for scalar only so that I can focus on extracting all the juice from there - there is a lot more to extract. Doing everything at once would make review more difficult, as well as iterating on various ways to do things to see which is faster slower, both of which are undesirable initially.",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-617265914",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 617283663,
      "node_id": "MDEyOklzc3VlQ29tbWVudDYxNzI4MzY2Mw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/617283663",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-04-21T16:54:58Z",
      "updated_at": "2020-04-21T20:37:23Z",
      "author_association": "CONTRIBUTOR",
      "body": "Regarding variable scoping.  I wasn't sure either.  Jonas suggested to me that it was okay to narrow the scope, so I guess we should do it unless we hear an objection.\r\n\r\nRegarding `goto`:  I believe my revision does no more work than your `goto` version.  Roughly speaking the call `secp256k1_scalar_negate(&v, a);` was eliminated in favour of entering the loop from the top an running `secp256k1_scalar_sub` which does more or less the identical amount of work.\r\n\r\nIn light of your overall comments, I suggest closing my PR against your repo and I can revisit it once you have some new code.  Feel free to incorporate any of my suggestions that you agree with into your next update.  I have a couple of other, more questionable tricks in there, such as using `*r` as scratch space.",
      "user": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-617283663",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2020-07-15T10:01:31Z",
      "updated_at": "2020-07-15T10:01:31Z",
      "source": {
        "issue": {
          "id": 657151921,
          "node_id": "MDExOlB1bGxSZXF1ZXN0NDQ5MzE4NDIx",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/767",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/767/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/767/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/767/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/pull/767",
          "number": 767,
          "state": "closed",
          "state_reason": null,
          "title": "WIP: \"safegcd\" field and scalar inversion",
          "body": "- see \"Fast constant-time gcd computation and modular inversion\" by Daniel J. Bernstein and Bo-Yin Yang https://gcd.cr.yp.to\r\n\r\nImplements constant-time field and scalar inversion using a Euclidean-style algorithm operating on the least-significant bits. It follows the curve25519 case study as outlined in section 12 of the above paper, with some small tweaks. ~~I do not have the actual curve25519 code to compare to, but this PR appears to be already 15-20% faster than their reported 10050 haswell cycles for field inversion.~~ Actually, this initial measurement was in error, but we did reach 5-10% faster in the end, without any asm.\r\n\r\nPerformance comparison (gcc 10.1.0, -O3, haswell, endo=yes, asm=no, field=64bit scalar=64bit):\r\n\r\nmaster:\r\nscalar_inverse: min 12.4us\r\nfield_inverse: min 5.04us\r\necdh: min 59.7us\r\necdsa_sign: min 47.9us\r\n\r\nsafegcd_inv:\r\nscalar_inverse: min 3.45us\r\nfield_inverse: min 3.23us\r\necdh: min 56.2us \r\necdsa_sign: min 37.7us\r\n\r\nI've not done a 32bit version yet, although it is mostly analogous and should have an even greater relative advantage over Fermat. The field and scalar implementations have substantial common code that is duplicated here for simplicity.",
          "user": {
            "login": "peterdettman",
            "id": 3423981,
            "node_id": "MDQ6VXNlcjM0MjM5ODE=",
            "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/peterdettman",
            "html_url": "https://github.com/peterdettman",
            "followers_url": "https://api.github.com/users/peterdettman/followers",
            "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
            "organizations_url": "https://api.github.com/users/peterdettman/orgs",
            "repos_url": "https://api.github.com/users/peterdettman/repos",
            "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/peterdettman/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 159,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/767",
            "html_url": "https://github.com/bitcoin-core/secp256k1/pull/767",
            "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/767.diff",
            "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/767.patch"
          },
          "closed_at": "2021-01-30T08:05:02Z",
          "created_at": "2020-07-15T08:08:12Z",
          "updated_at": "2021-01-30T13:29:00Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 805798669,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgwNTc5ODY2OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/805798669",
      "actor": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-24T12:58:30Z",
      "updated_at": "2021-03-24T12:58:30Z",
      "author_association": "CONTRIBUTOR",
      "body": "I believe this PR is now obsolete and can be closed since https://github.com/bitcoin-core/secp256k1/pull/831/files has now been merged.",
      "user": {
        "login": "roconnor-blockstream",
        "id": 21371712,
        "node_id": "MDQ6VXNlcjIxMzcxNzEy",
        "avatar_url": "https://avatars.githubusercontent.com/u/21371712?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/roconnor-blockstream",
        "html_url": "https://github.com/roconnor-blockstream",
        "followers_url": "https://api.github.com/users/roconnor-blockstream/followers",
        "following_url": "https://api.github.com/users/roconnor-blockstream/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/roconnor-blockstream/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/roconnor-blockstream/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/roconnor-blockstream/subscriptions",
        "organizations_url": "https://api.github.com/users/roconnor-blockstream/orgs",
        "repos_url": "https://api.github.com/users/roconnor-blockstream/repos",
        "events_url": "https://api.github.com/users/roconnor-blockstream/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/roconnor-blockstream/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-805798669",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "commented",
      "id": 805911960,
      "node_id": "MDEyOklzc3VlQ29tbWVudDgwNTkxMTk2MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/805911960",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-24T15:15:57Z",
      "updated_at": "2021-03-24T15:15:57Z",
      "author_association": "NONE",
      "body": "Yes. Closing.",
      "user": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/730#issuecomment-805911960",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/730"
    },
    {
      "event": "closed",
      "id": 4502573384,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDUwMjU3MzM4NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/4502573384",
      "actor": {
        "login": "deadalnix",
        "id": 854121,
        "node_id": "MDQ6VXNlcjg1NDEyMQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/854121?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/deadalnix",
        "html_url": "https://github.com/deadalnix",
        "followers_url": "https://api.github.com/users/deadalnix/followers",
        "following_url": "https://api.github.com/users/deadalnix/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/deadalnix/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/deadalnix/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/deadalnix/subscriptions",
        "organizations_url": "https://api.github.com/users/deadalnix/orgs",
        "repos_url": "https://api.github.com/users/deadalnix/repos",
        "events_url": "https://api.github.com/users/deadalnix/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/deadalnix/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-03-24T15:15:57Z"
    }
  ],
  "comments": []
}