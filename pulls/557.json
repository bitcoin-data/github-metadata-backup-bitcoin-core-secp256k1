{
  "type": "pull",
  "pull": {
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557",
    "id": 217480027,
    "node_id": "MDExOlB1bGxSZXF1ZXN0MjE3NDgwMDI3",
    "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557",
    "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/557.diff",
    "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/557.patch",
    "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557",
    "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557/commits",
    "review_comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557/comments",
    "review_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments%7B/number%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557/comments",
    "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
    "number": 557,
    "state": "closed",
    "locked": false,
    "maintainer_can_modify": false,
    "title": "Eliminate scratch memory used when generating contexts",
    "user": {
      "login": "apoelstra",
      "id": 1351933,
      "node_id": "MDQ6VXNlcjEzNTE5MzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/apoelstra",
      "html_url": "https://github.com/apoelstra",
      "followers_url": "https://api.github.com/users/apoelstra/followers",
      "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
      "organizations_url": "https://api.github.com/users/apoelstra/orgs",
      "repos_url": "https://api.github.com/users/apoelstra/repos",
      "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/apoelstra/received_events",
      "type": "User",
      "site_admin": false
    },
    "body": "Builds on #553 ",
    "labels": [],
    "created_at": "2018-09-22T21:43:52Z",
    "updated_at": "2019-05-13T23:44:45Z",
    "closed_at": "2018-11-26T17:15:25Z",
    "mergeable_state": "unknown",
    "merged_at": "2018-11-26T17:15:25Z",
    "merge_commit_sha": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
    "assignees": [],
    "requested_reviewers": [],
    "requested_teams": [],
    "head": {
      "label": "apoelstra:2018-09-no-scratch-memory-in-context-build",
      "ref": "2018-09-no-scratch-memory-in-context-build",
      "sha": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "repo": {
        "id": 33787691,
        "node_id": "MDEwOlJlcG9zaXRvcnkzMzc4NzY5MQ==",
        "name": "secp256k1",
        "full_name": "apoelstra/secp256k1",
        "owner": {
          "login": "apoelstra",
          "id": 1351933,
          "node_id": "MDQ6VXNlcjEzNTE5MzM=",
          "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/apoelstra",
          "html_url": "https://github.com/apoelstra",
          "followers_url": "https://api.github.com/users/apoelstra/followers",
          "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
          "organizations_url": "https://api.github.com/users/apoelstra/orgs",
          "repos_url": "https://api.github.com/users/apoelstra/repos",
          "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/apoelstra/received_events",
          "type": "User",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/apoelstra/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": true,
        "url": "https://api.github.com/repos/apoelstra/secp256k1",
        "archive_url": "https://api.github.com/repos/apoelstra/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/apoelstra/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/apoelstra/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/apoelstra/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/apoelstra/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/apoelstra/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/apoelstra/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/apoelstra/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/apoelstra/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/apoelstra/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/apoelstra/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/apoelstra/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/apoelstra/secp256k1/events",
        "forks_url": "https://api.github.com/repos/apoelstra/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/apoelstra/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/apoelstra/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/apoelstra/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/apoelstra/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/apoelstra/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/apoelstra/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/apoelstra/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/apoelstra/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/apoelstra/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/apoelstra/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/apoelstra/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/apoelstra/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/apoelstra/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/apoelstra/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/apoelstra/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:apoelstra/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/apoelstra/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/apoelstra/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/apoelstra/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/apoelstra/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/apoelstra/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/apoelstra/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/apoelstra/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/apoelstra/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/apoelstra/secp256k1/hooks",
        "svn_url": "https://github.com/apoelstra/secp256k1",
        "language": "C",
        "forks_count": 1,
        "stargazers_count": 0,
        "watchers_count": 0,
        "size": 2888,
        "default_branch": "master",
        "open_issues_count": 0,
        "is_template": false,
        "topics": [],
        "has_issues": false,
        "has_projects": true,
        "has_wiki": true,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2021-05-06T18:52:16Z",
        "created_at": "2015-04-11T18:42:06Z",
        "updated_at": "2020-04-18T08:27:37Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "base": {
      "label": "bitcoin-core:master",
      "ref": "master",
      "sha": "314a61d72474aa29ff4afba8472553ad91d88e9d",
      "user": {
        "login": "bitcoin-core",
        "id": 13464320,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
        "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/bitcoin-core",
        "html_url": "https://github.com/bitcoin-core",
        "followers_url": "https://api.github.com/users/bitcoin-core/followers",
        "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
        "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
        "repos_url": "https://api.github.com/users/bitcoin-core/repos",
        "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "repo": {
        "id": 16648618,
        "node_id": "MDEwOlJlcG9zaXRvcnkxNjY0ODYxOA==",
        "name": "secp256k1",
        "full_name": "bitcoin-core/secp256k1",
        "owner": {
          "login": "bitcoin-core",
          "id": 13464320,
          "node_id": "MDEyOk9yZ2FuaXphdGlvbjEzNDY0MzIw",
          "avatar_url": "https://avatars.githubusercontent.com/u/13464320?v=4",
          "gravatar_id": "",
          "url": "https://api.github.com/users/bitcoin-core",
          "html_url": "https://github.com/bitcoin-core",
          "followers_url": "https://api.github.com/users/bitcoin-core/followers",
          "following_url": "https://api.github.com/users/bitcoin-core/following%7B/other_user%7D",
          "gists_url": "https://api.github.com/users/bitcoin-core/gists%7B/gist_id%7D",
          "starred_url": "https://api.github.com/users/bitcoin-core/starred%7B/owner%7D%7B/repo%7D",
          "subscriptions_url": "https://api.github.com/users/bitcoin-core/subscriptions",
          "organizations_url": "https://api.github.com/users/bitcoin-core/orgs",
          "repos_url": "https://api.github.com/users/bitcoin-core/repos",
          "events_url": "https://api.github.com/users/bitcoin-core/events%7B/privacy%7D",
          "received_events_url": "https://api.github.com/users/bitcoin-core/received_events",
          "type": "Organization",
          "site_admin": false
        },
        "private": false,
        "html_url": "https://github.com/bitcoin-core/secp256k1",
        "description": "Optimized C library for EC operations on curve secp256k1",
        "fork": false,
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1",
        "archive_url": "https://api.github.com/repos/bitcoin-core/secp256k1/%7Barchive_format%7D%7B/ref%7D",
        "assignees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/assignees%7B/user%7D",
        "blobs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/blobs%7B/sha%7D",
        "branches_url": "https://api.github.com/repos/bitcoin-core/secp256k1/branches%7B/branch%7D",
        "collaborators_url": "https://api.github.com/repos/bitcoin-core/secp256k1/collaborators%7B/collaborator%7D",
        "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/comments%7B/number%7D",
        "commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits%7B/sha%7D",
        "compare_url": "https://api.github.com/repos/bitcoin-core/secp256k1/compare/%7Bbase%7D...%7Bhead%7D",
        "contents_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contents/%7B+path%7D",
        "contributors_url": "https://api.github.com/repos/bitcoin-core/secp256k1/contributors",
        "deployments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/deployments",
        "downloads_url": "https://api.github.com/repos/bitcoin-core/secp256k1/downloads",
        "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/events",
        "forks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/forks",
        "git_commits_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits%7B/sha%7D",
        "git_refs_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/refs%7B/sha%7D",
        "git_tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/tags%7B/sha%7D",
        "git_url": "git://github.com/bitcoin-core/secp256k1.git",
        "issue_comment_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments%7B/number%7D",
        "issue_events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events%7B/number%7D",
        "issues_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues%7B/number%7D",
        "keys_url": "https://api.github.com/repos/bitcoin-core/secp256k1/keys%7B/key_id%7D",
        "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels%7B/name%7D",
        "languages_url": "https://api.github.com/repos/bitcoin-core/secp256k1/languages",
        "merges_url": "https://api.github.com/repos/bitcoin-core/secp256k1/merges",
        "milestones_url": "https://api.github.com/repos/bitcoin-core/secp256k1/milestones%7B/number%7D",
        "notifications_url": "https://api.github.com/repos/bitcoin-core/secp256k1/notifications%7B?since,all,participating}",
        "pulls_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls%7B/number%7D",
        "releases_url": "https://api.github.com/repos/bitcoin-core/secp256k1/releases%7B/id%7D",
        "ssh_url": "git@github.com:bitcoin-core/secp256k1.git",
        "stargazers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/stargazers",
        "statuses_url": "https://api.github.com/repos/bitcoin-core/secp256k1/statuses/%7Bsha%7D",
        "subscribers_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscribers",
        "subscription_url": "https://api.github.com/repos/bitcoin-core/secp256k1/subscription",
        "tags_url": "https://api.github.com/repos/bitcoin-core/secp256k1/tags",
        "teams_url": "https://api.github.com/repos/bitcoin-core/secp256k1/teams",
        "trees_url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees%7B/sha%7D",
        "clone_url": "https://github.com/bitcoin-core/secp256k1.git",
        "hooks_url": "https://api.github.com/repos/bitcoin-core/secp256k1/hooks",
        "svn_url": "https://github.com/bitcoin-core/secp256k1",
        "language": "C",
        "forks_count": 948,
        "stargazers_count": 1768,
        "watchers_count": 1768,
        "size": 10062,
        "default_branch": "master",
        "open_issues_count": 142,
        "is_template": false,
        "topics": [],
        "has_issues": true,
        "has_projects": true,
        "has_wiki": false,
        "has_pages": false,
        "has_downloads": true,
        "archived": false,
        "disabled": false,
        "visibility": "public",
        "pushed_at": "2023-06-12T16:38:48Z",
        "created_at": "2014-02-08T17:30:06Z",
        "updated_at": "2023-06-12T17:38:13Z",
        "license": {
          "key": "mit",
          "name": "MIT License",
          "node_id": "MDc6TGljZW5zZTEz",
          "spdx_id": "MIT",
          "url": "https://api.github.com/licenses/mit",
          "html_url": null,
          "description": null,
          "implementation": null,
          "permissions": null,
          "conditions": null,
          "limitations": null,
          "body": null,
          "featured": null
        }
      }
    },
    "_links": {
      "self": {
        "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
      }
    },
    "author_association": "CONTRIBUTOR",
    "draft": false,
    "additions": 174,
    "deletions": 59,
    "changed_files": 6,
    "commits": 6,
    "review_comments": 19,
    "comments": 18
  },
  "events": [
    {
      "event": "reviewed",
      "id": 157923265,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU3OTIzMjY1",
      "url": null,
      "actor": null,
      "commit_id": "e1dacce4e65f870092cb1fe87b338d003a495a17",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#pullrequestreview-157923265",
      "submitted_at": "2018-09-22T21:51:04Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1861768524,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTg2MTc2ODUyNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1861768524",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-09-22T21:53:15Z"
    },
    {
      "event": "reviewed",
      "id": 157923317,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTU3OTIzMzE3",
      "url": null,
      "actor": null,
      "commit_id": "c4273d07cc5748e0d15b596fcfb6bf7597826393",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#pullrequestreview-157923317",
      "submitted_at": "2018-09-22T21:54:22Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1861769368,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTg2MTc2OTM2OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1861769368",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-09-22T21:56:27Z"
    },
    {
      "event": "commented",
      "id": 425684220,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTY4NDIyMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/425684220",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-09-30T00:30:09Z",
      "updated_at": "2018-09-30T00:30:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "Concept ACK.  Are you going to batch that extra inv?",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-425684220",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "commented",
      "id": 426061456,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjA2MTQ1Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/426061456",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-10-01T21:01:14Z",
      "updated_at": "2018-10-01T21:01:14Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yep, done.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-426061456",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "commented",
      "id": 430659516,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDY1OTUxNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/430659516",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-10-17T14:49:53Z",
      "updated_at": "2018-10-17T14:49:53Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa can you take a look at this?",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-430659516",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "mentioned",
      "id": 1909784455,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTkwOTc4NDQ1NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1909784455",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-10-17T14:49:53Z"
    },
    {
      "event": "subscribed",
      "id": 1909784457,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5MDk3ODQ0NTc=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1909784457",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-10-17T14:49:53Z"
    },
    {
      "event": "reviewed",
      "id": 169074295,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTY5MDc0Mjk1",
      "url": null,
      "actor": null,
      "commit_id": "6d7b9b8a5447c61b3e9cf2b5cce6eac42cffa55b",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#pullrequestreview-169074295",
      "submitted_at": "2018-10-28T00:19:32Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1934944701,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTkzNDk0NDcwMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1934944701",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-10-30T12:51:20Z"
    },
    {
      "event": "commented",
      "id": 434288695,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNDI4ODY5NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/434288695",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-10-30T12:52:00Z",
      "updated_at": "2018-10-30T12:52:00Z",
      "author_association": "CONTRIBUTOR",
      "body": "Replaced all instances of `(size_t)-1)` with `SIZE_MAX`. Confirmed that `git grep -n '(size_t)\\w*-1'` runs clean.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-434288695",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "commented",
      "id": 436111140,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjExMTE0MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/436111140",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-06T02:36:26Z",
      "updated_at": "2018-11-06T02:36:26Z",
      "author_association": "MEMBER",
      "body": "Needs rebase on #553 (not urgent, I'll review soon rebased or not).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-436111140",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1949337894,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk0OTMzNzg5NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1949337894",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-06T15:55:29Z"
    },
    {
      "event": "commented",
      "id": 436303716,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNjMwMzcxNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/436303716",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-06T15:55:41Z",
      "updated_at": "2018-11-06T15:55:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Rebased.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-436303716",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "reviewed",
      "id": 172781536,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTcyNzgxNTM2",
      "url": null,
      "actor": null,
      "commit_id": "8b9cc17d8cfb75dced958203db69b2a7dfee327e",
      "commit_url": null,
      "created_at": null,
      "author_association": "MEMBER",
      "body": "",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#pullrequestreview-172781536",
      "submitted_at": "2018-11-08T08:28:33Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
    },
    {
      "event": "commented",
      "id": 437018014,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzAxODAxNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437018014",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-08T14:46:15Z",
      "updated_at": "2018-11-08T14:46:15Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addressed all comments.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437018014",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1954981898,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk1NDk4MTg5OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1954981898",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-08T17:46:00Z"
    },
    {
      "event": "commented",
      "id": 437203269,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzIwMzI2OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437203269",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T00:11:43Z",
      "updated_at": "2018-11-09T00:11:43Z",
      "author_association": "MEMBER",
      "body": "ACK, please squash the fixes in the respective commits?\r\n\r\nIt's a really cool trick; I hadn't expected it would be possible to reconstruct everything from Y and Z-ratios, but the formulas work out.\r\n\r\nIt seems this actually makes `secp256k1_context_create(SECP256K1_CONTEXT_VERIFY)` around 6% faster for me (when disabling static precomputation...).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437203269",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6N2Y3YTJlZDNhODNhYTc3ODExOGRkMzZkZTA0ZWU4ZWUxYjQyZjQ4ZQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/7f7a2ed3a83aa778118dd36de04ee8ee1b42f48e",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/7f7a2ed3a83aa778118dd36de04ee8ee1b42f48e",
      "tree": {
        "sha": "4be1c60b27597c7f2954345446019c643eb712b3",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/4be1c60b27597c7f2954345446019c643eb712b3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/314a61d72474aa29ff4afba8472553ad91d88e9d",
          "sha": "314a61d72474aa29ff4afba8472553ad91d88e9d",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/314a61d72474aa29ff4afba8472553ad91d88e9d"
        }
      ],
      "message": "ecmult_gen_impl: eliminate scratch memory used when generating context",
      "committer": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-09T00:16:06Z"
      },
      "author": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-09-20T22:24:57Z"
      },
      "sha": "7f7a2ed3a83aa778118dd36de04ee8ee1b42f48e"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1955745135,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk1NTc0NTEzNQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1955745135",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T00:16:59Z"
    },
    {
      "event": "commented",
      "id": 437204254,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzIwNDI1NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437204254",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T00:17:02Z",
      "updated_at": "2018-11-09T00:17:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "Squashed.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437204254",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6NDcwNDUyNzBmYTkwZjgxMjA1ZDk4OWY3MTA3NzY5YmNlMWU3MWM0ZA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/47045270fa90f81205d989f7107769bce1e71c4d",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/47045270fa90f81205d989f7107769bce1e71c4d",
      "tree": {
        "sha": "3d5fe80dc5bfdbe9d50865c2c5d0f353824387d1",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/3d5fe80dc5bfdbe9d50865c2c5d0f353824387d1"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/7f7a2ed3a83aa778118dd36de04ee8ee1b42f48e",
          "sha": "7f7a2ed3a83aa778118dd36de04ee8ee1b42f48e",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/7f7a2ed3a83aa778118dd36de04ee8ee1b42f48e"
        }
      ],
      "message": "ecmult_impl: eliminate scratch memory used when generating context",
      "committer": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-09T00:20:51Z"
      },
      "author": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-09-20T23:34:02Z"
      },
      "sha": "47045270fa90f81205d989f7107769bce1e71c4d"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6ODQ3NDBhY2QyYTE4NTUxNGYxZjViZTg0Y2EzZmFlNTJjYTFmNjU3Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/84740acd2a185514f1f5be84ca3fae52ca1f6576",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/84740acd2a185514f1f5be84ca3fae52ca1f6576",
      "tree": {
        "sha": "b3eaec7716741adbea179d78a76d8f85cef92494",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/b3eaec7716741adbea179d78a76d8f85cef92494"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/47045270fa90f81205d989f7107769bce1e71c4d",
          "sha": "47045270fa90f81205d989f7107769bce1e71c4d",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/47045270fa90f81205d989f7107769bce1e71c4d"
        }
      ],
      "message": "ecmult_impl: save one fe_inv_var",
      "committer": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-09T00:20:53Z"
      },
      "author": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-10-01T21:00:41Z"
      },
      "sha": "84740acd2a185514f1f5be84ca3fae52ca1f6576"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6ZmZkM2IzNDZmZTcyNTBjNDg4ZTZkM2M4NjUzYzMxNGNiMDA3MjJhMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "tree": {
        "sha": "bc74f1105e544b4abb90525f928f17b80ddb962b",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/bc74f1105e544b4abb90525f928f17b80ddb962b"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/84740acd2a185514f1f5be84ca3fae52ca1f6576",
          "sha": "84740acd2a185514f1f5be84ca3fae52ca1f6576",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/84740acd2a185514f1f5be84ca3fae52ca1f6576"
        }
      ],
      "message": "add `secp256k1_ge_set_all_gej_var` test which deals with many infinite points",
      "committer": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-09T00:20:53Z"
      },
      "author": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-10-17T19:50:37Z"
      },
      "sha": "ffd3b346fe7250c488e6d3c8653c314cb00722a0"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1955749946,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk1NTc0OTk0Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1955749946",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T00:21:00Z"
    },
    {
      "event": "commented",
      "id": 437282142,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzI4MjE0Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437282142",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T08:09:32Z",
      "updated_at": "2018-11-09T08:09:32Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think it's a bit easier to understand if the z-ratios are stored with the y-values that they'll be used with (instead of off by 1). \r\n\r\nLike this: https://github.com/peterdettman/secp256k1/commit/f1ab49c5dfb11933ea64299c0c769a36eed4fa87\r\n",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437282142",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "reviewed",
      "id": 173307150,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTczMzA3MTUw",
      "url": null,
      "actor": null,
      "commit_id": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#pullrequestreview-173307150",
      "submitted_at": "2018-11-09T08:13:06Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
    },
    {
      "event": "commented",
      "id": 437406256,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzQwNjI1Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437406256",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T16:04:03Z",
      "updated_at": "2018-11-09T16:04:03Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think @peterdettman's commit is great, it does simplify the logic a fair bit.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437406256",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "mentioned",
      "id": 1957212427,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk1NzIxMjQyNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1957212427",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T16:04:03Z"
    },
    {
      "event": "subscribed",
      "id": 1957212430,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5NTcyMTI0MzA=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1957212430",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-09T16:04:03Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6ZWZhNzgzZjhmMGFkZGI4ZjFlMmVlMGYxYjk5OTk2NzNjNjQxNGFjZA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/efa783f8f0addb8f1e2ee0f1b9999673c6414acd",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/efa783f8f0addb8f1e2ee0f1b9999673c6414acd",
      "tree": {
        "sha": "74759073ad6af7817acca714eb595087b684eeb3",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/74759073ad6af7817acca714eb595087b684eeb3"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/ffd3b346fe7250c488e6d3c8653c314cb00722a0",
          "sha": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/ffd3b346fe7250c488e6d3c8653c314cb00722a0"
        }
      ],
      "message": "Store z-ratios in the 'x' coord they'll recover",
      "committer": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-10T13:14:43Z"
      },
      "author": {
        "name": "Peter Dettman",
        "email": "peter.dettman@gmail.com",
        "date": "2018-11-09T07:50:17Z"
      },
      "sha": "efa783f8f0addb8f1e2ee0f1b9999673c6414acd"
    },
    {
      "event": "commented",
      "id": 437584801,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzU4NDgwMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437584801",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:44:59Z",
      "updated_at": "2018-11-10T13:44:59Z",
      "author_association": "CONTRIBUTOR",
      "body": "Added both of Peter's commits squashed into one, and an addition commit that adds even more comments explaining how the effective-affine isomorphic curve plays into everything.\r\n\r\n@peterdettman do you think this is better?\r\n\r\n@sipa can you comment on this? We're back to \"working backward\" in the sense that I do a series of equations starting from abstract coordinates and ending up with values that have variable bindings, but it's all pretty explicit now.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437584801",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "mentioned",
      "id": 1958405598,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk1ODQwNTU5OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958405598",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:44:59Z"
    },
    {
      "event": "subscribed",
      "id": 1958405599,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5NTg0MDU1OTk=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958405599",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:44:59Z"
    },
    {
      "event": "mentioned",
      "id": 1958405600,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk1ODQwNTYwMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958405600",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:44:59Z"
    },
    {
      "event": "subscribed",
      "id": 1958405601,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5NTg0MDU2MDE=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958405601",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:44:59Z"
    },
    {
      "event": "reviewed",
      "id": 173662122,
      "node_id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MTczNjYyMTIy",
      "url": null,
      "actor": null,
      "commit_id": "2e93fed97c92c1bb82b80b095c313053cb7798d3",
      "commit_url": null,
      "created_at": null,
      "author_association": "CONTRIBUTOR",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#pullrequestreview-173662122",
      "submitted_at": "2018-11-10T13:52:25Z",
      "state": "COMMENTED",
      "pull_request_url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1958409730,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk1ODQwOTczMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958409730",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:56:45Z"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1958410731,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk1ODQxMDczMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958410731",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T13:59:27Z"
    },
    {
      "event": "committed",
      "id": null,
      "node_id": "MDY6Q29tbWl0MTY2NDg2MTg6YjNiZjVmOTlhMzI1MWUzZDcyZmZkZTFmMzkxNThhZjZlYTEzM2UzMw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "actor": null,
      "commit_id": null,
      "commit_url": null,
      "created_at": null,
      "html_url": "https://github.com/bitcoin-core/secp256k1/commit/b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "tree": {
        "sha": "686b47d94437f846b3571e972af73f31f2e9c340",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/trees/686b47d94437f846b3571e972af73f31f2e9c340"
      },
      "verification": {
        "verified": false,
        "reason": "unsigned",
        "payload": null,
        "signature": null
      },
      "parents": [
        {
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/git/commits/efa783f8f0addb8f1e2ee0f1b9999673c6414acd",
          "sha": "efa783f8f0addb8f1e2ee0f1b9999673c6414acd",
          "html_url": "https://github.com/bitcoin-core/secp256k1/commit/efa783f8f0addb8f1e2ee0f1b9999673c6414acd"
        }
      ],
      "message": "ecmult_impl: expand comment to explain how effective affine interacts with everything",
      "committer": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-10T14:01:13Z"
      },
      "author": {
        "name": "Andrew Poelstra",
        "email": "apoelstra@wpsoftware.net",
        "date": "2018-11-10T13:42:55Z"
      },
      "sha": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33"
    },
    {
      "event": "head_ref_force_pushed",
      "id": 1958411366,
      "node_id": "MDIzOkhlYWRSZWZGb3JjZVB1c2hlZEV2ZW50MTk1ODQxMTM2Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958411366",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-10T14:01:19Z"
    },
    {
      "event": "commented",
      "id": 437641334,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzY0MTMzNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437641334",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-11T03:43:26Z",
      "updated_at": "2018-11-11T03:43:26Z",
      "author_association": "MEMBER",
      "body": "@apoelstra Looks very readable now; I'll review in detail soon.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437641334",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "mentioned",
      "id": 1958701814,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk1ODcwMTgxNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958701814",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-11T03:43:26Z"
    },
    {
      "event": "subscribed",
      "id": 1958701815,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5NTg3MDE4MTU=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1958701815",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-11T03:43:26Z"
    },
    {
      "event": "commented",
      "id": 437764343,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzc2NDM0Mw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437764343",
      "actor": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T05:49:26Z",
      "updated_at": "2018-11-12T05:49:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes, better, thanks for improving that.",
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-437764343",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "commented",
      "id": 439632649,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTYzMjY0OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/439632649",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-17T17:19:44Z",
      "updated_at": "2018-11-17T17:19:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Nice!",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-439632649",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "commented",
      "id": 440115392,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDExNTM5Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/440115392",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-20T02:33:04Z",
      "updated_at": "2018-11-20T02:33:04Z",
      "author_association": "MEMBER",
      "body": "utACK b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-440115392",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "commented",
      "id": 441697728,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MTY5NzcyOA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/441697728",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-26T16:13:06Z",
      "updated_at": "2018-11-26T16:13:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ready for merge?",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-441697728",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "merged",
      "id": 1987386807,
      "node_id": "MDExOk1lcmdlZEV2ZW50MTk4NzM4NjgwNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1987386807",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "created_at": "2018-11-26T17:15:25Z"
    },
    {
      "event": "closed",
      "id": 1987386813,
      "node_id": "MDExOkNsb3NlZEV2ZW50MTk4NzM4NjgxMw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1987386813",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-26T17:15:25Z"
    },
    {
      "event": "referenced",
      "id": 1987386908,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDE5ODczODY5MDg=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1987386908",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e34ceb333b1c0e6f4115ecbb80c632ac1042fa49",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/e34ceb333b1c0e6f4115ecbb80c632ac1042fa49",
      "created_at": "2018-11-26T17:15:28Z"
    },
    {
      "event": "head_ref_deleted",
      "id": 1987509365,
      "node_id": "MDE5OkhlYWRSZWZEZWxldGVkRXZlbnQxOTg3NTA5MzY1",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1987509365",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-26T18:06:00Z"
    },
    {
      "event": "commented",
      "id": 492025798,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjAyNTc5OA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/492025798",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-05-13T23:44:45Z",
      "updated_at": "2019-05-13T23:44:45Z",
      "author_association": "CONTRIBUTOR",
      "body": "Addition/subtraction with constants are effectively free except sometimes in the tightest of loops, the compiler will usually remove them, when it doesn't they usually get hidden by pipelines. This code is run-once code, it should be optimized for clarity and maintainability most and testability much more than for size (within reason) and performance.",
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#issuecomment-492025798",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/557"
    },
    {
      "event": "referenced",
      "id": 2367530652,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzNjc1MzA2NTI=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2367530652",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "a484e0008bc9d27e5f8384813958aaba385ee000",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/a484e0008bc9d27e5f8384813958aaba385ee000",
      "created_at": "2019-05-25T21:44:57Z"
    }
  ],
  "comments": [
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/219683044",
      "pull_request_review_id": 157923265,
      "id": 219683044,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTY4MzA0NA==",
      "diff_hunk": "@@ -172,20 +172,23 @@ static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a\n     }\n }\n \n-static void secp256k1_ge_set_table_gej_var(secp256k1_ge *r, const secp256k1_gej *a, const secp256k1_fe *zr, size_t len) {\n+static void secp256k1_ge_set_table_gej_var(secp256k1_ge_storage *r, const secp256k1_gej *a, const secp256k1_fe *zr, size_t len) {",
      "path": "src/group_impl.h",
      "position": null,
      "original_position": 5,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "e1dacce4e65f870092cb1fe87b338d003a495a17",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Oh, this function can be eliminated entirely actually.",
      "created_at": "2018-09-22T21:51:04Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r219683044",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/219683044"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 175,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/219683106",
      "pull_request_review_id": 157923317,
      "id": 219683106,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTY4MzEwNg==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements and these will be sufficient to undo the isomorphism and\n+     * compute all the `x`s, using only one field inversion.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_inv_var(&d.z, &d.z);",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 74,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "c4273d07cc5748e0d15b596fcfb6bf7597826393",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "should batch this inversion with the one 5 lines up",
      "created_at": "2018-09-22T21:54:22Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r219683106",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/219683106"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 196,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/228730468",
      "pull_request_review_id": 169074295,
      "id": 228730468,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIyODczMDQ2OA==",
      "diff_hunk": "@@ -126,46 +126,48 @@ static void secp256k1_ge_set_gej_var(secp256k1_ge *r, secp256k1_gej *a) {\n     r->y = a->y;\n }\n \n-static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len, const secp256k1_callback *cb) {\n-    secp256k1_fe *az;\n-    secp256k1_fe *azi;\n+static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len) {\n+    secp256k1_fe u;\n     size_t i;\n-    size_t count = 0;\n-    az = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * len);\n+    size_t last_i = (size_t)-1;",
      "path": "src/group_impl.h",
      "position": null,
      "original_position": 12,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "6d7b9b8a5447c61b3e9cf2b5cce6eac42cffa55b",
      "in_reply_to_id": null,
      "user": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Why no SIZE_MAX?",
      "created_at": "2018-10-28T00:19:32Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r228730468",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/228730468"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 132,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231744917",
      "pull_request_review_id": 172781536,
      "id": 231744917,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTc0NDkxNw==",
      "diff_hunk": "@@ -126,30 +126,50 @@ static void secp256k1_ge_set_gej_var(secp256k1_ge *r, secp256k1_gej *a) {\n     r->y = a->y;\n }\n \n-static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len, const secp256k1_callback *cb) {\n-    secp256k1_fe *az;\n-    secp256k1_fe *azi;\n+static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len) {\n+    secp256k1_fe u;\n     size_t i;\n-    size_t count = 0;\n-    az = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * len);\n+    size_t last_i = SIZE_MAX;\n+    size_t first_i = SIZE_MAX;",
      "path": "src/group_impl.h",
      "position": null,
      "original_position": 13,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "8b9cc17d8cfb75dced958203db69b2a7dfee327e",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "It seems you're not actually using `first_i` for anything except an assert at the end. Is that intentional?",
      "created_at": "2018-11-08T02:07:00Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231744917",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231744917"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231747116",
      "pull_request_review_id": 172781536,
      "id": 231747116,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTc0NzExNg==",
      "diff_hunk": "@@ -126,30 +126,50 @@ static void secp256k1_ge_set_gej_var(secp256k1_ge *r, secp256k1_gej *a) {\n     r->y = a->y;\n }\n \n-static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len, const secp256k1_callback *cb) {\n-    secp256k1_fe *az;\n-    secp256k1_fe *azi;\n+static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len) {\n+    secp256k1_fe u;\n     size_t i;\n-    size_t count = 0;\n-    az = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * len);\n+    size_t last_i = SIZE_MAX;\n+    size_t first_i = SIZE_MAX;\n+\n     for (i = 0; i < len; i++) {\n         if (!a[i].infinity) {\n-            az[count++] = a[i].z;\n+            /* Use destination's x coordinates as scratch space */\n+            if (last_i == SIZE_MAX) {\n+                r[i].x = a[i].z;\n+                first_i = last_i = i;\n+            } else {\n+                secp256k1_fe_mul(&r[i].x, &r[last_i].x, &a[i].z);\n+                last_i = i;\n+            }\n         }\n     }\n+    if (last_i == SIZE_MAX) {\n+        return;\n+    }\n+    secp256k1_fe_inv_var(&u, &r[last_i].x);\n \n-    azi = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * count);\n-    secp256k1_fe_inv_all_var(azi, az, count);\n-    free(az);\n+    i = last_i + 1;",
      "path": "src/group_impl.h",
      "position": null,
      "original_position": 36,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "8b9cc17d8cfb75dced958203db69b2a7dfee327e",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I think this can be written more clearly as:\r\n\r\n```c++\r\ni = last_i;\r\nwhile (i > 0) {\r\n    --i;\r\n    if (!a[i].infinity) {\r\n        secp256k1_fe_mul(&r[last_i].x, &r[i].x, &u);\r\n        secp256k1_fe_mul(&u, &u, &a[last_i].z);\r\n        last_i = i;\r\n    }\r\n}\r\n```\r\n\r\n",
      "created_at": "2018-11-08T02:22:13Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231747116",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231747116"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 152,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231751370",
      "pull_request_review_id": 172781536,
      "id": 231751370,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTc1MTM3MA==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 47,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "f8683159462eff90ae81d7bb0e0bba36387d0556",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "You can use `secp256k1_fe_normalize_var` everywhere in this function.",
      "created_at": "2018-11-08T02:52:56Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231751370",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231751370"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 172,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231796421",
      "pull_request_review_id": 172781536,
      "id": 231796421,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTc5NjQyMQ==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_inv_var(&d.z, &d.z);\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 82,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "f8683159462eff90ae81d7bb0e0bba36387d0556",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Maybe point out that the stored z-ratio is extracted by the `ge_from_storage` at the end of the previous iteration of this loop.",
      "created_at": "2018-11-08T08:22:58Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231796421",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231796421"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231797649",
      "pull_request_review_id": 172781536,
      "id": 231797649,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTc5NzY0OQ==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_inv_var(&d.z, &d.z);\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that: */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute x, we observe that the z-ratio is simply `h` from",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 88,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "f8683159462eff90ae81d7bb0e0bba36387d0556",
      "in_reply_to_id": null,
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Took me a minute to realize you were reasoning backwards here.\r\n\r\nPerhaps explain that we're given the `rzr` and `r->y` output of `gej_add_ge_var`, as well as the inverse of `r->y` (by multiplying the Z ratios with the overall Z inverse in the first half of this loop), and the (constant) `b->x` and `b->y` input (which refer to D), and are trying to compute (the affine version of) the `a` input to it.",
      "created_at": "2018-11-08T08:27:46Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231797649",
      "author_association": "MEMBER",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231797649"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231908120",
      "pull_request_review_id": 172982606,
      "id": 231908120,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTkwODEyMA==",
      "diff_hunk": "@@ -126,30 +126,50 @@ static void secp256k1_ge_set_gej_var(secp256k1_ge *r, secp256k1_gej *a) {\n     r->y = a->y;\n }\n \n-static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len, const secp256k1_callback *cb) {\n-    secp256k1_fe *az;\n-    secp256k1_fe *azi;\n+static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len) {\n+    secp256k1_fe u;\n     size_t i;\n-    size_t count = 0;\n-    az = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * len);\n+    size_t last_i = SIZE_MAX;\n+    size_t first_i = SIZE_MAX;",
      "path": "src/group_impl.h",
      "position": null,
      "original_position": 13,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "8b9cc17d8cfb75dced958203db69b2a7dfee327e",
      "in_reply_to_id": 231744917,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yeah, though this was an algorithm-debugging check that probably should be removed now.",
      "created_at": "2018-11-08T14:29:28Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231908120",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231908120"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 133,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915625",
      "pull_request_review_id": 172991947,
      "id": 231915625,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTkxNTYyNQ==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_inv_var(&d.z, &d.z);\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 82,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "f8683159462eff90ae81d7bb0e0bba36387d0556",
      "in_reply_to_id": 231796421,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Added comment.",
      "created_at": "2018-11-08T14:46:24Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231915625",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915625"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 205,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915728",
      "pull_request_review_id": 172992079,
      "id": 231915728,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTkxNTcyOA==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_inv_var(&d.z, &d.z);\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that: */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute x, we observe that the z-ratio is simply `h` from",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 88,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "f8683159462eff90ae81d7bb0e0bba36387d0556",
      "in_reply_to_id": 231797649,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Expanded and rearranged this comment block.",
      "created_at": "2018-11-08T14:46:38Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231915728",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915728"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 210,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915797",
      "pull_request_review_id": 172992180,
      "id": 231915797,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTkxNTc5Nw==",
      "diff_hunk": "@@ -126,30 +126,50 @@ static void secp256k1_ge_set_gej_var(secp256k1_ge *r, secp256k1_gej *a) {\n     r->y = a->y;\n }\n \n-static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len, const secp256k1_callback *cb) {\n-    secp256k1_fe *az;\n-    secp256k1_fe *azi;\n+static void secp256k1_ge_set_all_gej_var(secp256k1_ge *r, const secp256k1_gej *a, size_t len) {\n+    secp256k1_fe u;\n     size_t i;\n-    size_t count = 0;\n-    az = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * len);\n+    size_t last_i = SIZE_MAX;\n+    size_t first_i = SIZE_MAX;\n+\n     for (i = 0; i < len; i++) {\n         if (!a[i].infinity) {\n-            az[count++] = a[i].z;\n+            /* Use destination's x coordinates as scratch space */\n+            if (last_i == SIZE_MAX) {\n+                r[i].x = a[i].z;\n+                first_i = last_i = i;\n+            } else {\n+                secp256k1_fe_mul(&r[i].x, &r[last_i].x, &a[i].z);\n+                last_i = i;\n+            }\n         }\n     }\n+    if (last_i == SIZE_MAX) {\n+        return;\n+    }\n+    secp256k1_fe_inv_var(&u, &r[last_i].x);\n \n-    azi = (secp256k1_fe *)checked_malloc(cb, sizeof(secp256k1_fe) * count);\n-    secp256k1_fe_inv_all_var(azi, az, count);\n-    free(az);\n+    i = last_i + 1;",
      "path": "src/group_impl.h",
      "position": null,
      "original_position": 36,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "8b9cc17d8cfb75dced958203db69b2a7dfee327e",
      "in_reply_to_id": 231747116,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, nice",
      "created_at": "2018-11-08T14:46:48Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231915797",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915797"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 152,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915869",
      "pull_request_review_id": 172992261,
      "id": 231915869,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMTkxNTg2OQ==",
      "diff_hunk": "@@ -137,24 +137,94 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize(&zr);",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 47,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "f8683159462eff90ae81d7bb0e0bba36387d0556",
      "in_reply_to_id": 231751370,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "done",
      "created_at": "2018-11-08T14:46:57Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r231915869",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/231915869"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 172,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232169153",
      "pull_request_review_id": 173307150,
      "id": 232169153,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjE2OTE1Mw==",
      "diff_hunk": "@@ -137,24 +137,108 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize_var(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize_var(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize_var(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize_var(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    zr = pj.z; /* save pj.z so we can use it to extract (d.z)^-1 from zi */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_mul(&d.z, &zi, &zr);  /* d.z = 1/d.z */\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that. The z-ratio for the next iteration is stored in\n+         * the x-coordinate at the end of the loop. */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute the actual x-coordinate, we use the stored z ratio and\n+         * y-coordinate, which we obtained from `secp256k1_gej_add_ge_var`\n+         * in the loop above, as well as the inverse of the square of its\n+         * z-coordinate. We store the latter in the `zi2` variable, which is\n+         * computed iteratively starting from the overall Z inverse then\n+         * multiplying by each z-ratio in turn.\n+         *\n+         * Denoting the z-ratio as `rzr` (though the actual variable binding\n+         * is `last_ge.x`), we observe that it equal to `h` from the inside\n+         * of the above `gej_add_ge_var` call. This satisfies\n+         *\n+         *    rzr = d_x * z^2 - x\n+         *\n+         * where `d_x` is the x coordinate of `D` and `(x, z)` are Jacobian\n+         * coordinates of our desired point.\n+         *\n+         * Rearranging and dividing by `z^2` to convert to affine, we get\n+         *\n+         *     x = d_x - rzr / z^2\n+         *       = d_x - rzr * zi2\n+         */",
      "path": "src/ecmult_impl.h",
      "position": 138,
      "original_position": 110,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "in_reply_to_id": null,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "The comments here could be improved with respect to the `d.z` factors that are missing/implicit in the equations.\r\n",
      "created_at": "2018-11-09T08:13:06Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r232169153",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232169153"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 260,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232249406",
      "pull_request_review_id": 173405197,
      "id": 232249406,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjI0OTQwNg==",
      "diff_hunk": "@@ -137,24 +137,108 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize_var(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize_var(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize_var(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize_var(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    zr = pj.z; /* save pj.z so we can use it to extract (d.z)^-1 from zi */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_mul(&d.z, &zi, &zr);  /* d.z = 1/d.z */\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that. The z-ratio for the next iteration is stored in\n+         * the x-coordinate at the end of the loop. */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute the actual x-coordinate, we use the stored z ratio and\n+         * y-coordinate, which we obtained from `secp256k1_gej_add_ge_var`\n+         * in the loop above, as well as the inverse of the square of its\n+         * z-coordinate. We store the latter in the `zi2` variable, which is\n+         * computed iteratively starting from the overall Z inverse then\n+         * multiplying by each z-ratio in turn.\n+         *\n+         * Denoting the z-ratio as `rzr` (though the actual variable binding\n+         * is `last_ge.x`), we observe that it equal to `h` from the inside\n+         * of the above `gej_add_ge_var` call. This satisfies\n+         *\n+         *    rzr = d_x * z^2 - x\n+         *\n+         * where `d_x` is the x coordinate of `D` and `(x, z)` are Jacobian\n+         * coordinates of our desired point.\n+         *\n+         * Rearranging and dividing by `z^2` to convert to affine, we get\n+         *\n+         *     x = d_x - rzr / z^2\n+         *       = d_x - rzr * zi2\n+         */",
      "path": "src/ecmult_impl.h",
      "position": 138,
      "original_position": 110,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "in_reply_to_id": 232169153,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Sure, so above where I just say \"this is equal to `h`\" I could write out\r\n```\r\nrzr = h\r\n    = d.x * z^2 - x * d.z^2\r\n    = d.x * z^2 - x    because d.z = 1\r\n```\r\nWould that be sufficient?",
      "created_at": "2018-11-09T13:17:58Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r232249406",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232249406"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 260,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232315388",
      "pull_request_review_id": 173491011,
      "id": 232315388,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjMxNTM4OA==",
      "diff_hunk": "@@ -137,24 +137,108 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize_var(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize_var(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize_var(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize_var(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    zr = pj.z; /* save pj.z so we can use it to extract (d.z)^-1 from zi */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_mul(&d.z, &zi, &zr);  /* d.z = 1/d.z */\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that. The z-ratio for the next iteration is stored in\n+         * the x-coordinate at the end of the loop. */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute the actual x-coordinate, we use the stored z ratio and\n+         * y-coordinate, which we obtained from `secp256k1_gej_add_ge_var`\n+         * in the loop above, as well as the inverse of the square of its\n+         * z-coordinate. We store the latter in the `zi2` variable, which is\n+         * computed iteratively starting from the overall Z inverse then\n+         * multiplying by each z-ratio in turn.\n+         *\n+         * Denoting the z-ratio as `rzr` (though the actual variable binding\n+         * is `last_ge.x`), we observe that it equal to `h` from the inside\n+         * of the above `gej_add_ge_var` call. This satisfies\n+         *\n+         *    rzr = d_x * z^2 - x\n+         *\n+         * where `d_x` is the x coordinate of `D` and `(x, z)` are Jacobian\n+         * coordinates of our desired point.\n+         *\n+         * Rearranging and dividing by `z^2` to convert to affine, we get\n+         *\n+         *     x = d_x - rzr / z^2\n+         *       = d_x - rzr * zi2\n+         */",
      "path": "src/ecmult_impl.h",
      "position": 138,
      "original_position": 110,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "in_reply_to_id": 232169153,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "I’m referring to the original d.z from the doubling at line 152 (call this d_z), not d_ge.z == 1. So the conversion to affine also involves this d_z:\r\n`x_affine = d_x / d_z^2 - rzr / z^2 / d_z^2`\r\nand note that:\r\n`zi == 1 / z / d_z`\r\nin each loop iteration.",
      "created_at": "2018-11-09T16:35:47Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r232315388",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232315388"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 260,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232317461",
      "pull_request_review_id": 173493646,
      "id": 232317461,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjMxNzQ2MQ==",
      "diff_hunk": "@@ -137,24 +137,108 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize_var(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize_var(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize_var(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize_var(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    zr = pj.z; /* save pj.z so we can use it to extract (d.z)^-1 from zi */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_mul(&d.z, &zi, &zr);  /* d.z = 1/d.z */\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that. The z-ratio for the next iteration is stored in\n+         * the x-coordinate at the end of the loop. */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute the actual x-coordinate, we use the stored z ratio and\n+         * y-coordinate, which we obtained from `secp256k1_gej_add_ge_var`\n+         * in the loop above, as well as the inverse of the square of its\n+         * z-coordinate. We store the latter in the `zi2` variable, which is\n+         * computed iteratively starting from the overall Z inverse then\n+         * multiplying by each z-ratio in turn.\n+         *\n+         * Denoting the z-ratio as `rzr` (though the actual variable binding\n+         * is `last_ge.x`), we observe that it equal to `h` from the inside\n+         * of the above `gej_add_ge_var` call. This satisfies\n+         *\n+         *    rzr = d_x * z^2 - x\n+         *\n+         * where `d_x` is the x coordinate of `D` and `(x, z)` are Jacobian\n+         * coordinates of our desired point.\n+         *\n+         * Rearranging and dividing by `z^2` to convert to affine, we get\n+         *\n+         *     x = d_x - rzr / z^2\n+         *       = d_x - rzr * zi2\n+         */",
      "path": "src/ecmult_impl.h",
      "position": 138,
      "original_position": 110,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "in_reply_to_id": 232169153,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Ah, right -- I say `d_x` in the comments but then use a variable called `dx_over_dz_squared`, which is confusing.",
      "created_at": "2018-11-09T16:41:35Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r232317461",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232317461"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 260,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232445690",
      "pull_request_review_id": 173654690,
      "id": 232445690,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjQ0NTY5MA==",
      "diff_hunk": "@@ -137,24 +137,108 @@ static void secp256k1_ecmult_odd_multiples_table_globalz_windowa(secp256k1_ge *p\n     secp256k1_ge_globalz_set_table_gej(ECMULT_TABLE_SIZE(WINDOW_A), pre, globalz, prej, zr);\n }\n \n-static void secp256k1_ecmult_odd_multiples_table_storage_var(int n, secp256k1_ge_storage *pre, const secp256k1_gej *a, const secp256k1_callback *cb) {\n-    secp256k1_gej *prej = (secp256k1_gej*)checked_malloc(cb, sizeof(secp256k1_gej) * n);\n-    secp256k1_ge *prea = (secp256k1_ge*)checked_malloc(cb, sizeof(secp256k1_ge) * n);\n-    secp256k1_fe *zr = (secp256k1_fe*)checked_malloc(cb, sizeof(secp256k1_fe) * n);\n+static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp256k1_ge_storage *pre, const secp256k1_gej *a) {\n+    secp256k1_gej d;\n+    secp256k1_ge a_ge, d_ge, p_ge;\n+    secp256k1_ge last_ge;\n+    secp256k1_gej pj;\n+    secp256k1_fe zi;\n+    secp256k1_fe zr;\n+    secp256k1_fe dx_over_dz_squared;\n     int i;\n \n-    /* Compute the odd multiples in Jacobian form. */\n-    secp256k1_ecmult_odd_multiples_table(n, prej, zr, a);\n-    /* Convert them in batch to affine coordinates. */\n-    secp256k1_ge_set_table_gej_var(prea, prej, zr, n);\n-    /* Convert them to compact storage form. */\n-    for (i = 0; i < n; i++) {\n-        secp256k1_ge_to_storage(&pre[i], &prea[i]);\n+    VERIFY_CHECK(!a->infinity);\n+\n+    secp256k1_gej_double_var(&d, a, NULL);\n+\n+    /* First, we perform all the additions in an isomorphic curve obtained by multiplying\n+     * all `z` coordinates by 1/`d.z`. In these coordinates `d` is affine so we can use\n+     * `secp256k1_gej_add_ge_var` to perform the additions. For each addition, we store\n+     * the resulting y-coordinate and the z-ratio, since we only have enough memory to\n+     * store two field elements. These are sufficient to efficiently undo the isomorphism\n+     * and recompute all the `x`s.\n+     */\n+    d_ge.x = d.x;\n+    d_ge.y = d.y;\n+    d_ge.infinity = 0;\n+\n+    secp256k1_ge_set_gej_zinv(&a_ge, a, &d.z);\n+    pj.x = a_ge.x;\n+    pj.y = a_ge.y;\n+    pj.z = a->z;\n+    pj.infinity = 0;\n+\n+    zr = d.z;\n+    secp256k1_fe_normalize_var(&zr);\n+    secp256k1_fe_to_storage(&pre[0].x, &zr);\n+    secp256k1_fe_normalize_var(&pj.y);\n+    secp256k1_fe_to_storage(&pre[0].y, &pj.y);\n+\n+    for (i = 1; i < n; i++) {\n+        secp256k1_gej_add_ge_var(&pj, &pj, &d_ge, &zr);\n+        secp256k1_fe_normalize_var(&zr);\n+        secp256k1_fe_to_storage(&pre[i].x, &zr);\n+        secp256k1_fe_normalize_var(&pj.y);\n+        secp256k1_fe_to_storage(&pre[i].y, &pj.y);\n     }\n \n-    free(prea);\n-    free(prej);\n-    free(zr);\n+    /* Map `pj` back to our curve by multiplying its z-coordinate by `d.z`. */\n+    zr = pj.z; /* save pj.z so we can use it to extract (d.z)^-1 from zi */\n+    secp256k1_fe_mul(&pj.z, &pj.z, &d.z);\n+    /* Directly set `pre[n - 1]` to `pj`, saving the inverted z-coordinate so\n+     * that we can combine it with the saved z-ratios to compute the other zs\n+     * without any more inversions. */\n+    secp256k1_fe_inv_var(&zi, &pj.z);\n+    secp256k1_ge_set_gej_zinv(&p_ge, &pj, &zi);\n+    secp256k1_ge_from_storage(&last_ge, &pre[n - 1]);\n+    secp256k1_ge_to_storage(&pre[n - 1], &p_ge);\n+\n+    /* Compute the actual x-coordinate of D, which will be needed below. */\n+    secp256k1_fe_mul(&d.z, &zi, &zr);  /* d.z = 1/d.z */\n+    secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n+    secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n+\n+    i = n - 1;\n+    while (i > 0) {\n+        secp256k1_fe zi2, zi3;\n+        i--;\n+        /* For the remaining points, we extract the z-ratio from the stored\n+         * x-coordinate, compute its z^-1 from that, and compute the full\n+         * point from that. The z-ratio for the next iteration is stored in\n+         * the x-coordinate at the end of the loop. */\n+        secp256k1_fe_mul(&zi, &zi, &last_ge.x);\n+        secp256k1_fe_sqr(&zi2, &zi);\n+        secp256k1_fe_mul(&zi3, &zi2, &zi);\n+        /* To compute the actual x-coordinate, we use the stored z ratio and\n+         * y-coordinate, which we obtained from `secp256k1_gej_add_ge_var`\n+         * in the loop above, as well as the inverse of the square of its\n+         * z-coordinate. We store the latter in the `zi2` variable, which is\n+         * computed iteratively starting from the overall Z inverse then\n+         * multiplying by each z-ratio in turn.\n+         *\n+         * Denoting the z-ratio as `rzr` (though the actual variable binding\n+         * is `last_ge.x`), we observe that it equal to `h` from the inside\n+         * of the above `gej_add_ge_var` call. This satisfies\n+         *\n+         *    rzr = d_x * z^2 - x\n+         *\n+         * where `d_x` is the x coordinate of `D` and `(x, z)` are Jacobian\n+         * coordinates of our desired point.\n+         *\n+         * Rearranging and dividing by `z^2` to convert to affine, we get\n+         *\n+         *     x = d_x - rzr / z^2\n+         *       = d_x - rzr * zi2\n+         */",
      "path": "src/ecmult_impl.h",
      "position": 138,
      "original_position": 110,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "ffd3b346fe7250c488e6d3c8653c314cb00722a0",
      "in_reply_to_id": 232169153,
      "user": {
        "login": "peterdettman",
        "id": 3423981,
        "node_id": "MDQ6VXNlcjM0MjM5ODE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3423981?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/peterdettman",
        "html_url": "https://github.com/peterdettman",
        "followers_url": "https://api.github.com/users/peterdettman/followers",
        "following_url": "https://api.github.com/users/peterdettman/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/peterdettman/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/peterdettman/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/peterdettman/subscriptions",
        "organizations_url": "https://api.github.com/users/peterdettman/orgs",
        "repos_url": "https://api.github.com/users/peterdettman/repos",
        "events_url": "https://api.github.com/users/peterdettman/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/peterdettman/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Yes, also the comments gloss over the 1/d_z factor in zi.",
      "created_at": "2018-11-10T08:13:14Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r232445690",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232445690"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": 260,
      "original_line": 232,
      "side": "RIGHT"
    },
    {
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232452707",
      "pull_request_review_id": 173662122,
      "id": 232452707,
      "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIzMjQ1MjcwNw==",
      "diff_hunk": "@@ -190,6 +190,23 @@ static void secp256k1_ecmult_odd_multiples_table_storage_var(const int n, secp25\n     secp256k1_fe_sqr(&dx_over_dz_squared, &d.z);\n     secp256k1_fe_mul(&dx_over_dz_squared, &dx_over_dz_squared, &d.x);\n \n+    /* Going into the second loop, we have set `pre[n-1]` to its final affine\n+     * form, but still need to set `pre[i]` for `i` in 0 through `n-2`. We\n+     * we have `zi = (p.z * d.z)^-1`, where\n+     *\n+     *     `p.z` is the z-coordinate of the point which was assigned to\n+     *           `pre[n-1]`; by multiplying this inverse by successive\n+     *           z-ratios we will obtain the inverse z-coordinate of all\n+     *           other points. These inverses would have been expensive\n+     *           to compute directly.\n+     *     `d.z` is the multiplier that must be applied to all z-coordinates\n+     *           to move from our isomorphic curve back to secp256k1. We\n+     *           applied this multiplier above to the inverse-z-coordinate\n+     *           computing `pre[n-1]`, and since all subsequent inverse-zs\n+     *           are computed as multiples of this value, they will also\n+     *           have the multiplier applied to them without any further\n+     *           computation.",
      "path": "src/ecmult_impl.h",
      "position": null,
      "original_position": 19,
      "commit_id": "b3bf5f99a3251e3d72ffde1f39158af6ea133e33",
      "original_commit_id": "2e93fed97c92c1bb82b80b095c313053cb7798d3",
      "in_reply_to_id": null,
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "body": "Actually this block is confusing and does not distinguish between the two curves. Will rewrite.",
      "created_at": "2018-11-10T13:52:25Z",
      "updated_at": "2018-11-10T14:01:19Z",
      "html_url": "https://github.com/bitcoin-core/secp256k1/pull/557#discussion_r232452707",
      "author_association": "CONTRIBUTOR",
      "_links": {
        "self": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/comments/232452707"
        },
        "pull_request": {
          "href": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/557"
        }
      },
      "start_line": null,
      "original_start_line": null,
      "start_side": null,
      "line": null,
      "original_line": 208,
      "side": "RIGHT"
    }
  ]
}