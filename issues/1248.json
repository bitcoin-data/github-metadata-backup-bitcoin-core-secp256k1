{
  "type": "issue",
  "issue": {
    "id": 1637474244,
    "node_id": "I_kwDOAP4Jqs5hmd_E",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1248",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1248/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1248/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1248/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1248",
    "number": 1248,
    "state": "closed",
    "state_reason": "not_planned",
    "title": "Will `jivsov-ecc-compact-05` work for `secp256k1`, or only for NIST curves?",
    "body": "Apple's [`swift-crypto` has support for serialisation of PublicKey to/from X-only](https://github.com/apple/swift-crypto/blob/main/Sources/Crypto/Keys/EC/BoringSSL/NISTCurvesKeys_boring.swift#L325-L358), for NIST curves (P256, P384 and P521), using this technique in [\"Compact representation of an elliptic curve point\"][jivsov] from 2014. Does that only work for NIST curves, or would that work for SECG curves, specifically `secp256k1` as well? \r\n\r\nI cannot see how it would work, without the parity bit... but isn't NIST curves also symmetric alongside the x-axis? i.e. for any point on the curve, there exist a \"mirror\" point on the otherside of the X-axis (apart from point at infinity)\r\n\r\nIf it works for `secp256k1` we should perhaps add support for it, what it would mean is that we could parse a `secp256k1_pubkey` from a `secp256k1_xonly_pubkey` (or otherwise the 32 bytes of the x component), right?\r\n\r\n[jivsov]: https://datatracker.ietf.org/doc/html/draft-jivsov-ecc-compact-05#section-4.1",
    "user": {
      "login": "Sajjon",
      "id": 864410,
      "node_id": "MDQ6VXNlcjg2NDQxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sajjon",
      "html_url": "https://github.com/Sajjon",
      "followers_url": "https://api.github.com/users/Sajjon/followers",
      "following_url": "https://api.github.com/users/Sajjon/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Sajjon/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Sajjon/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
      "organizations_url": "https://api.github.com/users/Sajjon/orgs",
      "repos_url": "https://api.github.com/users/Sajjon/repos",
      "events_url": "https://api.github.com/users/Sajjon/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Sajjon/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "closed_at": "2023-03-23T15:58:22Z",
    "created_at": "2023-03-23T12:43:55Z",
    "updated_at": "2023-03-23T15:58:22Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 1481227717,
      "node_id": "IC_kwDOAP4Jqs5YSb3F",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1481227717",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T13:47:06Z",
      "updated_at": "2023-03-23T13:47:06Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes, this IETF draft seems to be nearly identical to our scheme, except it uses \"low y\" as a parity split rather than using parity (or Jacobi symbol). It doesn't seem to consider either of these techniques, even though our scheme is a bit faster for any prime-order curve.\r\n\r\nAs you are hinting at, it does this by simply eliminating half the keyspace from consideration, which is also what we do with our x-only keys. You \"deserialize\" to a full public key by fixing the parity to 0, which is what our library does internally to do signature verification etc (modulo our different notions of \"parity\").\r\n\r\nBut nonetheless, for some applications of keys (for example Taproot tweaking), you can't effectively force the parity to 0 (excet by the \"black box\" technique where you do exponential work in the number of points you need to produce, and where you are SOL if all your inputs are deterministic) and you also need the parity to do computations. So we can't move to a world where everything is x-only and we pretend that the parity bits don't exist ... although I think we all hoped for that early on, and we've heard from external developers e.g. in Lightning that they wished this were true.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1248#issuecomment-1481227717",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1248"
    },
    {
      "event": "commented",
      "id": 1481319575,
      "node_id": "IC_kwDOAP4Jqs5YSySX",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1481319575",
      "actor": {
        "login": "Sajjon",
        "id": 864410,
        "node_id": "MDQ6VXNlcjg2NDQxMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sajjon",
        "html_url": "https://github.com/Sajjon",
        "followers_url": "https://api.github.com/users/Sajjon/followers",
        "following_url": "https://api.github.com/users/Sajjon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sajjon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sajjon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
        "organizations_url": "https://api.github.com/users/Sajjon/orgs",
        "repos_url": "https://api.github.com/users/Sajjon/repos",
        "events_url": "https://api.github.com/users/Sajjon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sajjon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T14:41:01Z",
      "updated_at": "2023-03-23T14:41:01Z",
      "author_association": "NONE",
      "body": "Thank you for the explanation @apoelstra ! ðŸ¥³",
      "user": {
        "login": "Sajjon",
        "id": 864410,
        "node_id": "MDQ6VXNlcjg2NDQxMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sajjon",
        "html_url": "https://github.com/Sajjon",
        "followers_url": "https://api.github.com/users/Sajjon/followers",
        "following_url": "https://api.github.com/users/Sajjon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sajjon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sajjon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
        "organizations_url": "https://api.github.com/users/Sajjon/orgs",
        "repos_url": "https://api.github.com/users/Sajjon/repos",
        "events_url": "https://api.github.com/users/Sajjon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sajjon/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1248#issuecomment-1481319575",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1248"
    },
    {
      "event": "mentioned",
      "id": 8828371898,
      "node_id": "MEE_lADOAP4Jqs5hmd_EzwAAAAIONkO6",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/8828371898",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T14:41:01Z"
    },
    {
      "event": "subscribed",
      "id": 8828371917,
      "node_id": "SE_lADOAP4Jqs5hmd_EzwAAAAIONkPN",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/8828371917",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T14:41:01Z"
    },
    {
      "event": "closed",
      "id": 8829277984,
      "node_id": "CE_lADOAP4Jqs5hmd_EzwAAAAIORBcg",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/8829277984",
      "actor": {
        "login": "Sajjon",
        "id": 864410,
        "node_id": "MDQ6VXNlcjg2NDQxMA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Sajjon",
        "html_url": "https://github.com/Sajjon",
        "followers_url": "https://api.github.com/users/Sajjon/followers",
        "following_url": "https://api.github.com/users/Sajjon/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Sajjon/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Sajjon/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
        "organizations_url": "https://api.github.com/users/Sajjon/orgs",
        "repos_url": "https://api.github.com/users/Sajjon/repos",
        "events_url": "https://api.github.com/users/Sajjon/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Sajjon/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T15:58:22Z"
    },
    {
      "event": "unsubscribed",
      "id": 8829512381,
      "node_id": "UE_lADOAP4Jqs5hmd_EzwAAAAIOR6q9",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/8829512381",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-03-23T16:18:35Z"
    }
  ]
}