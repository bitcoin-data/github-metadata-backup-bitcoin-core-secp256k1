{
  "type": "issue",
  "issue": {
    "id": 474335703,
    "node_id": "MDU6SXNzdWU0NzQzMzU3MDM=",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/653",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/653/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/653/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/653/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/653",
    "number": 653,
    "state": "closed",
    "state_reason": "completed",
    "title": "Suggestions on adding precomputes for verification",
    "body": "Hi there,\r\n\r\nRight now secp256k1 has a `ecmult-static-precomputation` module which allows us to trade space for speed. However the precomputation is only activated in secp256k1_ecmult_gen_context used in signing part. In our case we want to enable the precomputation in secp256k1_ecmult_context used in verification part as well.\r\n\r\nWe do have a patch that is mostly working [here](https://github.com/nervosnetwork/secp256k1/commit/3ffde18a060aaf4df5b81e7d88355f1e99874650), and we are interested in submitting it to upstream. However, the result here, is that a 512KB code size increase(actually 1MB if endomorphism is also enabled). So before wasting everyone's time, we want to first check the best possible way going forward here. Should we put it in a second flag so we can disable it by default and enable it on demand? Or is it good enough to share the same precomputation flag?\r\n\r\nMany thanks!",
    "user": {
      "login": "xxuejie",
      "id": 340446,
      "node_id": "MDQ6VXNlcjM0MDQ0Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/340446?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xxuejie",
      "html_url": "https://github.com/xxuejie",
      "followers_url": "https://api.github.com/users/xxuejie/followers",
      "following_url": "https://api.github.com/users/xxuejie/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/xxuejie/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/xxuejie/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/xxuejie/subscriptions",
      "organizations_url": "https://api.github.com/users/xxuejie/orgs",
      "repos_url": "https://api.github.com/users/xxuejie/repos",
      "events_url": "https://api.github.com/users/xxuejie/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/xxuejie/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "closed_at": "2021-12-26T14:15:50Z",
    "created_at": "2019-07-30T02:13:29Z",
    "updated_at": "2022-01-01T16:14:47Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 516306259,
      "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjMwNjI1OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/516306259",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-07-30T07:48:09Z",
      "updated_at": "2019-07-30T07:48:09Z",
      "author_association": "MEMBER",
      "body": "Thanks, great stuff. This is a related PR (abandoned but just because the creator is not working on it anymore):\r\nhttps://github.com/bitcoin-core/secp256k1/pull/614\r\nIt introduces precomputed values only if the table is small, which may make more sense than a huge (1 MB) table.\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/653#issuecomment-516306259",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/653"
    },
    {
      "event": "commented",
      "id": 1001189703,
      "node_id": "IC_kwDOAP4Jqs47rPFH",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1001189703",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-26T14:15:50Z",
      "updated_at": "2021-12-26T14:16:31Z",
      "author_association": "MEMBER",
      "body": "I just stumbled upon this issue. It seems we did some double work in #956, but it does mean this can be now closed.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/653#issuecomment-1001189703",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/653"
    },
    {
      "event": "closed",
      "id": 5815626306,
      "node_id": "CE_lADOAP4Jqs4cRcnXzwAAAAFao2pC",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5815626306",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-12-26T14:15:51Z"
    }
  ]
}