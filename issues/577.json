{
  "type": "issue",
  "issue": {
    "id": 390966019,
    "node_id": "MDU6SXNzdWUzOTA5NjYwMTk=",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577",
    "number": 577,
    "state": "closed",
    "state_reason": "completed",
    "title": "secp256k1_der_parse_integer is slow",
    "body": "Ran a quick gprof of bitcoin for a short period and I noticed this:\r\n\r\n```\r\n  %   cumulative   self              self     total           \r\n time   seconds   seconds    calls   s/call   s/call  name    \r\n 37.21    573.47   573.47                             secp256k1_fe_mul_inner\r\n 27.43    996.29   422.82                             secp256k1_fe_sqr_inner\r\n  7.13   1106.24   109.95                             secp256k1_scalar_reduce_512\r\n  4.89   1181.67    75.43                             secp256k1_der_parse_integer\r\n  4.82   1255.90    74.23                             secp256k1_ge_set_xo_var\r\n ```\r\n\r\nI figured the low hanging fruit on the top 3 might be exhausted but `secp256k1_der_parse_integer` looks promising. I'm guessing because it has a bunch of branching? Thought I'd bring this up here if anyone has any ideas on optimizing this.",
    "user": {
      "login": "jb55",
      "id": 45598,
      "node_id": "MDQ6VXNlcjQ1NTk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jb55",
      "html_url": "https://github.com/jb55",
      "followers_url": "https://api.github.com/users/jb55/followers",
      "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
      "organizations_url": "https://api.github.com/users/jb55/orgs",
      "repos_url": "https://api.github.com/users/jb55/repos",
      "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jb55/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "MEMBER",
    "locked": false,
    "comments": 9,
    "closed_at": "2018-12-16T15:17:18Z",
    "created_at": "2018-12-14T04:58:43Z",
    "updated_at": "2022-04-10T12:39:25Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 447268887,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI2ODg4Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/447268887",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-14T09:34:15Z",
      "updated_at": "2018-12-14T09:34:15Z",
      "author_association": "MEMBER",
      "body": "Which implementation of Bitcoin did you test? Bitcoin Core does not call `secp256k1_der_parse_integer` AFAIK because it used the code for lax DER parsing in `contrib`.\r\n\r\nApart from that, if you think it's due to all the branching, then `-fprofile-arcs` and `-fprofile-use` are the first things that come to my mind.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-447268887",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "commented",
      "id": 447378199,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzM3ODE5OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/447378199",
      "actor": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-14T16:31:29Z",
      "updated_at": "2018-12-14T17:09:17Z",
      "author_association": "MEMBER",
      "body": "Are you sure? I'm not running any special build, just Bitcoin core master with gprof enabled. It looks like it's called from secp256k1_ecdsa_sig_parse ?",
      "user": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-447378199",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "commented",
      "id": 447421492,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzQyMTQ5Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/447421492",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-14T19:00:01Z",
      "updated_at": "2018-12-14T19:00:01Z",
      "author_association": "MEMBER",
      "body": "Yeah but disregarding tests and bechnmarks, `secp256k1_ecdsa_sig_parse` is called only from `secp256k1_ecdsa_signature_parse_der`, which is not called from Bitcoin Core? If you look at the code you see that that Core uses lax parsing and then its own function `IsValidSignatureEncoding` to check the encoding.",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-447421492",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "commented",
      "id": 447444537,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzQ0NDUzNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/447444537",
      "actor": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-14T20:15:53Z",
      "updated_at": "2018-12-14T20:15:53Z",
      "author_association": "MEMBER",
      "body": "I'll try to get a call graph from gprof to see what's going on",
      "user": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-447444537",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "commented",
      "id": 447577536,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzU3NzUzNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/447577536",
      "actor": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-15T15:46:53Z",
      "updated_at": "2018-12-15T15:46:53Z",
      "author_association": "MEMBER",
      "body": "Yeah this is weird, all I see is \r\n\r\n```\r\n                                                 <spontaneous>\r\n[12]     4.9   75.43    0.00                 secp256k1_der_parse_integer [12]\r\n```\r\n\r\nwhich might make sense if secp256k1 isn't compiled with -pg ?\r\n\r\nRight now I'm going to assume the gprof output is somehow wrong.\r\n\r\nHere are the full gprof logs:\r\n\r\nhttps://jb55.com/s/bitcoin-weird-gprof.txt\r\nhttps://jb55.com/s/bitcoin-weird-gprof-graph.txt",
      "user": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-447577536",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "closed",
      "id": 2028900986,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjAyODkwMDk4Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2028900986",
      "actor": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-16T15:17:18Z"
    },
    {
      "event": "commented",
      "id": 448294846,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODI5NDg0Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/448294846",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-18T17:05:54Z",
      "updated_at": "2018-12-18T17:05:54Z",
      "author_association": "MEMBER",
      "body": "What was actually the issue?",
      "user": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-448294846",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "commented",
      "id": 449091382,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTA5MTM4Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/449091382",
      "actor": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-20T18:25:21Z",
      "updated_at": "2018-12-20T18:25:21Z",
      "author_association": "MEMBER",
      "body": "@jonasnick I never got around to figuring it out. For some reason gprof seemed to think it was sampling `secp256k1_der_parse_integer` while running bitcoin even though no code paths reach there. So it's either wrong or there is a memory corruption issue somewhere? The former is perhaps more likely?",
      "user": {
        "login": "jb55",
        "id": 45598,
        "node_id": "MDQ6VXNlcjQ1NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/45598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jb55",
        "html_url": "https://github.com/jb55",
        "followers_url": "https://api.github.com/users/jb55/followers",
        "following_url": "https://api.github.com/users/jb55/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jb55/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jb55/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jb55/subscriptions",
        "organizations_url": "https://api.github.com/users/jb55/orgs",
        "repos_url": "https://api.github.com/users/jb55/repos",
        "events_url": "https://api.github.com/users/jb55/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jb55/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-449091382",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "mentioned",
      "id": 2039086967,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjAzOTA4Njk2Nw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2039086967",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-20T18:25:21Z"
    },
    {
      "event": "subscribed",
      "id": 2039086968,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIwMzkwODY5Njg=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2039086968",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-12-20T18:25:21Z"
    },
    {
      "event": "commented",
      "id": 1094260761,
      "node_id": "IC_kwDOAP4Jqs5BORgZ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1094260761",
      "actor": {
        "login": "mrx23dot",
        "id": 4163396,
        "node_id": "MDQ6VXNlcjQxNjMzOTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4163396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mrx23dot",
        "html_url": "https://github.com/mrx23dot",
        "followers_url": "https://api.github.com/users/mrx23dot/followers",
        "following_url": "https://api.github.com/users/mrx23dot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mrx23dot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mrx23dot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mrx23dot/subscriptions",
        "organizations_url": "https://api.github.com/users/mrx23dot/orgs",
        "repos_url": "https://api.github.com/users/mrx23dot/repos",
        "events_url": "https://api.github.com/users/mrx23dot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mrx23dot/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-10T12:20:38Z",
      "updated_at": "2022-04-10T12:20:38Z",
      "author_association": "NONE",
      "body": "Maybe using the bad practice of putting functions in header files got gprof confused :D\r\nHere is my result for generating public keys from private ones.\r\nDoes anyone have a suggestion on what configuration combination is the fastest?\r\n\r\n```\r\n  %   cumulative   self              self     total           \r\n time   seconds   seconds    calls  ms/call  ms/call  name    \r\n 46.14      4.79     4.79 235910621     0.00     0.00  secp256k1_fe_mul_inner\r\n 12.01      6.03     1.25 88835821     0.00     0.00  secp256k1_fe_sqr_inner\r\n  9.06      6.97     0.94     1152     0.82     5.45  secp256k1_gej_add_ge_var\r\n\r\n```\r\n",
      "user": {
        "login": "mrx23dot",
        "id": 4163396,
        "node_id": "MDQ6VXNlcjQxNjMzOTY=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4163396?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mrx23dot",
        "html_url": "https://github.com/mrx23dot",
        "followers_url": "https://api.github.com/users/mrx23dot/followers",
        "following_url": "https://api.github.com/users/mrx23dot/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/mrx23dot/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/mrx23dot/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/mrx23dot/subscriptions",
        "organizations_url": "https://api.github.com/users/mrx23dot/orgs",
        "repos_url": "https://api.github.com/users/mrx23dot/repos",
        "events_url": "https://api.github.com/users/mrx23dot/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/mrx23dot/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-1094260761",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    },
    {
      "event": "commented",
      "id": 1094264637,
      "node_id": "IC_kwDOAP4Jqs5BOSc9",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1094264637",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2022-04-10T12:39:25Z",
      "updated_at": "2022-04-10T12:39:25Z",
      "author_association": "MEMBER",
      "body": "> Maybe using the bad practice of putting functions in header files got gprof confused :D\r\n\r\nA C compiler doesn't have a notion of a header file, so I doubt that's the issue.\r\n\r\n>  Does anyone have a suggestion on what configuration combination is the fastest?\r\n\r\nIt will depend on the compiler (flags) and your machine. I suggest running `./bench_ecmult`. Check the first line `ecmult_gen`. Maybe we should add a benchmark for key generation.\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/577#issuecomment-1094264637",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/577"
    }
  ]
}