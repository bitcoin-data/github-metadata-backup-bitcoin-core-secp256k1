{
  "type": "issue",
  "issue": {
    "id": 2556979186,
    "node_id": "I_kwDOAP4Jqs6YaGfy",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610",
    "number": 1610,
    "state": "open",
    "state_reason": null,
    "title": "Add extra API for offline/online phases in ECDSA signing",
    "body": "We'd love to split the ECDSA signing operation into two steps:\r\n- an \"offline\" step that is independent on the message,\r\n- an \"online\" step that depends on the message.\r\n\r\nThe advantage here is that the offline step can be precomputed arbitrarily early and do \"most of the computational work\". This is very useful for signers that have a lot of idle time before the signing request comes in, but little time to compute and return the signature. For example, hardware wallets.\r\n\r\nIn ECDSA, the offline step can essentially compute nonce generation + scalar multiplication + nonce modular inversion. These values (\"precomputed material\") are input to the online part. The online part just finishes the ECDSA computation. The online part is extremely fast (we're seeing around 5000x faster than the offline phase in a non-libsecp256k1 proof-of-concept).\r\n\r\nThe precomputed material is secret, can only be used once and needs to be wiped after usage.\r\n\r\nAPI-wise this would probably mean adding two functions: \r\n * `secp256k1_ecdsa_sign_split_phase_precompute()`\r\n * `secp256k1_ecdsa_sign_split_phase_online()`\r\n\r\nThe composition of the two functions compute `secp256k1_ecdsa_sign()`. The input/output behavior does not change. \r\n\r\n\r\nIs there any appetite for this? Happy to write the code for this.\r\n",
    "user": {
      "login": "RandomLattice",
      "id": 128569685,
      "node_id": "U_kgDOB6nRVQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RandomLattice",
      "html_url": "https://github.com/RandomLattice",
      "followers_url": "https://api.github.com/users/RandomLattice/followers",
      "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
      "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
      "repos_url": "https://api.github.com/users/RandomLattice/repos",
      "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [
      {
        "id": 4975353639,
        "node_id": "LA_kwDOAP4Jqs8AAAABKI3fJw",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/feature",
        "name": "feature",
        "description": "",
        "color": "731E95",
        "default": false
      },
      {
        "id": 4975389731,
        "node_id": "LA_kwDOAP4Jqs8AAAABKI5sIw",
        "url": "https://api.github.com/repos/bitcoin-core/secp256k1/labels/performance",
        "name": "performance",
        "description": "",
        "color": "DE3CCC",
        "default": false
      }
    ],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 14,
    "created_at": "2024-09-30T15:15:06Z",
    "updated_at": "2024-10-09T14:37:06Z"
  },
  "events": [
    {
      "event": "unsubscribed",
      "id": 14458237495,
      "node_id": "UE_lADOAP4Jqs6YaGfyzwAAAANdxzI3",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14458237495",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-09-30T15:18:27Z"
    },
    {
      "event": "labeled",
      "id": 14506579305,
      "node_id": "LE_lADOAP4Jqs6YaGfyzwAAAANgqNVp",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14506579305",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-03T15:41:11Z",
      "label": {
        "name": "feature",
        "color": "731E95"
      }
    },
    {
      "event": "labeled",
      "id": 14506579320,
      "node_id": "LE_lADOAP4Jqs6YaGfyzwAAAANgqNV4",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14506579320",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-03T15:41:11Z",
      "label": {
        "name": "performance",
        "color": "DE3CCC"
      }
    },
    {
      "event": "commented",
      "id": 2391758208,
      "node_id": "IC_kwDOAP4Jqs6Oj1WA",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2391758208",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-03T15:48:25Z",
      "updated_at": "2024-10-03T15:48:25Z",
      "author_association": "CONTRIBUTOR",
      "body": "> The precomputed material is secret, can only be used once and needs to be wiped after usage.\r\n\r\nIndeed, and this is the drawback of this. It's a major footgun, and I'm sure this is the reason why it's currently implemented this way.\r\n\r\nPersonally, I'm a bit on the fence. We're about to add a [MuSig2 module](https://github.com/bitcoin-core/secp256k1/pull/1479), which is also prone to nonce-reuse failures -- but in that case, it is unavoidable to split nonce generation and the actual signing into two separate steps. In the end, I don't think I'm against giving users advanced and dangerous features, but they should be clearly marked as such.\r\n\r\nI'd love to hear your use case and scenario here. Noone has asked for this before, and I doubt many users will benefit. (And anyway, ECDSA can be considered somewhat deprecated in Bitcoin, but okay, the same could be done for Schnorr signing). Do you personally need/want this, or is this is just a suggestion for improvement?\r\n\r\nIt would be interesting to know what other contributors and maintainers think. ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2391758208",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2393147995,
      "node_id": "IC_kwDOAP4Jqs6OpIpb",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2393147995",
      "actor": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T08:34:01Z",
      "updated_at": "2024-10-04T08:34:01Z",
      "author_association": "CONTRIBUTOR",
      "body": "> this is the drawback of this. It's a major footgun\r\n\r\nI think we have ways to make this less of a footgun. For example, here goes a simple mitigation. We can add to the precomputed material data struct a flag `has_been_used` meant to detect reuse. The consumer function of the struct uses this flag as follows:\r\n - checks on function enter that `has_been_used == NOT_USED_YET`. Refuses to continue if this doesn't check.\r\n - sets `has_been_used` to `ALREADY_USED`\r\n - proceeds to perform the actual computation (possibly following sad paths)\r\n\r\nLike this, a user has to go out of their way to use this unsafely (by modifying fields in an opaque struct). This doesn't cover the contrived case where the user is reusing precomputed material that got persisted _before_ the flag change; but I think that's a narrow corner case that can be dealt with a clear warning: do not reuse nonce material if you're using this API.\r\n\r\nI imagine you've considered similar things for MuSig2, curious what you think.\r\n\r\n> I don't think I'm against giving users advanced and dangerous features, but they should be clearly marked as such\r\n\r\nI think this is the right tradeoff. We can clearly mark the precomputed material as secret and that it cannot be re-used.\r\n\r\n> I'd love to hear your use case and scenario here. [...] Do you personally need/want this, or is this is just a suggestion for improvement?\r\n\r\nI'm asking others to chime in and give better context. Long story short is that we're hitting a performance bottleneck in Bitkey hardware wallet (https://github.com/proto-at-block/bitkey). We need to speed up (by a lot) the signing operation for large transactions if we want to use libsecp256k1.\r\n",
      "user": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2393147995",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2393523572,
      "node_id": "IC_kwDOAP4Jqs6OqkV0",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2393523572",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T11:48:43Z",
      "updated_at": "2024-10-04T11:48:43Z",
      "author_association": "CONTRIBUTOR",
      "body": "> > this is the drawback of this. It's a major footgun\r\n> \r\n> I think we have ways to make this less of a footgun. For example, here goes a simple mitigation. We can add to the precomputed material data struct a flag `has_been_used` meant to detect reuse. [...]\r\n> \r\n> Like this, a user has to go out of their way to use this unsafely (by modifying fields in an opaque struct). \r\n\r\n> This doesn't cover the contrived case where the user is reusing precomputed material that got persisted _before_ the flag change; but I think that's a narrow corner case that can be dealt with a clear warning: do not reuse nonce material if you're using this API.\r\n\r\nI don't think it's contrived. What if you run inside a VM and the VM is reset? What if the caller decides to memcpy the nonce, or write it to disk? (We can document that one must not do this, but this doesn't necessarily mean that people will adhere to the rules.)  \r\n\r\nThe second large concern is that one cannot use deterministic nonce generation when the message is not known. So you'll need a good source of randomness during signing.\r\n\r\nBut yeah, we're apparently willing to accept that risk in the MuSig2 API, so it's not entirely crazy to add a similar API also for ordinary signatures.\r\n\r\n> I imagine you've considered similar things for MuSig2, curious what you think.\r\n\r\nIn the MuSig2 PR, we simply overwrite the nonce with zeros after using it. That's a tiny bit safer and doesn't need a flag. \r\n\r\n> Long story short is that we're hitting a performance bottleneck in Bitkey hardware wallet ([proto-at-block/bitkey](https://github.com/proto-at-block/bitkey)). We need to speed up (by a lot) the signing operation for large transactions if we want to use libsecp256k1.\r\n\r\nI'm curious why you use ECDSA at all in a modern wallet. Schnorr signing is 27% faster on my machine, I'd be curious about the difference on the hardware wallet. The difference is probably mostly due to the RFC6979 hashing in ECDSA, which is overkill. So [switching to a faster nonce derivation function](https://github.com/bitcoin-core/secp256k1/issues/757#issuecomment-697225995) should already speed up things a lot without introducing risks. \r\n\r\nAlso, have you tried with a recent version (>=0.5.0), and have you tried all precomputation table sizes on your platform? (See https://github.com/bitcoin-core/secp256k1/blob/master/CHANGELOG.md#changed-1, note that we changed the default in 0.5.1) ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2393523572",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2393679053,
      "node_id": "IC_kwDOAP4Jqs6OrKTN",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2393679053",
      "actor": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T13:12:22Z",
      "updated_at": "2024-10-04T13:12:22Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks for the great discussion.\r\n\r\n> I don't think it's contrived. What if you run inside a VM and the VM is reset? What if the caller decides to memcpy the nonce, or write it to disk? (We can document that one must not do this, but this doesn't necessarily mean that people will adhere to the rules.)\r\n\r\nI agree rollback is bad. I think in the VM case, one would not use the new proposed API. One would just use the existing API. The new proposed API is suitable for a specific use case we're hitting \"in real life\": an embedded device (=constrained computing device) that a) needs to sign \"very fast\" and b) has plenty of time for precomputation before the signing request comes in.\r\n\r\n> The second large concern is that one cannot use deterministic nonce generation when the message is not known.\r\n\r\nWe cannot use RFC6979 to generate the secret nonce when the message is not known. But that doesn't mean we can use other approaches for deterministic nonce generation (see next paragraph).\r\n\r\n> So you'll need a good source of randomness during signing.\r\n\r\nYes, that is one way, but not the only one. Alternatively, one can use a monotonic counter / unique (public) value as input to a keyed hash to construct the secret nonce. I'm not necessarily advocating for this; it all depends on the specific use case and definitely we're in the territory of \"you need to know what you're doing\". I think the new API should be generic enough to allow the user to do this kind of choices.\r\n\r\n> But yeah, we're apparently willing to accept that risk in the MuSig2 API, so it's not entirely crazy to add a similar API also for ordinary signatures.\r\n\r\nSounds reasonable, thanks.\r\n\r\n> In the MuSig2 PR, we simply overwrite the nonce with zeros after using it. That's a tiny bit safer and doesn't need a flag.\r\n\r\nSure, that would also work. Happy to take this approach too.\r\n\r\n> have you tried with a recent version (>=0.5.0), and have you tried all precomputation table sizes on your platform?\r\n\r\nI'll let others chime in, I don't have the numbers right now with me. Thanks for all the suggestions!",
      "user": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2393679053",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2394112088,
      "node_id": "IC_kwDOAP4Jqs6Os0BY",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2394112088",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T16:54:59Z",
      "updated_at": "2024-10-04T16:54:59Z",
      "author_association": "NONE",
      "body": "Hopping in here -- this would be useful for [Bitkey](https://bitkey.world/)'s firmware, which does transaction signing over NFC using `libsecp256k1`. The chip we're using is an [EFR32MG24](https://www.silabs.com/documents/public/data-sheets/efr32mg24-datasheet.pdf), so it's not particularly fast, and we've recently had some performance issues when users try to sign many inputs back-to-back in one NFC session on their phone.\r\n\r\nWe're considering using our chip's hardware accelerated ECDSA, but we prefer `libsecp256k1` for various reasons; and the hardware doesn't support Schnorr signatures naturally, so we're a bit stuck there without a different optimization.\r\n\r\n> I'm curious why you use ECDSA at all in a modern wallet. Schnorr signing is 27% faster on my machine, I'd be curious about the difference on the hardware wallet.\r\n\r\nNot all exchanges support [sending to bech32m](https://whentaproot.org/), so it's a bit difficult to eschew ECDSA completely. On our chip, ECDSA takes ~60ms and Schnorr takes ~55ms. We can't use large precomputation tables due to limited RAM.\r\n\r\nI do think the optimization being proposed here is _mostly_ useful for resource constrained embedded systems, but it could be very useful in those settings.",
      "user": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2394112088",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2394189429,
      "node_id": "IC_kwDOAP4Jqs6OtG51",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2394189429",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T17:20:11Z",
      "updated_at": "2024-10-04T17:20:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "I think it's reasonable to expose such an API for both ECDSA and Schnorr. I would suggest doing it in much the same way that we expose custom nonce functions -- provide a second API that takes a callback and auxiliary data, whose role it is to produce a nonce keypair and inverted nonce.\r\n\r\nThis would be symmetric with our existing ability to override the RFC6979, which is similarly niche and dangerous. (Though the \"typical\" use of overriding the nonce would be to use a faster PRNG, which is perfectly safe, while the \"typical\" use of overriding the nonce computation would be to use precomputed nonce values, which is fraught.)\r\n\r\nI would *not* suggest exposing an easy-to-use or first-class API for this. It's much more difficult to obtain a monotonic counter (or strong RNG) and to ensure your software is never forked or reset, than it is to use an awkward C API. So if we were to provide a friendly API, we'd just be making the \"easy\" part easier and potentially encourage people to use it without carefully considering whether they can do so safely.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2394189429",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2394271285,
      "node_id": "IC_kwDOAP4Jqs6Ota41",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2394271285",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T17:49:01Z",
      "updated_at": "2024-10-04T17:49:51Z",
      "author_association": "CONTRIBUTOR",
      "body": "@jmecom Sorry for the slight tangent here, but:\r\n\r\n> On our chip, ECDSA takes ~60ms and Schnorr takes ~55ms. We can't use large precomputation tables due to limited RAM.\r\n\r\nSince #1058 landed in 0.5.0, the supported table sizes (for the key generation/signing code) are 2 KiB, 22 KiB, and 86 KiB. How much is acceptable to you? It's easy to add more configurations if there is a need for them.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2394271285",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "mentioned",
      "id": 14522693705,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANhnrhJ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14522693705",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T17:49:02Z"
    },
    {
      "event": "subscribed",
      "id": 14522693711,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANhnrhP",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14522693711",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T17:49:02Z"
    },
    {
      "event": "commented",
      "id": 2394521186,
      "node_id": "IC_kwDOAP4Jqs6OuX5i",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2394521186",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T20:29:15Z",
      "updated_at": "2024-10-04T20:29:15Z",
      "author_association": "NONE",
      "body": "> @jmecom Sorry for the slight tangent here, but:\r\n> \r\n> > On our chip, ECDSA takes ~60ms and Schnorr takes ~55ms. We can't use large precomputation tables due to limited RAM.\r\n> \r\n> Since #1058 landed in 0.5.0, the supported table sizes (for the key generation/signing code) are 2 KiB, 22 KiB, and 86 KiB. How much is acceptable to you? It's easy to add more configurations if there is a need for them.\r\n\r\nI just pulled in 0.5.1 and experimented with this. I didn't see a huge impact on the table size with a window size of two:\r\n```\r\n    62 ms @ 2kb\r\n    58 ms @ 22kb\r\n\t56 ms @ 86kb\r\n```\r\n\r\nWindow size of five took about 50ms @ 22kb. So, I don't think more fine-grained options are really necessary for our usecase at least.",
      "user": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2394521186",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "mentioned",
      "id": 14524713282,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANhvYlC",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14524713282",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T20:29:16Z"
    },
    {
      "event": "subscribed",
      "id": 14524713286,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANhvYlG",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14524713286",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T20:29:16Z"
    },
    {
      "event": "commented",
      "id": 2394526111,
      "node_id": "IC_kwDOAP4Jqs6OuZGf",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2394526111",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T20:33:11Z",
      "updated_at": "2024-10-04T20:33:11Z",
      "author_association": "CONTRIBUTOR",
      "body": "@jmecom By \"window size\", you mean the `ECMULT_WINDOW_SIZE` setting? That should have no impact on key generation/signing speed, only on verification speed.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2394526111",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "mentioned",
      "id": 14524750998,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANhvhyW",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14524750998",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T20:33:12Z"
    },
    {
      "event": "subscribed",
      "id": 14524751003,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANhvhyb",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14524751003",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T20:33:12Z"
    },
    {
      "event": "commented",
      "id": 2394741878,
      "node_id": "IC_kwDOAP4Jqs6OvNx2",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2394741878",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T22:21:03Z",
      "updated_at": "2024-10-04T22:21:03Z",
      "author_association": "NONE",
      "body": "> @jmecom By \"window size\", you mean the `ECMULT_WINDOW_SIZE` setting? That should have no impact on key generation/signing speed, only on verification speed.\r\n\r\nAh, woops. Due to the way I'm profiling, there is a little variation across each run, so I mistakenly thought that lowered the duration, but it was just an anomaly. Ignore that, but the rest is accurate.",
      "user": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2394741878",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "mentioned",
      "id": 14525638419,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANhy6cT",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14525638419",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T22:21:04Z"
    },
    {
      "event": "subscribed",
      "id": 14525638430,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANhy6ce",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14525638430",
      "actor": {
        "login": "jmecom",
        "id": 6612870,
        "node_id": "MDQ6VXNlcjY2MTI4NzA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/6612870?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jmecom",
        "html_url": "https://github.com/jmecom",
        "followers_url": "https://api.github.com/users/jmecom/followers",
        "following_url": "https://api.github.com/users/jmecom/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jmecom/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jmecom/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jmecom/subscriptions",
        "organizations_url": "https://api.github.com/users/jmecom/orgs",
        "repos_url": "https://api.github.com/users/jmecom/repos",
        "events_url": "https://api.github.com/users/jmecom/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jmecom/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-04T22:21:05Z"
    },
    {
      "event": "commented",
      "id": 2396560121,
      "node_id": "IC_kwDOAP4Jqs6O2Jr5",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2396560121",
      "actor": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T10:40:44Z",
      "updated_at": "2024-10-07T10:40:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "> I think it's reasonable to expose such an API for both ECDSA and Schnorr. I would suggest doing it in much the same way that we expose custom nonce functions -- provide a second API that takes a callback and auxiliary data, whose role it is to produce a nonce keypair and inverted nonce.\r\n\r\nHere goes an sketch of the proposed changes. Let me know what you think: \r\n\r\n1. The new functionality can live in a separate module `module_precomputationapi`. This module can be enabled at compile time and is disabled by default.\r\n\r\n2. Introduce an opaque data structure that holds the \"precomputed material\" in `include/secp256k1_precomputedapi.h`:\r\n```\r\n    typedef struct secp256k1_precomputed_struct secp256k1_precomputed\r\n```\r\n\r\n3. Define the struct holding nonce keypair + inverted nonce in `src/modules/precomputedapi/main_impl.h`. This data struct is not guaranteed to be portable across platforms or versions.\r\n\r\n4. Introduce these new API functions in `src/modules/precomputedapi/main_impl.h`:\r\n```\r\nint secp256k1_ecdsa_precomputatedapi_prepare(\r\n    const secp256k1_context *ctx,\r\n    secp256k1_precomputed *precomp,\r\n    const unsigned char *seckey,\r\n    secp256k1_nonce_function noncefp,\r\n    const void *ndata\r\n\r\nint secp256k1_ecdsa_precomputatedapi_sign(\r\n    const secp256k1_context *ctx,\r\n    secp256k1_ecdsa_signature *sig,\r\n    const unsigned char *msghash32,\r\n    const unsigned char *seckey,\r\n    secp256k1_precomputed *precomp,\r\n```\r\n\r\n5. Testing:\r\n\r\n * `test_precomputation_api`: test all NULLs are detected.\r\n * `test_precomputation_identical`: test side-by-side against `secp256k1_ecdsa_sign`.\r\n * `test_precomputation_roundtrip`: test all signatures generated with `secp256k1_ecdsa_precomputatedapi_sign` pass. This test may be redundant given `test_precomputation_identical`.\r\n\r\n6. Benchmark: would be useful to see what is the speed up attained, but lower priority than point 5.\r\n\r\nSome points for discussion:\r\n\r\n* The term \"precomputationapi\" isn't great for describing this. secp256k1 already uses \"precomputation\" in a different context. Is there a better term? The alternatives I have thought of aren't any better: \"precomputednonce\", \"offlineonline\", \"deattachednonce\".\r\n\r\n* We can take first the ECDSA path, and extend in the future for Schnorr if there's a need.\r\n\r\n> I would not suggest exposing an easy-to-use or first-class API for this. It's much more difficult to obtain a monotonic counter (or strong RNG) and to ensure your software is never forked or reset, than it is to use an awkward C API. So if we were to provide a friendly API, we'd just be making the \"easy\" part easier and potentially encourage people to use it without carefully considering whether they can do so safely.\r\n\r\nI hope the API above follows this advice.",
      "user": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2396560121",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2397235681,
      "node_id": "IC_kwDOAP4Jqs6O4unh",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2397235681",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T15:22:33Z",
      "updated_at": "2024-10-07T15:22:33Z",
      "author_association": "CONTRIBUTOR",
      "body": "The above proposal sounds reasonable to me (other than the name -- I agree \"precomputednonce\" or \"detachednonce\" sound better).\r\n\r\nBut it does open a question about whether we would want an \"off by default\" module. Currently we have two categories of modules:\r\n\r\n* \"experimental\" modules where we do not guarantee API stability, but hope to eventually get there\r\n* non-experimental modules, which are all turned on for releases, since we don't have a good semver-compatible way for distributions to pick and choose which modules they compile in\r\n\r\nOriginally I think we had imagined that users would be able to pick and choose what modules they need, but that's not really compatible with shared library distribution; and we also hoped that users would be able to write their own custom modules, but that doesn't really work with C tooling (though I suppose it could be made to work with nix stdenv and the `patches` field maybe..).\r\n\r\nAnyway, this module would presumably be \"experimental\", but unlike the other experimental modules, I don't think we would ever be willing to promote it to a \"real\" module.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2397235681",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2397245700,
      "node_id": "IC_kwDOAP4Jqs6O4xEE",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2397245700",
      "actor": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-07T15:26:44Z",
      "updated_at": "2024-10-07T15:26:44Z",
      "author_association": "CONTRIBUTOR",
      "body": "Thanks! I like \"precomputednonce\" better.\r\n\r\n> this module would presumably be \"experimental\", but unlike the other experimental modules, I don't think we would ever be willing to promote it to a \"real\" module\r\n\r\nThat sounds reasonable. Sounds like it would be better to mark this module as `experimental`.",
      "user": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2397245700",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "commented",
      "id": 2402528891,
      "node_id": "IC_kwDOAP4Jqs6PM657",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/2402528891",
      "actor": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:05Z",
      "updated_at": "2024-10-09T14:37:05Z",
      "author_association": "CONTRIBUTOR",
      "body": "@real-or-random @sipa : I'd love to get some feedback before writing code. Do you think the proposal in https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2396560121 is reasonable? Should we discuss a specific point? Would you be OK if I put up a PR adding this API? \r\n\r\nFrom https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2397235681 it looks like this proposal is reasonable to @apoelstra.",
      "user": {
        "login": "RandomLattice",
        "id": 128569685,
        "node_id": "U_kgDOB6nRVQ",
        "avatar_url": "https://avatars.githubusercontent.com/u/128569685?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/RandomLattice",
        "html_url": "https://github.com/RandomLattice",
        "followers_url": "https://api.github.com/users/RandomLattice/followers",
        "following_url": "https://api.github.com/users/RandomLattice/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/RandomLattice/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/RandomLattice/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/RandomLattice/subscriptions",
        "organizations_url": "https://api.github.com/users/RandomLattice/orgs",
        "repos_url": "https://api.github.com/users/RandomLattice/repos",
        "events_url": "https://api.github.com/users/RandomLattice/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/RandomLattice/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1610#issuecomment-2402528891",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1610"
    },
    {
      "event": "mentioned",
      "id": 14574240382,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANksUJ-",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14574240382",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:06Z"
    },
    {
      "event": "subscribed",
      "id": 14574240406,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANksUKW",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14574240406",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:06Z"
    },
    {
      "event": "mentioned",
      "id": 14574240424,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANksUKo",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14574240424",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:06Z"
    },
    {
      "event": "subscribed",
      "id": 14574240436,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANksUK0",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14574240436",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:07Z"
    },
    {
      "event": "mentioned",
      "id": 14574240460,
      "node_id": "MEE_lADOAP4Jqs6YaGfyzwAAAANksULM",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14574240460",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:07Z"
    },
    {
      "event": "subscribed",
      "id": 14574240495,
      "node_id": "SE_lADOAP4Jqs6YaGfyzwAAAANksULv",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/14574240495",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2024-10-09T14:37:07Z"
    }
  ]
}