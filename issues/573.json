{
  "type": "issue",
  "issue": {
    "id": 379903318,
    "node_id": "MDU6SXNzdWUzNzk5MDMzMTg=",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573",
    "number": 573,
    "state": "closed",
    "state_reason": "completed",
    "title": "illegal-callback called with message that says \"secp256k1_ecmult_context_is_built(&ctx->ecmult_ctx)\"",
    "body": "trying to wrap secp256k1 in lisp and I am getting this message when trying to derive a public child key of a public parent key.\r\nmy code looks something like this(I have used cl-autowrap, have not given everthing nice names yet)\r\n\r\n```\r\n(with-context (ctx secp256k1.ffi:+secp256k1-context-sign+)\r\n    (secp256k1.ffi:secp256k1-context-set-illegal-callback ctx\r\n                                                          (autowrap:callback 'illegal-callback)\r\n                                                          'nil)\r\n    (autowrap:with-many-alloc ((pubkey 'secp256k1.ffi:secp256k1-pubkey)\r\n                               (serialized ':unsigned-char 65)\r\n                               (size-serialized ':unsigned-long 1))\r\n      (unless (secp256k1.ffi:secp256k1-ec-pubkey-parse ctx pubkey key_ (length key))\r\n        (error \"when parsing pubkey\"))\r\n      (unless (secp256k1.ffi:secp256k1-ec-pubkey-tweak-add ctx pubkey hash_)\r\n        (error \"error when tweaking pubkey\"))\r\n      (setf (autowrap:c-aref size-serialized 0 :unsigned-long) 65)\r\n      (unless (secp256k1.ffi:secp256k1-ec-pubkey-serialize ctx\r\n                                                           serialized\r\n                                                           size-serialized\r\n                                                           pubkey\r\n                                                           secp256k1.ffi:+secp256k1-ec-compressed+)\r\n        (error \"could not serialize new public key\"))\r\n      (values (cffi:foreign-array-to-lisp serialized `(:array :unsigned-char\r\n                                                              ,(autowrap:c-aref size-serialized\r\n                                                                                0\r\n                                                                                :unsigned-long)))\r\n              (subseq hash 32 64))))\r\n```\r\n\r\ni get the call to my illegal-callback after the call to tweak-add function and before the call to the ec-pubkey-serialize.\r\n\r\nQuestions:\r\nwhat does this message mean? do i need to configure the context in some specific way? do I need to have a scratch-space set up? i have tried with one. \r\n\r\nI am running my lisp code in SBCL.",
    "user": {
      "login": "jimhansson",
      "id": 17421,
      "node_id": "MDQ6VXNlcjE3NDIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/17421?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimhansson",
      "html_url": "https://github.com/jimhansson",
      "followers_url": "https://api.github.com/users/jimhansson/followers",
      "following_url": "https://api.github.com/users/jimhansson/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/jimhansson/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/jimhansson/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/jimhansson/subscriptions",
      "organizations_url": "https://api.github.com/users/jimhansson/orgs",
      "repos_url": "https://api.github.com/users/jimhansson/repos",
      "events_url": "https://api.github.com/users/jimhansson/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/jimhansson/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 10,
    "closed_at": "2019-02-21T04:34:17Z",
    "created_at": "2018-11-12T18:37:57Z",
    "updated_at": "2019-02-21T04:34:17Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 437987411,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzk4NzQxMQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437987411",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T18:43:02Z",
      "updated_at": "2018-11-12T18:43:02Z",
      "author_association": "CONTRIBUTOR",
      "body": "In C you would need to call `secp256k1_context_create` with the `SECP256K1_CONTEXT_SIGN` flag before you can call `secp256k1_sign`.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-437987411",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "commented",
      "id": 437988137,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzk4ODEzNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437988137",
      "actor": {
        "login": "jimhansson",
        "id": 17421,
        "node_id": "MDQ6VXNlcjE3NDIx",
        "avatar_url": "https://avatars.githubusercontent.com/u/17421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimhansson",
        "html_url": "https://github.com/jimhansson",
        "followers_url": "https://api.github.com/users/jimhansson/followers",
        "following_url": "https://api.github.com/users/jimhansson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimhansson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimhansson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimhansson/subscriptions",
        "organizations_url": "https://api.github.com/users/jimhansson/orgs",
        "repos_url": "https://api.github.com/users/jimhansson/repos",
        "events_url": "https://api.github.com/users/jimhansson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimhansson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T18:45:25Z",
      "updated_at": "2018-11-12T18:45:25Z",
      "author_association": "NONE",
      "body": "Sorry forgot to write that my (with-context .....) does setup and teardown of a context with the parameters given on the same line, so yes i have a context setup with SECP256K1_CONTEXT_SIGN before doing anything more.\r\n",
      "user": {
        "login": "jimhansson",
        "id": 17421,
        "node_id": "MDQ6VXNlcjE3NDIx",
        "avatar_url": "https://avatars.githubusercontent.com/u/17421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimhansson",
        "html_url": "https://github.com/jimhansson",
        "followers_url": "https://api.github.com/users/jimhansson/followers",
        "following_url": "https://api.github.com/users/jimhansson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimhansson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimhansson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimhansson/subscriptions",
        "organizations_url": "https://api.github.com/users/jimhansson/orgs",
        "repos_url": "https://api.github.com/users/jimhansson/repos",
        "events_url": "https://api.github.com/users/jimhansson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimhansson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-437988137",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "commented",
      "id": 437992694,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzk5MjY5NA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437992694",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T19:00:38Z",
      "updated_at": "2018-11-12T19:00:38Z",
      "author_association": "CONTRIBUTOR",
      "body": "Can you post the source of the `with-context` macro?\r\n",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-437992694",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "commented",
      "id": 437992917,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzk5MjkxNw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437992917",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T19:01:26Z",
      "updated_at": "2018-11-12T19:01:26Z",
      "author_association": "CONTRIBUTOR",
      "body": "Try SECP256K1_CONTEXT_VERIFY instead",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-437992917",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "commented",
      "id": 437993439,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzNzk5MzQzOQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/437993439",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T19:03:10Z",
      "updated_at": "2018-11-12T19:06:19Z",
      "author_association": "CONTRIBUTOR",
      "body": "Oh, yeah, @real-or-random is right. I was confusing the `ecmult_impl` (verification) context with the `ecmult_gen_impl` (signing) context. `secp256k1.ffi:secp256k1-ec-pubkey-tweak-add` requires a verification context.\r\n\r\nBy the way, most crypto operations take 10s of microseconds, while context creation takes 10s of *milliseconds*, so you are paying a huge performance cost to use the `with-X` idiom this way.",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-437993439",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "mentioned",
      "id": 1961126040,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk2MTEyNjA0MA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1961126040",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T19:03:10Z"
    },
    {
      "event": "subscribed",
      "id": 1961126041,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5NjExMjYwNDE=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1961126041",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T19:03:10Z"
    },
    {
      "event": "commented",
      "id": 438023904,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzODAyMzkwNA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/438023904",
      "actor": {
        "login": "jimhansson",
        "id": 17421,
        "node_id": "MDQ6VXNlcjE3NDIx",
        "avatar_url": "https://avatars.githubusercontent.com/u/17421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimhansson",
        "html_url": "https://github.com/jimhansson",
        "followers_url": "https://api.github.com/users/jimhansson/followers",
        "following_url": "https://api.github.com/users/jimhansson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimhansson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimhansson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimhansson/subscriptions",
        "organizations_url": "https://api.github.com/users/jimhansson/orgs",
        "repos_url": "https://api.github.com/users/jimhansson/repos",
        "events_url": "https://api.github.com/users/jimhansson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimhansson/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T20:50:18Z",
      "updated_at": "2018-11-12T20:50:18Z",
      "author_association": "NONE",
      "body": "I tried to use a SECP256K1_CONTEXT_VERIFY before writting this, but it did not work. tried again and I got the something similier to \"[libsecp256k1] illegal argument: secp256k1_ecmult_gen_context_is_built(&ctx->ecmult_gen_ctx)\"\r\n\r\nI then remembered that my (with-context) macro do call secp256k1_context_randomize when setting up the context..\r\n\r\n```\r\n(defmacro with-context ((name options) &body body)\r\n\t(with-gensyms (result-of-body)\r\n\t\t`(let ((,name (secp256k1-context-create ,options)))\r\n\t\t\t ;; better way to seed this, don't wanna depend on ironclad\r\n\t\t\t (cffi:with-foreign-array (seed_ (ironclad:make-random-salt 32) '(:array :unsigned-char 32))\r\n\t\t\t\t (secp256k1-context-randomize ,name seed_) ; <- randomize\r\n\t\t\t\t (let ((,result-of-body ,@body))\r\n\t\t\t\t\t (secp256k1-context-destroy ,name)\r\n\t\t\t\t\t ,result-of-body)))))\r\n```\r\ncommenting out the line that does the randomization fixes the crash.\r\n\r\nThings i would like to know/understand\r\n1. why should not a SECP256K1_CONTEXT_VERIFY context be randomized?\r\n2. If i have a context setup both for VERIFY and SIGN should it be randomized?\r\n",
      "user": {
        "login": "jimhansson",
        "id": 17421,
        "node_id": "MDQ6VXNlcjE3NDIx",
        "avatar_url": "https://avatars.githubusercontent.com/u/17421?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jimhansson",
        "html_url": "https://github.com/jimhansson",
        "followers_url": "https://api.github.com/users/jimhansson/followers",
        "following_url": "https://api.github.com/users/jimhansson/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jimhansson/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jimhansson/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jimhansson/subscriptions",
        "organizations_url": "https://api.github.com/users/jimhansson/orgs",
        "repos_url": "https://api.github.com/users/jimhansson/repos",
        "events_url": "https://api.github.com/users/jimhansson/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jimhansson/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-438023904",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "commented",
      "id": 438025442,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzODAyNTQ0Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/438025442",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T20:55:47Z",
      "updated_at": "2018-11-12T21:00:04Z",
      "author_association": "CONTRIBUTOR",
      "body": "Oh, neat. `secp256k1_context_randomize` requires a context initialized for signing (if it's initialized for both that's fine). The reason is that randomization only applies to signing -- it's a sidechannel-resistance measure, and verification doesn't require any sidechannel protection. So it's not that it \"shouldn't\" be randomized, it's just that we have no notion of randomization for verification precomp tables, and don't need one.\r\n\r\nIt turns out that `secp256k1_context_randomize` has an `ARG_CHECK` checking that its context is initialized for signing, and will abort if the context isn't. **This is a documentation bug**; it's not listed in the header file and actually I had no idea that this behaviour existed. (I should check rust-secp256k1 to see if this abort condition is exposed by my bindings in safe code..)\r\n\r\n**Edit:** Yep, this is a bug in rust-secp too. Thanks for the report! To work around your problem, just don't call `randomize` on a verification-only context.\r\n",
      "user": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-438025442",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T20:59:14Z",
      "updated_at": "2018-11-12T20:59:14Z",
      "source": {
        "issue": {
          "id": 379949818,
          "node_id": "MDU6SXNzdWUzNzk5NDk4MTg=",
          "url": "https://api.github.com/repos/rust-bitcoin/rust-secp256k1/issues/82",
          "repository_url": "https://api.github.com/repos/rust-bitcoin/rust-secp256k1",
          "labels_url": "https://api.github.com/repos/rust-bitcoin/rust-secp256k1/issues/82/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/rust-bitcoin/rust-secp256k1/issues/82/comments",
          "events_url": "https://api.github.com/repos/rust-bitcoin/rust-secp256k1/issues/82/events",
          "html_url": "https://github.com/rust-bitcoin/rust-secp256k1/issues/82",
          "number": 82,
          "state": "closed",
          "state_reason": "completed",
          "title": "Calling `Secp256k1::randomize` on a verification-only context will abort the process",
          "body": "TIL that `secp256k1_context_randomize` actually requires a signing context, despite the docs not mentioning this. See https://github.com/bitcoin-core/secp256k1/issues/573\r\n\r\nThe following code can trigger a process abort in a unit test (run with `cargo test --features \"rand\"`)\r\n```\r\ndiff --git a/src/lib.rs b/src/lib.rs\r\nindex 81cbc57..2b0a4a7 100644\r\n--- a/src/lib.rs\r\n+++ b/src/lib.rs\r\n@@ -1179,6 +1179,13 @@ mod tests {\r\n \r\n         assert_tokens(&sig, &[Token::BorrowedBytes(&SIG_BYTES[..])]);\r\n     }\r\n+\r\n+    #[cfg(feature=\"rand\")]\r\n+    #[test]\r\n+    fn test_randomize() {\r\n+        let mut s = Secp256k1::verification_only();\r\n+        s.randomize(&mut ::rand::thread_rng());\r\n+    }\r\n }\r\n\r\n #[cfg(all(test, feature = \"unstable\"))] \r\n```",
          "user": {
            "login": "apoelstra",
            "id": 1351933,
            "node_id": "MDQ6VXNlcjEzNTE5MzM=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/apoelstra",
            "html_url": "https://github.com/apoelstra",
            "followers_url": "https://api.github.com/users/apoelstra/followers",
            "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
            "organizations_url": "https://api.github.com/users/apoelstra/orgs",
            "repos_url": "https://api.github.com/users/apoelstra/repos",
            "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/apoelstra/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "MEMBER",
          "locked": false,
          "comments": 3,
          "closed_at": "2019-03-08T13:44:41Z",
          "created_at": "2018-11-12T20:59:14Z",
          "updated_at": "2019-03-08T13:44:41Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "commented",
      "id": 438029675,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzODAyOTY3NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/438029675",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-12T21:10:21Z",
      "updated_at": "2018-11-12T21:10:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "Yes this should be documented. But maybe randomizing a non-supported context should be a no-op instead of failing. I'm not sure. ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-438029675",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "commented",
      "id": 439041383,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTA0MTM4Mw==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/439041383",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T13:33:51Z",
      "updated_at": "2018-11-15T13:36:13Z",
      "author_association": "CONTRIBUTOR",
      "body": "> But maybe randomizing a non-supported context should be a no-op instead of failing. I'm not sure.\r\n\r\n@gmaxwell @sipa opinions?\r\nAn argument for a no-op is that it's future-proof. Maybe a verification context will need some randomization too. It sounds weird at first glance because verification is inherently a public operation but something like tweaking keys could involve secrets for example. ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-439041383",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "mentioned",
      "id": 1968653952,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk2ODY1Mzk1Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1968653952",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T13:33:51Z"
    },
    {
      "event": "subscribed",
      "id": 1968653954,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5Njg2NTM5NTQ=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1968653954",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T13:33:51Z"
    },
    {
      "event": "mentioned",
      "id": 1968653959,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MTk2ODY1Mzk1OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1968653959",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T13:33:51Z"
    },
    {
      "event": "subscribed",
      "id": 1968653960,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDE5Njg2NTM5NjA=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/1968653960",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2018-11-15T13:33:51Z"
    },
    {
      "event": "commented",
      "id": 457875759,
      "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg3NTc1OQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/457875759",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-26T23:40:38Z",
      "updated_at": "2019-01-26T23:41:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "@real-or-random Agree, we should make randomizing a non-signing context a no-op.\r\n\r\nBatch validation needs randomness, despite being a fully public operation.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/573#issuecomment-457875759",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/573"
    },
    {
      "event": "mentioned",
      "id": 2099079561,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjA5OTA3OTU2MQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2099079561",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-26T23:40:38Z"
    },
    {
      "event": "subscribed",
      "id": 2099079562,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDIwOTkwNzk1NjI=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2099079562",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-26T23:40:38Z"
    },
    {
      "event": "referenced",
      "id": 2099291956,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIwOTkyOTE5NTY=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2099291956",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "6198375218b8132f016b701ef049fb295ca28c95",
      "commit_url": "https://api.github.com/repos/real-or-random/secp256k1/commits/6198375218b8132f016b701ef049fb295ca28c95",
      "created_at": "2019-01-27T12:34:31Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-01-27T12:34:43Z",
      "updated_at": "2019-01-27T12:34:43Z",
      "source": {
        "issue": {
          "id": 403546091,
          "node_id": "MDExOlB1bGxSZXF1ZXN0MjQ3OTUwODM0",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/587",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/587/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/587/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/587/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/pull/587",
          "number": 587,
          "state": "closed",
          "state_reason": null,
          "title": "Make randomization of a non-signing context a noop",
          "body": "Before this commit secp256k1_context_randomize called illegal_callback\r\nwhen called on a context not initialized for signing. This is not\r\ndocumented. Moreover, it is not desirable because non-signing contexts\r\nmay use randomization in the future.\r\n\r\nThis commit makes secp256k1_context_randomize a noop in this case. This\r\nis safe because the context cannot be used for signing anyway.\r\n\r\nThis fixes #573 and it fixes rust-bitcoin/rust-secp256k1#82.",
          "user": {
            "login": "real-or-random",
            "id": 1071625,
            "node_id": "MDQ6VXNlcjEwNzE2MjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/real-or-random",
            "html_url": "https://github.com/real-or-random",
            "followers_url": "https://api.github.com/users/real-or-random/followers",
            "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
            "organizations_url": "https://api.github.com/users/real-or-random/orgs",
            "repos_url": "https://api.github.com/users/real-or-random/repos",
            "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/real-or-random/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 4,
          "pull_request": {
            "url": "https://api.github.com/repos/bitcoin-core/secp256k1/pulls/587",
            "html_url": "https://github.com/bitcoin-core/secp256k1/pull/587",
            "diff_url": "https://github.com/bitcoin-core/secp256k1/pull/587.diff",
            "patch_url": "https://github.com/bitcoin-core/secp256k1/pull/587.patch"
          },
          "closed_at": "2019-02-21T04:34:17Z",
          "created_at": "2019-01-27T12:34:43Z",
          "updated_at": "2019-02-21T04:34:17Z"
        },
        "type": "issue"
      }
    },
    {
      "event": "closed",
      "id": 2153892022,
      "node_id": "MDExOkNsb3NlZEV2ZW50MjE1Mzg5MjAyMg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2153892022",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2019-02-21T04:34:17Z"
    },
    {
      "event": "referenced",
      "id": 2153892036,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIxNTM4OTIwMzY=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2153892036",
      "actor": {
        "login": "gmaxwell",
        "id": 858454,
        "node_id": "MDQ6VXNlcjg1ODQ1NA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/858454?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/gmaxwell",
        "html_url": "https://github.com/gmaxwell",
        "followers_url": "https://api.github.com/users/gmaxwell/followers",
        "following_url": "https://api.github.com/users/gmaxwell/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/gmaxwell/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/gmaxwell/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/gmaxwell/subscriptions",
        "organizations_url": "https://api.github.com/users/gmaxwell/orgs",
        "repos_url": "https://api.github.com/users/gmaxwell/repos",
        "events_url": "https://api.github.com/users/gmaxwell/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/gmaxwell/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "e96901a4b951dfb6336114d223151dd0f5ffb89b",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/e96901a4b951dfb6336114d223151dd0f5ffb89b",
      "created_at": "2019-02-21T04:34:18Z"
    },
    {
      "event": "referenced",
      "id": 2380824346,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDIzODA4MjQzNDY=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/2380824346",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "edd941c94b9bf3cd88569bc097361d477ac49351",
      "commit_url": "https://api.github.com/repos/real-or-random/secp256k1/commits/edd941c94b9bf3cd88569bc097361d477ac49351",
      "created_at": "2019-05-31T12:17:03Z"
    },
    {
      "event": "cross-referenced",
      "id": null,
      "node_id": null,
      "url": null,
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-02-19T10:43:48Z",
      "updated_at": "2021-02-19T10:43:48Z",
      "source": {
        "issue": {
          "id": 811913281,
          "node_id": "MDU6SXNzdWU4MTE5MTMyODE=",
          "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/897",
          "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
          "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/897/labels%7B/name%7D",
          "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/897/comments",
          "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/897/events",
          "html_url": "https://github.com/bitcoin-core/secp256k1/issues/897",
          "number": 897,
          "state": "open",
          "state_reason": null,
          "title": "Human-readable error messages ",
          "body": "https://github.com/bitcoin-core/secp256k1/issues/573 and a recent discussion on IRC show that it would be nice to have human-readable messages in some ARG_CHECK cases, e.g., when the context was created with the wrong flags.\r\n\r\n`[libsecp256k1] illegal argument: secp256k1_ecmult_gen_context_is_built(&ctx->ecmult_ctx)` is not exactly helpful to the user, and passing the wrong context is a likely mistake, not only for new users.\r\nThe same is true for example for `!secp256k1_fe_is_zero(&ge->x)` (in `pubkey_load`).\r\n\r\n\r\nI believe for most `ARG_CHECKs`, it's not that big of an issue because they're of the form  `prealloc != NULL` and this is easy to parse.  ",
          "user": {
            "login": "real-or-random",
            "id": 1071625,
            "node_id": "MDQ6VXNlcjEwNzE2MjU=",
            "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/real-or-random",
            "html_url": "https://github.com/real-or-random",
            "followers_url": "https://api.github.com/users/real-or-random/followers",
            "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
            "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
            "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
            "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
            "organizations_url": "https://api.github.com/users/real-or-random/orgs",
            "repos_url": "https://api.github.com/users/real-or-random/repos",
            "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
            "received_events_url": "https://api.github.com/users/real-or-random/received_events",
            "type": "User",
            "site_admin": false
          },
          "labels": [],
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "locked": false,
          "comments": 1,
          "created_at": "2021-02-19T10:43:48Z",
          "updated_at": "2021-02-19T20:05:48Z"
        },
        "type": "issue"
      }
    }
  ]
}