{
  "type": "issue",
  "issue": {
    "id": 111340545,
    "node_id": "MDU6SXNzdWUxMTEzNDA1NDU=",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/335",
    "number": 335,
    "state": "closed",
    "state_reason": "completed",
    "title": "Install fails using npm",
    "body": "https://github.com/iurimatias/embark-framework/issues/99\n\nHere is the output of `npm install secp256k1@1.1.1 -g`:\n\n```\n> secp256k1@1.1.1 install /usr/local/lib/node_modules/secp256k1\n> node-gyp rebuild\n\n  CXX(target) Release/obj.target/secp256k1/functions.o\n../functions.cc:66:16: error: no matching member function for call to 'Set'\n      results->Set(0, node::Buffer::New(output, outputlen));\n      ~~~~~~~~~^~~\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:1491:17: note: candidate function not viable: no known conversion from 'node::Buffer *' to 'Handle<v8::Value>' for 2nd\n      argument\n  V8EXPORT bool Set(uint32_t index,\n                ^\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:1487:17: note: candidate function not viable: no known conversion from 'int' to 'Handle<v8::Value>' for 1st argument\n  V8EXPORT bool Set(Handle<Value> key,\n                ^\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:281:46: error: no matching constructor for initialization of 'Handle<v8::Value>'\n  template <class S> inline Local(S* that) : Handle<T>(that) { }\n                                             ^         ~~~~\n.././async.h:40:7: note: in instantiation of function template specialization 'v8::Local<v8::Value>::Local<node::Buffer>' requested here\n      node::Buffer::New(output, outputlen),\n      ^\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:174:26: note: candidate constructor (the implicit copy constructor) not viable: no known conversion from 'node::Buffer *'\n      to 'const v8::Handle<v8::Value>' for 1st argument\ntemplate <class T> class Handle {\n                         ^\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:184:19: note: candidate constructor not viable: no known conversion from 'node::Buffer *' to 'v8::Value *' for 1st\n      argument\n  inline explicit Handle(T* val) : val_(val) {}\n                  ^\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:196:29: note: candidate template ignored: could not match 'Handle<type-parameter-0-0>' against 'node::Buffer *'\n  template <class S> inline Handle(Handle<S> that)\n                            ^\n/Users/chris/.node-gyp/0.10.39/deps/v8/include/v8.h:179:10: note: candidate constructor not viable: requires 0 arguments, but 1 was provided\n  inline Handle() : val_(0) {}\n         ^\nIn file included from ../functions.cc:1:\nIn file included from ../node_modules/nan/nan.h:140:\nIn file included from ../node_modules/nan/nan_callbacks.h:120:\n../node_modules/nan/nan_callbacks_pre_12_inl.h:97:34: error: assigning to 'node::Buffer **volatile' from incompatible type 'v8::Primitive *'\n  inline void Set(S *whatever) { TYPE_CHECK(S*, v8::Primitive); }\n                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n../node_modules/nan/nan.h:124:40: note: expanded from macro 'TYPE_CHECK'\n      *(static_cast<T *volatile *>(0)) = static_cast<S*>(0);                   \\\n                                       ^ ~~~~~~~~~~~~~~~~~~\n../functions.cc:106:29: note: in instantiation of function template specialization 'Nan::ReturnValue<v8::Value>::Set<node::Buffer>' requested here\n      info.GetReturnValue().Set(node::Buffer::New((char *)output, outputlen));\n                            ^\n3 errors generated.\nmake: *** [Release/obj.target/secp256k1/functions.o] Error 1\ngyp ERR! build error\ngyp ERR! stack Error: `make` failed with exit code: 2\ngyp ERR! stack     at ChildProcess.onExit (/usr/local/lib/node_modules/npm/node_modules/node-gyp/lib/build.js:269:23)\ngyp ERR! stack     at ChildProcess.emit (events.js:98:17)\ngyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:820:12)\ngyp ERR! System Darwin 14.5.0\ngyp ERR! command \"node\" \"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js\" \"rebuild\"\ngyp ERR! cwd /usr/local/lib/node_modules/secp256k1\ngyp ERR! node -v v0.10.39\ngyp ERR! node-gyp -v v2.0.2\ngyp ERR! not ok\nnpm ERR! Darwin 14.5.0\nnpm ERR! argv \"node\" \"/usr/local/bin/npm\" \"install\" \"secp256k1@1.1.1\" \"-g\"\nnpm ERR! node v0.10.39\nnpm ERR! npm  v2.14.1\nnpm ERR! code ELIFECYCLE\n\nnpm ERR! secp256k1@1.1.1 install: `node-gyp rebuild`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the secp256k1@1.1.1 install script 'node-gyp rebuild'.\nnpm ERR! This is most likely a problem with the secp256k1 package,\nnpm ERR! not with npm itself.\nnpm ERR! Tell the author that this fails on your system:\nnpm ERR!     node-gyp rebuild\nnpm ERR! You can get their info via:\nnpm ERR!     npm owner ls secp256k1\nnpm ERR! There is likely additional logging output above.\n\nnpm ERR! Please include the following file with any support request:\nnpm ERR!     /Users/chris/git/ether/http-getter-passthrough/npm-debug.log\n```\n",
    "user": {
      "login": "IstoraMandiri",
      "id": 1696942,
      "node_id": "MDQ6VXNlcjE2OTY5NDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1696942?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IstoraMandiri",
      "html_url": "https://github.com/IstoraMandiri",
      "followers_url": "https://api.github.com/users/IstoraMandiri/followers",
      "following_url": "https://api.github.com/users/IstoraMandiri/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/IstoraMandiri/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/IstoraMandiri/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/IstoraMandiri/subscriptions",
      "organizations_url": "https://api.github.com/users/IstoraMandiri/orgs",
      "repos_url": "https://api.github.com/users/IstoraMandiri/repos",
      "events_url": "https://api.github.com/users/IstoraMandiri/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/IstoraMandiri/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 3,
    "closed_at": "2015-10-19T03:36:41Z",
    "created_at": "2015-10-14T07:28:37Z",
    "updated_at": "2015-10-19T03:36:41Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 147962952,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE0Nzk2Mjk1Mg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/147962952",
      "actor": {
        "login": "IstoraMandiri",
        "id": 1696942,
        "node_id": "MDQ6VXNlcjE2OTY5NDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1696942?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IstoraMandiri",
        "html_url": "https://github.com/IstoraMandiri",
        "followers_url": "https://api.github.com/users/IstoraMandiri/followers",
        "following_url": "https://api.github.com/users/IstoraMandiri/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/IstoraMandiri/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/IstoraMandiri/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/IstoraMandiri/subscriptions",
        "organizations_url": "https://api.github.com/users/IstoraMandiri/orgs",
        "repos_url": "https://api.github.com/users/IstoraMandiri/repos",
        "events_url": "https://api.github.com/users/IstoraMandiri/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/IstoraMandiri/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-14T07:35:35Z",
      "updated_at": "2015-10-14T07:35:35Z",
      "author_association": "NONE",
      "body": "X-posted to https://github.com/wanderer/secp256k1-node/issues/35\n",
      "user": {
        "login": "IstoraMandiri",
        "id": 1696942,
        "node_id": "MDQ6VXNlcjE2OTY5NDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1696942?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IstoraMandiri",
        "html_url": "https://github.com/IstoraMandiri",
        "followers_url": "https://api.github.com/users/IstoraMandiri/followers",
        "following_url": "https://api.github.com/users/IstoraMandiri/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/IstoraMandiri/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/IstoraMandiri/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/IstoraMandiri/subscriptions",
        "organizations_url": "https://api.github.com/users/IstoraMandiri/orgs",
        "repos_url": "https://api.github.com/users/IstoraMandiri/repos",
        "events_url": "https://api.github.com/users/IstoraMandiri/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/IstoraMandiri/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/335#issuecomment-147962952",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335"
    },
    {
      "event": "commented",
      "id": 147998015,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE0Nzk5ODAxNQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/147998015",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-14T10:02:46Z",
      "updated_at": "2015-10-14T10:02:46Z",
      "author_association": "MEMBER",
      "body": "This doesn't look like a problem with the C code.\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/335#issuecomment-147998015",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335"
    },
    {
      "event": "commented",
      "id": 149087946,
      "node_id": "MDEyOklzc3VlQ29tbWVudDE0OTA4Nzk0Ng==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/149087946",
      "actor": {
        "login": "IstoraMandiri",
        "id": 1696942,
        "node_id": "MDQ6VXNlcjE2OTY5NDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1696942?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IstoraMandiri",
        "html_url": "https://github.com/IstoraMandiri",
        "followers_url": "https://api.github.com/users/IstoraMandiri/followers",
        "following_url": "https://api.github.com/users/IstoraMandiri/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/IstoraMandiri/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/IstoraMandiri/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/IstoraMandiri/subscriptions",
        "organizations_url": "https://api.github.com/users/IstoraMandiri/orgs",
        "repos_url": "https://api.github.com/users/IstoraMandiri/repos",
        "events_url": "https://api.github.com/users/IstoraMandiri/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/IstoraMandiri/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-19T03:36:41Z",
      "updated_at": "2015-10-19T03:36:41Z",
      "author_association": "NONE",
      "body": "Yes, closing. Apologies for the false alarm.\n",
      "user": {
        "login": "IstoraMandiri",
        "id": 1696942,
        "node_id": "MDQ6VXNlcjE2OTY5NDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1696942?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IstoraMandiri",
        "html_url": "https://github.com/IstoraMandiri",
        "followers_url": "https://api.github.com/users/IstoraMandiri/followers",
        "following_url": "https://api.github.com/users/IstoraMandiri/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/IstoraMandiri/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/IstoraMandiri/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/IstoraMandiri/subscriptions",
        "organizations_url": "https://api.github.com/users/IstoraMandiri/orgs",
        "repos_url": "https://api.github.com/users/IstoraMandiri/repos",
        "events_url": "https://api.github.com/users/IstoraMandiri/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/IstoraMandiri/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/335#issuecomment-149087946",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/335"
    },
    {
      "event": "closed",
      "id": 438693946,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDM4NjkzOTQ2",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/438693946",
      "actor": {
        "login": "IstoraMandiri",
        "id": 1696942,
        "node_id": "MDQ6VXNlcjE2OTY5NDI=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1696942?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/IstoraMandiri",
        "html_url": "https://github.com/IstoraMandiri",
        "followers_url": "https://api.github.com/users/IstoraMandiri/followers",
        "following_url": "https://api.github.com/users/IstoraMandiri/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/IstoraMandiri/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/IstoraMandiri/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/IstoraMandiri/subscriptions",
        "organizations_url": "https://api.github.com/users/IstoraMandiri/orgs",
        "repos_url": "https://api.github.com/users/IstoraMandiri/repos",
        "events_url": "https://api.github.com/users/IstoraMandiri/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/IstoraMandiri/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2015-10-19T03:36:41Z"
    }
  ]
}