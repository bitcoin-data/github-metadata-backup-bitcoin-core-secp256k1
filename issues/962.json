{
  "type": "issue",
  "issue": {
    "id": 936272201,
    "node_id": "MDU6SXNzdWU5MzYyNzIyMDE=",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/962",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/962/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/962/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/962/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/962",
    "number": 962,
    "state": "closed",
    "state_reason": "completed",
    "title": "SECP256K1_SCHNORRSIG_EXTRAPARAMS_INIT does not work with C++",
    "body": "```c\r\n#include <secp256k1.h>\r\n#include <secp256k1_schnorrsig.h>\r\n\r\nint main(void)\r\n{\r\n    secp256k1_schnorrsig_extraparams extraparams = SECP256K1_SCHNORRSIG_EXTRAPARAMS_INIT;\r\n    return 0;\r\n}\r\n```\r\n\r\nThis compiles as C but not as C++.\r\n\r\nclang++:\r\n\r\n```\r\nx.cpp:6:52: error: initializer-string for char array is too long\r\n    secp256k1_schnorrsig_extraparams extraparams = SECP256K1_SCHNORRSIG_EXTRAPARAMS_INIT;\r\n                                                   ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/secp256k1/include/secp256k1_schnorrsig.h:90:5: note: expanded from macro 'SECP256K1_SCHNORRSIG_EXTRAPARAMS_INIT'\r\n    SECP256K1_SCHNORRSIG_EXTRAPARAMS_MAGIC,\\\r\n    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n/secp256k1/include/secp256k1_schnorrsig.h:88:48: note: expanded from macro 'SECP256K1_SCHNORRSIG_EXTRAPARAMS_MAGIC'\r\n#define SECP256K1_SCHNORRSIG_EXTRAPARAMS_MAGIC \"\\xda\\x6f\\xb3\\x8c\"\r\n                                               ^~~~~~~~~~~~~~~~~~\r\n1 error generated.\r\n```\r\n\r\ng++\r\n\r\n```\r\nIn file included from x.cpp:2:0:\r\nx.cpp: In function ‘int main()’:\r\n/secp256k1/include/secp256k1_schnorrsig.h:93:1: error: initializer-string for array of chars is too long [-fpermissive]\r\n }\r\n ^\r\nx.cpp:6:52: note: in expansion of macro ‘SECP256K1_SCHNORRSIG_EXTRAPARAMS_INIT’\r\n     secp256k1_schnorrsig_extraparams extraparams = SECP256K1_SCHNORRSIG_EXTRAPARAMS_INIT;\r\n```",
    "user": {
      "login": "guidovranken",
      "id": 6846644,
      "node_id": "MDQ6VXNlcjY4NDY2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6846644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guidovranken",
      "html_url": "https://github.com/guidovranken",
      "followers_url": "https://api.github.com/users/guidovranken/followers",
      "following_url": "https://api.github.com/users/guidovranken/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/guidovranken/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/guidovranken/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/guidovranken/subscriptions",
      "organizations_url": "https://api.github.com/users/guidovranken/orgs",
      "repos_url": "https://api.github.com/users/guidovranken/repos",
      "events_url": "https://api.github.com/users/guidovranken/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/guidovranken/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 1,
    "closed_at": "2021-07-05T20:58:32Z",
    "created_at": "2021-07-03T15:05:38Z",
    "updated_at": "2021-07-05T20:58:32Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 873464530,
      "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzQ2NDUzMA==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/873464530",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-03T20:18:08Z",
      "updated_at": "2021-07-03T20:18:08Z",
      "author_association": "MEMBER",
      "body": "I guess there's an unwritten rule that the include files should work in C++ too... Maybe we should test this in CI. \r\n\r\nHere's a related CI failure after merging the same PR #844 (when CI was running on the PR, we didn't have `-Werror` yet...), which doesn't deserve an issue on its own:\r\nhttps://github.com/bitcoin-core/secp256k1/runs/2978402299\r\n\r\ncc @jonasnick ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/962#issuecomment-873464530",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/962"
    },
    {
      "event": "mentioned",
      "id": 4974509455,
      "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50NDk3NDUwOTQ1NQ==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/4974509455",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-03T20:18:09Z"
    },
    {
      "event": "subscribed",
      "id": 4974509456,
      "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDQ5NzQ1MDk0NTY=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/4974509456",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-07-03T20:18:09Z"
    },
    {
      "event": "referenced",
      "id": 4974627613,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NzQ2Mjc2MTM=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/4974627613",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "792d7c46668144e0ca2a321b0765935037258d2f",
      "commit_url": "https://api.github.com/repos/real-or-random/secp256k1/commits/792d7c46668144e0ca2a321b0765935037258d2f",
      "created_at": "2021-07-04T00:08:33Z"
    },
    {
      "event": "referenced",
      "id": 4977108927,
      "node_id": "MDE1OlJlZmVyZW5jZWRFdmVudDQ5NzcxMDg5Mjc=",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/4977108927",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "769528f30714a1e5503a7abefad25fd89f0ef237",
      "commit_url": "https://api.github.com/repos/real-or-random/secp256k1/commits/769528f30714a1e5503a7abefad25fd89f0ef237",
      "created_at": "2021-07-05T08:34:38Z"
    },
    {
      "event": "closed",
      "id": 4980079306,
      "node_id": "MDExOkNsb3NlZEV2ZW50NDk4MDA3OTMwNg==",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/4980079306",
      "actor": {
        "login": "jonasnick",
        "id": 2582071,
        "node_id": "MDQ6VXNlcjI1ODIwNzE=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2582071?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jonasnick",
        "html_url": "https://github.com/jonasnick",
        "followers_url": "https://api.github.com/users/jonasnick/followers",
        "following_url": "https://api.github.com/users/jonasnick/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/jonasnick/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/jonasnick/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/jonasnick/subscriptions",
        "organizations_url": "https://api.github.com/users/jonasnick/orgs",
        "repos_url": "https://api.github.com/users/jonasnick/repos",
        "events_url": "https://api.github.com/users/jonasnick/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/jonasnick/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "769528f30714a1e5503a7abefad25fd89f0ef237",
      "commit_url": "https://api.github.com/repos/bitcoin-core/secp256k1/commits/769528f30714a1e5503a7abefad25fd89f0ef237",
      "created_at": "2021-07-05T20:58:32Z"
    },
    {
      "event": "referenced",
      "id": 9309532704,
      "node_id": "REFE_lADOAP4Jqs43zmFJzwAAAAIq5DIg",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9309532704",
      "actor": {
        "login": "dderjoel",
        "id": 13455345,
        "node_id": "MDQ6VXNlcjEzNDU1MzQ1",
        "avatar_url": "https://avatars.githubusercontent.com/u/13455345?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dderjoel",
        "html_url": "https://github.com/dderjoel",
        "followers_url": "https://api.github.com/users/dderjoel/followers",
        "following_url": "https://api.github.com/users/dderjoel/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/dderjoel/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/dderjoel/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/dderjoel/subscriptions",
        "organizations_url": "https://api.github.com/users/dderjoel/orgs",
        "repos_url": "https://api.github.com/users/dderjoel/repos",
        "events_url": "https://api.github.com/users/dderjoel/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/dderjoel/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": "75a8292f2a421f7409ad44673836b0122cbe0c6b",
      "commit_url": "https://api.github.com/repos/dderjoel/secp256k1/commits/75a8292f2a421f7409ad44673836b0122cbe0c6b",
      "created_at": "2023-05-23T01:15:37Z"
    }
  ]
}