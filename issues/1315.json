{
  "type": "issue",
  "issue": {
    "id": 1709082008,
    "node_id": "I_kwDOAP4Jqs5l3oWY",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1315",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1315/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1315/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1315/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1315",
    "number": 1315,
    "state": "closed",
    "state_reason": "completed",
    "title": "build error: implicit declaration of function 'time' is invalid in C99",
    "body": "Hello, I'm building on Mac m2. Got this error:\r\n\r\n```\r\n/secp256k1/src/testrand_impl.h:171:26: error: implicit declaration of function 'time' is invalid in C99 [-Werror,-Wimplicit-function-declaration]\r\n            uint64_t t = time(NULL) * (uint64_t)1337;\r\n```\r\n\r\nCould you help me to fix this?",
    "user": {
      "login": "Ljzn",
      "id": 19494388,
      "node_id": "MDQ6VXNlcjE5NDk0Mzg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/19494388?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Ljzn",
      "html_url": "https://github.com/Ljzn",
      "followers_url": "https://api.github.com/users/Ljzn/followers",
      "following_url": "https://api.github.com/users/Ljzn/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/Ljzn/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/Ljzn/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/Ljzn/subscriptions",
      "organizations_url": "https://api.github.com/users/Ljzn/orgs",
      "repos_url": "https://api.github.com/users/Ljzn/repos",
      "events_url": "https://api.github.com/users/Ljzn/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/Ljzn/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "NONE",
    "locked": false,
    "comments": 2,
    "closed_at": "2023-05-17T08:15:13Z",
    "created_at": "2023-05-14T21:27:35Z",
    "updated_at": "2023-05-17T08:15:13Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 1548556237,
      "node_id": "IC_kwDOAP4Jqs5cTRfN",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1548556237",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-15T20:50:53Z",
      "updated_at": "2023-05-15T21:13:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "That's strange. We include `<time.h>` (which is supposed to define `time()`) before including `testrand_impl.h`, see https://github.com/bitcoin-core/secp256k1/blob/master/src/tests.c#L11 .\r\n\r\nCan you share more information? \r\n - What are the exact commands you are using to build this?\r\n - Which compiler on what version are you suing? \r\n - What's the entire compiler output?\r\n - (Is this an error that shows up in the actual build process, or is it just an error shown in your IDE? For example, `clangd`, which is often used as a backend in IDEs, tries to compile each file individually, which is just not the build model that we support. In particular, if you compile `src/testrand_impl.h` individually, this error message is expected. But it's not a problem in the end, it's rather a shortage of `clangd`.)",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1315#issuecomment-1548556237",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1315"
    },
    {
      "event": "unsubscribed",
      "id": 9253082311,
      "node_id": "UE_lADOAP4Jqs5l3oWYzwAAAAInhtTH",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9253082311",
      "actor": {
        "login": "romanz",
        "id": 9900,
        "node_id": "MDQ6VXNlcjk5MDA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9900?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/romanz",
        "html_url": "https://github.com/romanz",
        "followers_url": "https://api.github.com/users/romanz/followers",
        "following_url": "https://api.github.com/users/romanz/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/romanz/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/romanz/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/romanz/subscriptions",
        "organizations_url": "https://api.github.com/users/romanz/orgs",
        "repos_url": "https://api.github.com/users/romanz/repos",
        "events_url": "https://api.github.com/users/romanz/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/romanz/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-16T03:54:25Z"
    },
    {
      "event": "commented",
      "id": 1550956222,
      "node_id": "IC_kwDOAP4Jqs5ccba-",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/1550956222",
      "actor": {
        "login": "Ljzn",
        "id": 19494388,
        "node_id": "MDQ6VXNlcjE5NDk0Mzg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/19494388?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ljzn",
        "html_url": "https://github.com/Ljzn",
        "followers_url": "https://api.github.com/users/Ljzn/followers",
        "following_url": "https://api.github.com/users/Ljzn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ljzn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ljzn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ljzn/subscriptions",
        "organizations_url": "https://api.github.com/users/Ljzn/orgs",
        "repos_url": "https://api.github.com/users/Ljzn/repos",
        "events_url": "https://api.github.com/users/Ljzn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ljzn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T08:15:12Z",
      "updated_at": "2023-05-17T08:15:12Z",
      "author_association": "NONE",
      "body": "include <time.h> before including testrand_impl.h solves the problem, thank you!",
      "user": {
        "login": "Ljzn",
        "id": 19494388,
        "node_id": "MDQ6VXNlcjE5NDk0Mzg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/19494388?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ljzn",
        "html_url": "https://github.com/Ljzn",
        "followers_url": "https://api.github.com/users/Ljzn/followers",
        "following_url": "https://api.github.com/users/Ljzn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ljzn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ljzn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ljzn/subscriptions",
        "organizations_url": "https://api.github.com/users/Ljzn/orgs",
        "repos_url": "https://api.github.com/users/Ljzn/repos",
        "events_url": "https://api.github.com/users/Ljzn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ljzn/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/1315#issuecomment-1550956222",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/1315"
    },
    {
      "event": "closed",
      "id": 9266191255,
      "node_id": "CE_lADOAP4Jqs5l3oWYzwAAAAIoTtuX",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/9266191255",
      "actor": {
        "login": "Ljzn",
        "id": 19494388,
        "node_id": "MDQ6VXNlcjE5NDk0Mzg4",
        "avatar_url": "https://avatars.githubusercontent.com/u/19494388?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Ljzn",
        "html_url": "https://github.com/Ljzn",
        "followers_url": "https://api.github.com/users/Ljzn/followers",
        "following_url": "https://api.github.com/users/Ljzn/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/Ljzn/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/Ljzn/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/Ljzn/subscriptions",
        "organizations_url": "https://api.github.com/users/Ljzn/orgs",
        "repos_url": "https://api.github.com/users/Ljzn/repos",
        "events_url": "https://api.github.com/users/Ljzn/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/Ljzn/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2023-05-17T08:15:13Z"
    }
  ]
}