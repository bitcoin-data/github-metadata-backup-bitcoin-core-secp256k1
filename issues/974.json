{
  "type": "issue",
  "issue": {
    "id": 994893772,
    "node_id": "MDU6SXNzdWU5OTQ4OTM3NzI=",
    "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974",
    "repository_url": "https://api.github.com/repos/bitcoin-core/secp256k1",
    "labels_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974/labels%7B/name%7D",
    "comments_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974/comments",
    "events_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974/events",
    "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974",
    "number": 974,
    "state": "open",
    "state_reason": null,
    "title": "New ECDSA API without prehashed messages",
    "body": "Hey folks,\r\n\r\nECDSA verify\r\n\r\nhttps://github.com/bitcoin-core/secp256k1/blob/1e5d50fa93d71d751b95eec6a80f6732879a0071/src/ecdsa_impl.h#L207\r\n\r\nhttps://github.com/bitcoin-core/secp256k1/blob/1e5d50fa93d71d751b95eec6a80f6732879a0071/src/scalar_4x64_impl.h#L559\r\n\r\naccepts all-zero hash aka (0, 0, 0 ....). Is this a valid behavior? Seems like it could enable fault attacks. The algorithm is as follows, as per https://www.secg.org/sec1-v2.pdf 4.1.4:\r\n\r\n1. `u1 = es^−1 mod n` and `u2 = rs^−1 mod n`\r\n2. `R = (xR, yR) = u1 * G + u2 * Q * U`\r\n3. `e == 0`, then `u1 == 0`, then `u1 * G` is invalid because you cannot multiply G by 0",
    "user": {
      "login": "paulmillr",
      "id": 574696,
      "node_id": "MDQ6VXNlcjU3NDY5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulmillr",
      "html_url": "https://github.com/paulmillr",
      "followers_url": "https://api.github.com/users/paulmillr/followers",
      "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
      "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
      "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
      "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
      "organizations_url": "https://api.github.com/users/paulmillr/orgs",
      "repos_url": "https://api.github.com/users/paulmillr/repos",
      "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
      "received_events_url": "https://api.github.com/users/paulmillr/received_events",
      "type": "User",
      "site_admin": false
    },
    "labels": [],
    "assignees": [],
    "author_association": "CONTRIBUTOR",
    "locked": false,
    "comments": 15,
    "created_at": "2021-09-13T13:27:51Z",
    "updated_at": "2021-09-13T16:54:09Z"
  },
  "events": [
    {
      "event": "commented",
      "id": 918239908,
      "node_id": "IC_kwDOAP4Jqs42uzqk",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918239908",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:17:25Z",
      "updated_at": "2021-09-13T14:17:52Z",
      "author_association": "MEMBER",
      "body": ">     3. `e == 0`, then `u1 == 0`, then `u1 * G` is invalid because you cannot multiply G by 0\r\n\r\nSure you can multiply G by 0.\r\n0*G is the point at infinity.\r\n",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918239908",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918247135,
      "node_id": "IC_kwDOAP4Jqs42u1bf",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918247135",
      "actor": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:24:39Z",
      "updated_at": "2021-09-13T14:24:39Z",
      "author_association": "CONTRIBUTOR",
      "body": "Which is invalid point.",
      "user": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918247135",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918248201,
      "node_id": "IC_kwDOAP4Jqs42u1sJ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918248201",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:25:45Z",
      "updated_at": "2021-09-13T14:26:08Z",
      "author_association": "CONTRIBUTOR",
      "body": "> Upstream allows it because in Bitcoin Core's use there is no way to get an all-0s hash (though there almost was, and this would've made coins trivial to steal), and preventing this would greatly complicate the C API.\r\n\r\nby @apoelstra from https://github.com/rust-bitcoin/rust-secp256k1/pull/207#issuecomment-612685695 (\"upstream\" refers to this library) ",
      "user": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918248201",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "mentioned",
      "id": 5293363508,
      "node_id": "MEE_lADOAP4Jqs47TN_MzwAAAAE7glE0",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5293363508",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:25:46Z"
    },
    {
      "event": "subscribed",
      "id": 5293363518,
      "node_id": "SE_lADOAP4Jqs47TN_MzwAAAAE7glE-",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5293363518",
      "actor": {
        "login": "apoelstra",
        "id": 1351933,
        "node_id": "MDQ6VXNlcjEzNTE5MzM=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1351933?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/apoelstra",
        "html_url": "https://github.com/apoelstra",
        "followers_url": "https://api.github.com/users/apoelstra/followers",
        "following_url": "https://api.github.com/users/apoelstra/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/apoelstra/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/apoelstra/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/apoelstra/subscriptions",
        "organizations_url": "https://api.github.com/users/apoelstra/orgs",
        "repos_url": "https://api.github.com/users/apoelstra/repos",
        "events_url": "https://api.github.com/users/apoelstra/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/apoelstra/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:25:46Z"
    },
    {
      "event": "commented",
      "id": 918251730,
      "node_id": "IC_kwDOAP4Jqs42u2jS",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918251730",
      "actor": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:29:21Z",
      "updated_at": "2021-09-13T14:29:21Z",
      "author_association": "CONTRIBUTOR",
      "body": "@elichai \n\nAs for \"no way to get 0\": libsecp is used everywhere. Someone will pass all-0 forged hashes which were not generated with sha256.\n\nAs for \"complicate\": just check if the scalar is 0 and early-return false. ",
      "user": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918251730",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "mentioned",
      "id": 5293387858,
      "node_id": "MEE_lADOAP4Jqs47TN_MzwAAAAE7grBS",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5293387858",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:29:21Z"
    },
    {
      "event": "subscribed",
      "id": 5293387865,
      "node_id": "SE_lADOAP4Jqs47TN_MzwAAAAE7grBZ",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5293387865",
      "actor": {
        "login": "elichai",
        "id": 2167860,
        "node_id": "MDQ6VXNlcjIxNjc4NjA=",
        "avatar_url": "https://avatars.githubusercontent.com/u/2167860?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/elichai",
        "html_url": "https://github.com/elichai",
        "followers_url": "https://api.github.com/users/elichai/followers",
        "following_url": "https://api.github.com/users/elichai/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/elichai/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/elichai/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/elichai/subscriptions",
        "organizations_url": "https://api.github.com/users/elichai/orgs",
        "repos_url": "https://api.github.com/users/elichai/repos",
        "events_url": "https://api.github.com/users/elichai/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/elichai/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:29:21Z"
    },
    {
      "event": "commented",
      "id": 918259278,
      "node_id": "IC_kwDOAP4Jqs42u4ZO",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918259278",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:36:55Z",
      "updated_at": "2021-09-13T14:36:55Z",
      "author_association": "MEMBER",
      "body": "> Which is invalid point.\r\n\r\n\"invalid\" according to what definition? It's a perfectly valid `secp256k1_ge`. What's the attack you have in mind?",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918259278",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918266400,
      "node_id": "IC_kwDOAP4Jqs42u6Ig",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918266400",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:44:04Z",
      "updated_at": "2021-09-13T14:44:04Z",
      "author_association": "MEMBER",
      "body": "No, we're not going to change this.\n\n1) It violates the spec. It says nothing about rejecting hash=0, or why the point at infinity would be invalid as an intermediary result. It **is** invalid as a public key, but that doesn't apply here.\n2) It shouldn't matter. The hash has to be a hash in correct usage, and thus it won't ever be 0 (as that implies mounting a succesful preimage attack first).",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918266400",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918279068,
      "node_id": "IC_kwDOAP4Jqs42u9Oc",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918279068",
      "actor": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:57:37Z",
      "updated_at": "2021-09-13T14:57:37Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa so, do all ed25519 libraries violate its spec? By being more strict on signature malleability?",
      "user": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918279068",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "mentioned",
      "id": 5293580751,
      "node_id": "MEE_lADOAP4Jqs47TN_MzwAAAAE7haHP",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5293580751",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:57:38Z"
    },
    {
      "event": "subscribed",
      "id": 5293580754,
      "node_id": "SE_lADOAP4Jqs47TN_MzwAAAAE7haHS",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5293580754",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T14:57:38Z"
    },
    {
      "event": "commented",
      "id": 918282352,
      "node_id": "IC_kwDOAP4Jqs42u-Bw",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918282352",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T15:01:03Z",
      "updated_at": "2021-09-13T15:15:25Z",
      "author_association": "MEMBER",
      "body": "ed25519 is not ECDSA. I also don't see what this has to do with malleability. The libsecp256k1 API requires passing in the *hash* of the message. The probability that that hash is 0, is negligible.\n\nYou could argue that this is unsafe API design, and that libsecp256k1 should do the hashing for you, if you're concerned about someone using the API incorrectly. That'd be a reasonable point, but the solution isn't deviating from the spec.\n\nYou can also argue that the ECDSA spec is unsafe by permitting 0 (though I still don't see the actual attack). If that's the case, I'm afraid it is too late, as that's a discussion you should have had with the SECG when they wrote the spec.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918282352",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918354362,
      "node_id": "IC_kwDOAP4Jqs42vPm6",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918354362",
      "actor": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:16:07Z",
      "updated_at": "2021-09-13T16:16:07Z",
      "author_association": "CONTRIBUTOR",
      "body": "@sipa I was talking about ed25519 as an example. See this blog post: https://hdevalence.ca/blog/2020-10-04-its-25519am\nRFC8032 is not strict enough and it's pretty bad. Different implementations of ed25519 have different behavior in regard to strictness. So they all deviate from spec? But it's fine for ed25519, why it isn't ok for secp?\n\nYes, your thinking here matches mine -- it's unsafe API design, and since libsecp is embedded everywhere, in every language, someone will use the api incorrectly. \n\nMy point here is that it's probably the only public api part that allows user input to produce point at infinity. Has there been extensive testing done for this case? What about timing discrepancies? ",
      "user": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918354362",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "mentioned",
      "id": 5294087486,
      "node_id": "MEE_lADOAP4Jqs47TN_MzwAAAAE7jV0-",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5294087486",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:16:07Z"
    },
    {
      "event": "subscribed",
      "id": 5294087498,
      "node_id": "SE_lADOAP4Jqs47TN_MzwAAAAE7jV1K",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5294087498",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:16:07Z"
    },
    {
      "event": "commented",
      "id": 918366014,
      "node_id": "IC_kwDOAP4Jqs42vSc-",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918366014",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:30:10Z",
      "updated_at": "2021-09-13T16:33:03Z",
      "author_association": "MEMBER",
      "body": "> So they all deviate from spec? But it's fine for ed25519, why it isn't ok for secp?\r\n\r\nThis library is explicitly designed for consensus-critical applications, where exact behavior is paramount. Deviations can cause forks. I don't think that *this* change in particular would risk that, but still - I see absolutely no reason for deviating from (a) existing behavior and (b) the specification. The fact that ed25519 implementations differ in their behavior around edge cases is a problem for some of its use cases too.\r\n\r\n> and it's pretty bad.\r\n\r\nYes indeed. No reason to taking a bad approach because others do it too.\r\n\r\n> Yes, your thinking here matches mine -- it's unsafe API design, and since libsecp is embedded everywhere, in every language, someone will use the api incorrectly.\r\n\r\nThen the solution is changing the API to accept the full unhashed message, and performing the hashing inside the API. Not changing behavior by deviating from the spec.\r\n\r\n> My point here is that it's probably the only public api part that allows user input to produce point at infinity.\r\n\r\nThere are definitely other ways, like `secp256k1_ec_combine` with two complementary public keys, will cause a point at infinity to be computed internally.\r\n\r\nAlso, in the actual implementation, the msghash=0 case won't actually construct the point at infinity in general. The *u1G + u2Q* sum of multiplications is computed in a single operation, which doesn't actually evaluate both multiplications individually.\r\n\r\n> Has there been extensive testing done for this case?\r\n\r\nAdding the condition you suggest (failing verification if msghash=0) will cause our current tests to fail.\r\n\r\n> What about timing discrepancies?\r\n\r\nThis is a verification operation, where constant-timeness isn't a concern (there is no secret data involved that could be leaked).\r\n",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918366014",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918368376,
      "node_id": "IC_kwDOAP4Jqs42vTB4",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918368376",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:33:03Z",
      "updated_at": "2021-09-13T16:33:03Z",
      "author_association": "MEMBER",
      "body": "\r\n> Yes, your thinking here matches mine -- it's unsafe API design, and since libsecp is embedded everywhere, in every language, someone will use the api incorrectly.\r\n\r\nYeah, the API is not optimal. I don't think we'll change the API but we could add another cleaner API for ECDSA. I think that's a good idea. But we'll need someone to work on it.\r\n\r\n> My point here is that it's probably the only public api part that allows user input to produce point at infinity.\r\n\r\nThat's not true. A lot of computations start with accumulator initialized with the point at infinity, just because it's zero in the group.\r\n\r\n> Has there been extensive testing done for this case?\r\n\r\nYes.\r\n\r\n> What about timing discrepancies?\r\n\r\nVerification does not involve secrets, so this is not an issue. For secret computations, we have constant-time code that protect secrets.\r\n\r\nOf course there can be bugs, but shooting random questions in the dark here isn't really helpful. ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918368376",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918369793,
      "node_id": "IC_kwDOAP4Jqs42vTYB",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918369793",
      "actor": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:34:41Z",
      "updated_at": "2021-09-13T16:34:41Z",
      "author_association": "CONTRIBUTOR",
      "body": "Ed25519 is also used in consensus-critical applications, but I see your point. We can close this if you don't see the value I guess 🤷‍♂️",
      "user": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918369793",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918371725,
      "node_id": "IC_kwDOAP4Jqs42vT2N",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918371725",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:37:10Z",
      "updated_at": "2021-09-13T16:51:46Z",
      "author_association": "MEMBER",
      "body": "> Ed25519 is also used in consensus-critical applications, but I see your point. We can close this if you don't see the value I guess man_shrugging\r\n\r\nLet's leave it open as a reminder that we should change the API. (Allow me to update the title.) For historical context, one goal of the library was not to depend on SHA256 explicitly, so that's why an API with prehashed messages was chosen. Now we support two primitives that anyway depend on SHA256 (Schnorr sigs with a better API, no prehashed message) and ECDH with SHA256 in the code. So we're anyway committed to having SHA256 in the repo, and then we can design a better ECDSA API. ",
      "user": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918371725",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "renamed",
      "id": 5294205967,
      "node_id": "RTE_lADOAP4Jqs47TN_MzwAAAAE7jywP",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/events/5294205967",
      "actor": {
        "login": "real-or-random",
        "id": 1071625,
        "node_id": "MDQ6VXNlcjEwNzE2MjU=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1071625?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/real-or-random",
        "html_url": "https://github.com/real-or-random",
        "followers_url": "https://api.github.com/users/real-or-random/followers",
        "following_url": "https://api.github.com/users/real-or-random/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/real-or-random/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/real-or-random/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/real-or-random/subscriptions",
        "organizations_url": "https://api.github.com/users/real-or-random/orgs",
        "repos_url": "https://api.github.com/users/real-or-random/repos",
        "events_url": "https://api.github.com/users/real-or-random/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/real-or-random/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:37:43Z",
      "rename": {
        "from": "ECDSA verify accepts all-zero hash",
        "to": "New ECDSA API without prehashed messages"
      }
    },
    {
      "event": "commented",
      "id": 918373484,
      "node_id": "IC_kwDOAP4Jqs42vURs",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918373484",
      "actor": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:39:28Z",
      "updated_at": "2021-09-13T16:39:28Z",
      "author_association": "MEMBER",
      "body": "Note that Bitcoin's consensus rules rely on being able to set msghash=1 for pre-segwit transactions with SIGHASH_SINGLE set, for a txin index that doesn't have a corresponding txout index. That's dumb, and makes it insecure to use, but for better or worse it's part of the consensus rules, so at least that code path requires that an API with prehashed messages remains available.",
      "user": {
        "login": "sipa",
        "id": 548488,
        "node_id": "MDQ6VXNlcjU0ODQ4OA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/548488?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/sipa",
        "html_url": "https://github.com/sipa",
        "followers_url": "https://api.github.com/users/sipa/followers",
        "following_url": "https://api.github.com/users/sipa/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/sipa/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/sipa/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/sipa/subscriptions",
        "organizations_url": "https://api.github.com/users/sipa/orgs",
        "repos_url": "https://api.github.com/users/sipa/repos",
        "events_url": "https://api.github.com/users/sipa/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/sipa/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918373484",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    },
    {
      "event": "commented",
      "id": 918384662,
      "node_id": "IC_kwDOAP4Jqs42vXAW",
      "url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/comments/918384662",
      "actor": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "commit_id": null,
      "commit_url": null,
      "created_at": "2021-09-13T16:54:09Z",
      "updated_at": "2021-09-13T16:54:09Z",
      "author_association": "CONTRIBUTOR",
      "body": "After the api is live, I suggest to add a simple source code comment for all future maintainers and implementers who will want to rewrite the library in a different language; that signifies the need for the old api& risks.",
      "user": {
        "login": "paulmillr",
        "id": 574696,
        "node_id": "MDQ6VXNlcjU3NDY5Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/paulmillr",
        "html_url": "https://github.com/paulmillr",
        "followers_url": "https://api.github.com/users/paulmillr/followers",
        "following_url": "https://api.github.com/users/paulmillr/following%7B/other_user%7D",
        "gists_url": "https://api.github.com/users/paulmillr/gists%7B/gist_id%7D",
        "starred_url": "https://api.github.com/users/paulmillr/starred%7B/owner%7D%7B/repo%7D",
        "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
        "organizations_url": "https://api.github.com/users/paulmillr/orgs",
        "repos_url": "https://api.github.com/users/paulmillr/repos",
        "events_url": "https://api.github.com/users/paulmillr/events%7B/privacy%7D",
        "received_events_url": "https://api.github.com/users/paulmillr/received_events",
        "type": "User",
        "site_admin": false
      },
      "html_url": "https://github.com/bitcoin-core/secp256k1/issues/974#issuecomment-918384662",
      "issue_url": "https://api.github.com/repos/bitcoin-core/secp256k1/issues/974"
    }
  ]
}